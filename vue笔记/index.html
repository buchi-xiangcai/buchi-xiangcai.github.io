<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>vue基础 - 佳丽打怪升级</title><meta name="Description" content="打怪升级"><meta property="og:title" content="vue基础" />
<meta property="og:description" content="push() pop() shift() splice() sort() reverse() filter() push() 方法可向数组的末尾添加一个或多个元素，并返回新的长度。 1 2 3 4 5 6 7 8 9 10 11 new Vue({ data:{ arr: [&#39;苹果&#39;,&#39;香" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://example.org/vue%E7%AC%94%E8%AE%B0/" /><meta property="og:image" content="http://example.org/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-06T13:58:36+08:00" />
<meta property="article:modified_time" content="2023-03-06T13:58:36+08:00" /><meta property="og:site_name" content="打怪升级" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="http://example.org/logo.png"/>

<meta name="twitter:title" content="vue基础"/>
<meta name="twitter:description" content="push() pop() shift() splice() sort() reverse() filter() push() 方法可向数组的末尾添加一个或多个元素，并返回新的长度。 1 2 3 4 5 6 7 8 9 10 11 new Vue({ data:{ arr: [&#39;苹果&#39;,&#39;香"/>
<meta name="application-name" content="第二大脑">
<meta name="apple-mobile-web-app-title" content="第二大脑"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://example.org/vue%E7%AC%94%E8%AE%B0/" /><link rel="next" href="http://example.org/mac%E5%AE%89%E8%A3%85nvm/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "vue基础",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/example.org\/vue%E7%AC%94%E8%AE%B0\/"
        },"genre": "posts","keywords": "vue","wordcount":  30448 ,
        "url": "http:\/\/example.org\/vue%E7%AC%94%E8%AE%B0\/","datePublished": "2023-03-06T13:58:36+08:00","dateModified": "2023-03-06T13:58:36+08:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "佳丽"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="佳丽打怪升级">打怪升级</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="佳丽打怪升级">打怪升级</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content always-active" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">vue基础</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://github.com/buchi-xiangcai" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>佳丽</a></span>&nbsp;<span class="post-category">included in <a href="/categories/vue/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>vue</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2023-03-06">2023-03-06</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;30448 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;61 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#1-父-子">1. 父-&gt;子</a></li>
    <li><a href="#2-子-父">2. 子-&gt;父</a></li>
    <li><a href="#3非父子组件">3.非父子组件</a></li>
    <li><a href="#4-slot">4. slot</a></li>
    <li><a href="#5-获取组件元素refs">5. 获取组件/元素refs</a></li>
  </ul>

  <ul>
    <li><a href="#生命周期">生命周期</a></li>
  </ul>

  <ul>
    <li><a href="#router-view---router-link">router-view   router-link</a></li>
  </ul>

  <ul>
    <li><a href="#utilservicejs">util/service.js</a></li>
    <li><a href="#utilrequestjs">util/request.js</a></li>
  </ul>

  <ul>
    <li><a href="#vue3">vue3</a></li>
    <li><a href="#vue2">vue2</a></li>
  </ul>

  <ul>
    <li><a href="#vue3-1">vue3</a></li>
    <li><a href="#vue2-1">vue2</a></li>
  </ul>

  <ul>
    <li><a href="#21-state">2.1 State</a></li>
    <li><a href="#22-mutation">2.2 Mutation</a></li>
    <li><a href="#23-action">2.3 Action</a></li>
    <li><a href="#24-getter">2.4 Getter</a></li>
    <li><a href="#25-module">2.5 Module</a></li>
  </ul>

  <ul>
    <li><a href="#提供">提供</a></li>
    <li><a href="#应用级提供">应用级提供</a></li>
    <li><a href="#注入">注入</a>
      <ul>
        <li><a href="#注入默认值">注入默认值</a></li>
      </ul>
    </li>
    <li><a href="#使用反应性">使用反应性</a></li>
  </ul>

  <ul>
    <li><a href="#set">Set</a></li>
    <li><a href="#map">map</a></li>
    <li><a href="#总结-1">总结</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h1 id="push-pop-shift-splice-sort-reverse-filter">push() pop() shift() splice() sort() reverse() filter()</h1>
<ol>
<li>push() 方法可向数组的末尾添加一个或多个元素，并返回新的长度。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">new Vue({
</span></span><span class="line"><span class="cl">   		 data:{
</span></span><span class="line"><span class="cl">   			arr:  [&#39;苹果&#39;,&#39;香蕉&#39;,&#39;橙子&#39;]
</span></span><span class="line"><span class="cl">   		  },
</span></span><span class="line"><span class="cl">	     methods:{
</span></span><span class="line"><span class="cl">		    	addData(){
</span></span><span class="line"><span class="cl">		    		this.arr.push(&#34;石榴&#34;);
</span></span><span class="line"><span class="cl">		    	}
</span></span><span class="line"><span class="cl">	    	}
</span></span><span class="line"><span class="cl">	})
</span></span><span class="line"><span class="cl">console.log(arr) 苹果，香蕉，橙子，石榴
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>pop() 方法用于删除最后一位元素并返回数组的最后一个元素。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> new Vue({
</span></span><span class="line"><span class="cl">	 	 data:{
</span></span><span class="line"><span class="cl">	   		arr:  [&#39;苹果&#39;,&#39;香蕉&#39;,&#39;橙子&#39;]
</span></span><span class="line"><span class="cl">	     },
</span></span><span class="line"><span class="cl">	      methods:{
</span></span><span class="line"><span class="cl">		    	moveData(){
</span></span><span class="line"><span class="cl">		    		this.arr.pop();
</span></span><span class="line"><span class="cl">		    	}
</span></span><span class="line"><span class="cl">	    	}
</span></span><span class="line"><span class="cl">	})
</span></span><span class="line"><span class="cl">console.log(arr) 苹果，香蕉
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>shift() 方法用于把数组的第一个元素从其中删除，并返回第一个元素的值。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> new Vue({
</span></span><span class="line"><span class="cl">	      data:{
</span></span><span class="line"><span class="cl">	       		arr:  [&#39;苹果&#39;,&#39;香蕉&#39;,&#39;橙子&#39;]
</span></span><span class="line"><span class="cl">	         },
</span></span><span class="line"><span class="cl">          methods:{
</span></span><span class="line"><span class="cl">    	    	moveData(){
</span></span><span class="line"><span class="cl">    	    		this.arr.shift();
</span></span><span class="line"><span class="cl">    	    	}
</span></span><span class="line"><span class="cl">        	}
</span></span><span class="line"><span class="cl">	})
</span></span><span class="line"><span class="cl">console.log(arr) 香蕉，橙子
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>unshift() 方法可向数组的开头添加一个或更多元素，并返回新的长度.</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> new Vue({
</span></span><span class="line"><span class="cl">	      data:{
</span></span><span class="line"><span class="cl">	       		arr:  [&#39;苹果&#39;,&#39;香蕉&#39;,&#39;橙子&#39;]
</span></span><span class="line"><span class="cl">	         },
</span></span><span class="line"><span class="cl">          methods:{
</span></span><span class="line"><span class="cl">    	    	addData(){
</span></span><span class="line"><span class="cl">    	    		this.arr.unshift(&#34;石榴&#34;,&#34;枇杷&#34;);
</span></span><span class="line"><span class="cl">    	    	}
</span></span><span class="line"><span class="cl">        	}
</span></span><span class="line"><span class="cl">	})  
</span></span><span class="line"><span class="cl">石榴,枇杷,苹果，香蕉，橙子
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="5">
<li>
<p>splice() 方法向/从数组中添加/删除项目，然后返回被删除的项目。</p>
<p>splice(　index,　len,　[item]) 用来删除/替换/添加数组内某一个或者几个值（该方法会改变原始数组）。</p>
<p>参数：index：数组开始下标</p>
<p>len：替换/删除的长度</p>
<p>item：替换的值，删除操作的话item为空</p>
<p>删除：</p>
<p>//删除起始下标为1，长度为1的一个值（len设置1，如果为0，则数组不变）</p>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">例:splice(1);保留前一个元素之后的全部删除，splice(2);保留前两个元素之后的全部删除
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">let arr = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]
</span></span><span class="line"><span class="cl">arr.splice(2)
</span></span><span class="line"><span class="cl">console.log(arr) //[&#34;a&#34;, &#34;b&#34;]
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">例:splice(2, 1) 从索引位置(index:2)删除，删除一个元素
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">let arr = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]
</span></span><span class="line"><span class="cl">arr.splice(2, 1)
</span></span><span class="line"><span class="cl">console.log(arr) // [&#34;a&#34;, &#34;b&#34;, &#34;d&#34;]
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">例:splice(1,2,‘a’,‘b’) 从索引位置(index:1)删除，删除2个元素，并添加2个新元素来替代被删除的元素
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">let arr = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]
</span></span><span class="line"><span class="cl">arr.splice(1, 2, &#39;1&#39;, &#39;2&#39;)
</span></span><span class="line"><span class="cl">console.log(arr) // [&#34;a&#34;, &#34;1&#34;, &#34;2&#34;, &#34;d&#34;]
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> 删除
</span></span><span class="line"><span class="cl"> new Vue({
</span></span><span class="line"><span class="cl">		      data:{
</span></span><span class="line"><span class="cl">		       		arr:  [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;]
</span></span><span class="line"><span class="cl">		         },
</span></span><span class="line"><span class="cl">	          methods:{
</span></span><span class="line"><span class="cl">	    	    	moveData(){
</span></span><span class="line"><span class="cl">	    	    		this.arr.splice(1,1);
</span></span><span class="line"><span class="cl">	    	    	}
</span></span><span class="line"><span class="cl">	        	}
</span></span><span class="line"><span class="cl">    	})  
</span></span><span class="line"><span class="cl">    	
</span></span><span class="line"><span class="cl">【‘a’,‘c’,‘d’】
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> 替换
</span></span><span class="line"><span class="cl"> new Vue({
</span></span><span class="line"><span class="cl">		      data:{
</span></span><span class="line"><span class="cl">		       		arr:  [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;]
</span></span><span class="line"><span class="cl">		         },
</span></span><span class="line"><span class="cl">	          methods:{
</span></span><span class="line"><span class="cl">	    	    	replaceData(){
</span></span><span class="line"><span class="cl">	    	    		this.arr.splice(1,1,&#39;ttt&#39;);
</span></span><span class="line"><span class="cl">	    	    	}
</span></span><span class="line"><span class="cl">	        	}
</span></span><span class="line"><span class="cl">    	})  
</span></span><span class="line"><span class="cl">[‘a’,‘ttt’,‘c’,‘d’]
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">添加
</span></span><span class="line"><span class="cl">new Vue({
</span></span><span class="line"><span class="cl">		      data:{
</span></span><span class="line"><span class="cl">		       		arr:  [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;]
</span></span><span class="line"><span class="cl">		         },
</span></span><span class="line"><span class="cl">	          methods:{
</span></span><span class="line"><span class="cl">	    	    	addData(){
</span></span><span class="line"><span class="cl">	    	    		this.arr.splice(1,0,&#39;ttt&#39;);
</span></span><span class="line"><span class="cl">	    	    	}
</span></span><span class="line"><span class="cl">	        	}
</span></span><span class="line"><span class="cl">    	})   
</span></span><span class="line"><span class="cl">[‘a’,‘ttt’,‘b’,‘c’,‘d’]
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">例:splice(1,0,‘a’)从索引位置(index:1)添加，添加两个元素
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">let arr = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]
</span></span><span class="line"><span class="cl">arr.splice(1, 0, &#39;1&#39;, &#39;2&#39;)
</span></span><span class="line"><span class="cl">console.log(arr) // [&#34;a&#34;, &#34;1&#34;, &#34;2&#34;, &#34;b&#34;, &#34;c&#34;, &#34;d&#34;]
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="6">
<li>sort() 方法用于对数组的元素进行排序。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">new Vue({
</span></span><span class="line"><span class="cl">    		      data:{
</span></span><span class="line"><span class="cl">    		       		arr: [
</span></span><span class="line"><span class="cl">		                    {&#34;id&#34;:0,&#34;title&#34;:&#34;11111&#34;,&#34;cont&#34;:&#34;99999&#34;},
</span></span><span class="line"><span class="cl">		                    {&#34;id&#34;:1,&#34;title&#34;:&#34;22222&#34;,&#34;cont&#34;:&#34;22222&#34;},
</span></span><span class="line"><span class="cl">		                    {&#34;id&#34;:2,&#34;title&#34;:&#34;33333&#34;,&#34;cont&#34;:&#34;33333&#34;},
</span></span><span class="line"><span class="cl">		                ]
</span></span><span class="line"><span class="cl">		         },
</span></span><span class="line"><span class="cl">	          methods:{
</span></span><span class="line"><span class="cl">    	    	    	sortData(){
</span></span><span class="line"><span class="cl">							this.list.sort((a,b)=&gt;a.cont-b.cont);		
</span></span><span class="line"><span class="cl">					}
</span></span><span class="line"><span class="cl">	        	}
</span></span><span class="line"><span class="cl">    	})  
</span></span></code></pre></td></tr></table>
</div>
</div><img src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-24%2015.24.07.png" alt="截屏2023-02-24 15.24.07" style="zoom:50%;" />
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">大小排序
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">function sortNumber (a, b) {
</span></span><span class="line"><span class="cl">  return a - b
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">let arr = [10,5,40,25,1000,1]
</span></span><span class="line"><span class="cl">arr.sort(sortNumber)
</span></span><span class="line"><span class="cl">console.log(arr) // [1, 5, 10, 25, 40, 1000]
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="7">
<li>reverse() 方法用于颠倒数组中元素的顺序。</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">new Vue({
</span></span><span class="line"><span class="cl">    		      data:{
</span></span><span class="line"><span class="cl">    		       		arr: [
</span></span><span class="line"><span class="cl">		                    {&#34;id&#34;:0,&#34;title&#34;:&#34;11111&#34;,&#34;cont&#34;:&#34;99999&#34;},
</span></span><span class="line"><span class="cl">		                    {&#34;id&#34;:1,&#34;title&#34;:&#34;22222&#34;,&#34;cont&#34;:&#34;22222&#34;},
</span></span><span class="line"><span class="cl">		                    {&#34;id&#34;:2,&#34;title&#34;:&#34;33333&#34;,&#34;cont&#34;:&#34;33333&#34;},
</span></span><span class="line"><span class="cl">		                    {&#34;id&#34;:3,&#34;title&#34;:&#34;44444&#34;,&#34;cont&#34;:&#34;44444&#34;},
</span></span><span class="line"><span class="cl">		                    {&#34;id&#34;:4,&#34;title&#34;:&#34;55555&#34;,&#34;cont&#34;:&#34;55555&#34;},
</span></span><span class="line"><span class="cl">		                    {&#34;id&#34;:5,&#34;title&#34;:&#34;66666&#34;,&#34;cont&#34;:&#34;66666&#34;},
</span></span><span class="line"><span class="cl">		                    {&#34;id&#34;:6,&#34;title&#34;:&#34;77777&#34;,&#34;cont&#34;:&#34;77777&#34;},
</span></span><span class="line"><span class="cl">		                    {&#34;id&#34;:7,&#34;title&#34;:&#34;77777&#34;,&#34;cont&#34;:&#34;88888&#34;}
</span></span><span class="line"><span class="cl">		         
</span></span><span class="line"><span class="cl">		                ]
</span></span><span class="line"><span class="cl">		         },
</span></span><span class="line"><span class="cl">	          methods:{
</span></span><span class="line"><span class="cl">    	    	    	reverserData(){
</span></span><span class="line"><span class="cl">							this.list.reverse();
</span></span><span class="line"><span class="cl">						}
</span></span><span class="line"><span class="cl">	        	}
</span></span><span class="line"><span class="cl">    	})  
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-24%2015.24.43.png"
        data-srcset="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-24%2015.24.43.png, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-24%2015.24.43.png 1.5x, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-24%2015.24.43.png 2x"
        data-sizes="auto"
        alt="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-24%2015.24.43.png"
        title="截屏2023-02-24 15.24.43" /></p>
<p>替换数组
filter() 方法创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> &lt;el-input placeholder=&#34;输入关键字进行过滤&#34; v-model=&#34;filterText&#34;&gt;
</span></span><span class="line"><span class="cl"> &lt;el-tree
</span></span><span class="line"><span class="cl">          :data=&#34;treeData&#34;
</span></span><span class="line"><span class="cl">          :props=&#34;defaultProps&#34;
</span></span><span class="line"><span class="cl">          default-expand-all
</span></span><span class="line"><span class="cl">          ref=&#34;tree&#34;
</span></span><span class="line"><span class="cl">          @node-click=&#34;handleNodeClick&#34;
</span></span><span class="line"><span class="cl">          :filter-node-method=&#34;filterNode&#34;
</span></span><span class="line"><span class="cl">          class=&#34;text_2&#34;
</span></span><span class="line"><span class="cl">        &gt;
</span></span><span class="line"><span class="cl">&lt;/el-tree&gt;
</span></span><span class="line"><span class="cl">filterText: &#34;&#34;,
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"> watch: {
</span></span><span class="line"><span class="cl">    filterText(val) {
</span></span><span class="line"><span class="cl">      this.$refs.tree.filter(val);
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">  },
</span></span></code></pre></td></tr></table>
</div>
</div><p>concat() 方法用于连接两个或多个数组。</p>
<p>split() 方法用于把一个字符串分割成字符串数组。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> &lt;div&gt;{{ tips }} 反转的结果是：{{ tips.split(&#39;&#39;).reverse().join(&#39;&#39;) }}&lt;/div&gt;
</span></span><span class="line"><span class="cl"> data: {
</span></span><span class="line"><span class="cl">        tips: &#39;请输入用户名&#39;,
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">      
</span></span><span class="line"><span class="cl">      //名户用入输请
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="v-html-v-text">v-html v-text</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;body&gt;
</span></span><span class="line"><span class="cl">    &lt;div id=&#34;div&#34;&gt;
</span></span><span class="line"><span class="cl">	    &lt;!--示例：使用3种方式设置span标签体的内容--&gt;
</span></span><span class="line"><span class="cl">        &lt;div&gt;方式1：&lt;span&gt;{{msg}}&lt;/span&gt;&lt;/div&gt;
</span></span><span class="line"><span class="cl">        &lt;div&gt;方式2：&lt;span v-text=&#34;msg&#34;&gt;&lt;/span&gt;&lt;/div&gt;
</span></span><span class="line"><span class="cl">        &lt;div&gt;方式3：&lt;span v-html=&#34;msg&#34;&gt;&lt;/span&gt;&lt;/div&gt;
</span></span><span class="line"><span class="cl">    &lt;/div&gt;
</span></span><span class="line"><span class="cl">&lt;/body&gt;
</span></span><span class="line"><span class="cl">&lt;script src=&#34;js/vue.js&#34;&gt;&lt;/script&gt;
</span></span><span class="line"><span class="cl">&lt;script&gt;
</span></span><span class="line"><span class="cl">    //目标：给视图标签体绑定数据
</span></span><span class="line"><span class="cl">    //方式1：{{变量名}} 插入值表达式，标签体绑定文本字符串，类似于innerText的功能
</span></span><span class="line"><span class="cl">    //方式2：v-text=&#34;变量名&#34;，与{{变量名}}功能一样
</span></span><span class="line"><span class="cl">    //方式3：v-html=&#34;变量名&#34;，标签体绑定html代码字符串，类似于innerHTML的功能
</span></span><span class="line"><span class="cl">    //       v-html 或 v-text 都是设置在视图标签的属性位置
</span></span><span class="line"><span class="cl">    new Vue({
</span></span><span class="line"><span class="cl">        el:&#34;#div&#34;,
</span></span><span class="line"><span class="cl">        data:{
</span></span><span class="line"><span class="cl">            msg:&#34;&lt;h1&gt;Hello Vue&lt;/h1&gt;&#34;
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    });
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;body&gt;
</span></span><span class="line"><span class="cl">  &lt;!-- 希望 Vue 能够控制下面的这个 div，帮我们在把数据填充到 div 内部 --&gt;
</span></span><span class="line"><span class="cl">  &lt;div id=&#34;app&#34;&gt;
</span></span><span class="line"><span class="cl">    &lt;p v-text=&#34;username&#34;&gt;&lt;/p&gt;
</span></span><span class="line"><span class="cl">    &lt;p v-text=&#34;gender&#34;&gt;性别：&lt;/p&gt;
</span></span><span class="line"><span class="cl">    &lt;hr&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    &lt;p&gt;姓名：{{ username }}&lt;/p&gt;
</span></span><span class="line"><span class="cl">    &lt;p&gt;性别：{{ gender }}&lt;/p&gt;
</span></span><span class="line"><span class="cl">    &lt;hr&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    &lt;div v-text=&#34;info&#34;&gt;&lt;/div&gt;
</span></span><span class="line"><span class="cl">    &lt;div&gt;{{ info }}&lt;/div&gt;
</span></span><span class="line"><span class="cl">    &lt;div v-html=&#34;info&#34;&gt;&lt;/div&gt;
</span></span><span class="line"><span class="cl">  &lt;/div&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  &lt;!-- 1. 导入 Vue 的库文件，在 window 全局就有了 Vue 这个构造函数 --&gt;
</span></span><span class="line"><span class="cl">  &lt;script src=&#34;./lib/vue-2.6.12.js&#34;&gt;&lt;/script&gt;
</span></span><span class="line"><span class="cl">  &lt;!-- 2. 创建 Vue 的实例对象 --&gt;
</span></span><span class="line"><span class="cl">  &lt;script&gt;
</span></span><span class="line"><span class="cl">    // 创建 Vue 的实例对象
</span></span><span class="line"><span class="cl">    const vm = new Vue({
</span></span><span class="line"><span class="cl">      // el 属性是固定的写法，表示当前 vm 实例要控制页面上的哪个区域，接收的值是一个选择器
</span></span><span class="line"><span class="cl">      el: &#39;#app&#39;,
</span></span><span class="line"><span class="cl">      // data 对象就是要渲染到页面上的数据
</span></span><span class="line"><span class="cl">      data: {
</span></span><span class="line"><span class="cl">        username: &#39;zhangsan&#39;,
</span></span><span class="line"><span class="cl">        gender: &#39;女&#39;,
</span></span><span class="line"><span class="cl">        info: &#39;&lt;h4 style=&#34;color: red; font-weight: bold;&#34;&gt;欢迎大家来学习 vue.js&lt;/h4&gt;&#39;
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">  &lt;/script&gt;
</span></span><span class="line"><span class="cl">&lt;/body&gt;
</span></span><span class="line"><span class="cl">&lt;/html&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-24%2014.53.46.png"
        data-srcset="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-24%2014.53.46.png, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-24%2014.53.46.png 1.5x, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-24%2014.53.46.png 2x"
        data-sizes="auto"
        alt="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-24%2014.53.46.png"
        title="截屏2023-02-24 14.53.46" /></p>
<p><a href="https://blog.csdn.net/weixin_30516243/article/details/102324037" target="_blank" rel="noopener noreffer ">https://blog.csdn.net/weixin_30516243/article/details/102324037</a></p>
<h1 id="属性绑定组件-v-bind-">属性绑定组件 v-bind :</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;body&gt;
</span></span><span class="line"><span class="cl">    &lt;div id=&#34;div&#34;&gt;
</span></span><span class="line"><span class="cl">        &lt;!--
</span></span><span class="line"><span class="cl">            注意：插件表达式不能写在属性中，。例如： &lt;标签 属性名=&#34;{{变量名}}&#34;&gt; 
</span></span><span class="line"><span class="cl">			示例1：使用插入值表达式设置a标签的href属性绑定模型数据url，测试插入值表达式在属性值中是否有效
</span></span><span class="line"><span class="cl">        --&gt;
</span></span><span class="line"><span class="cl">        &lt;a href=&#34;{{url}}&#34;&gt;百度一下&lt;/a&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        &lt;br&gt;
</span></span><span class="line"><span class="cl">        &lt;!--
</span></span><span class="line"><span class="cl">            示例2：使用完整模式（&lt;标签 v-bind:属性名=&#34;变量名&#34;&gt;）给href属性绑定模型数据url
</span></span><span class="line"><span class="cl">        --&gt;
</span></span><span class="line"><span class="cl">        &lt;a v-bind:href=&#34;url&#34;&gt;百度一下&lt;/a&gt;
</span></span><span class="line"><span class="cl">        &lt;br&gt;
</span></span><span class="line"><span class="cl">        &lt;!--
</span></span><span class="line"><span class="cl">            示例3：使用简化模式（&lt;标签 :属性名=&#34;变量名&#34;&gt;）给href属性绑定模型数据url
</span></span><span class="line"><span class="cl">        --&gt;
</span></span><span class="line"><span class="cl">        &lt;a :href=&#34;url&#34;&gt;百度一下&lt;/a&gt;
</span></span><span class="line"><span class="cl">        &lt;br&gt;
</span></span><span class="line"><span class="cl">        &lt;!--
</span></span><span class="line"><span class="cl">            示例4：使用简化模式给class属性绑定模型数据cls
</span></span><span class="line"><span class="cl">        --&gt;
</span></span><span class="line"><span class="cl">        &lt;div :class=&#34;cls&#34;&gt;我是div&lt;/div&gt;
</span></span><span class="line"><span class="cl">    &lt;/div&gt;
</span></span><span class="line"><span class="cl">&lt;/body&gt;
</span></span><span class="line"><span class="cl">&lt;script src=&#34;js/vue.js&#34;&gt;&lt;/script&gt;
</span></span><span class="line"><span class="cl">&lt;script&gt;
</span></span><span class="line"><span class="cl">    /*
</span></span><span class="line"><span class="cl">    * 目标：使用vue中指令v-bind给标签属性绑定数据
</span></span><span class="line"><span class="cl">    * 语法1：完整模式
</span></span><span class="line"><span class="cl">    *       &lt;标签 v-bind:属性名=&#34;变量名&#34;&gt;
</span></span><span class="line"><span class="cl">    * 语法2：简化模式
</span></span><span class="line"><span class="cl">    *       &lt;标签 :属性名=&#34;变量名&#34;&gt;   //v-bind可以省略
</span></span><span class="line"><span class="cl">    * 注意： &lt;标签 属性名=&#34;{{变量名}}&#34;&gt; 这是不可以的，插入值表达式{{变量名}} 只能放在标签体内
</span></span><span class="line"><span class="cl">    * */
</span></span><span class="line"><span class="cl">    new Vue({
</span></span><span class="line"><span class="cl">        el:&#34;#div&#34;,
</span></span><span class="line"><span class="cl">        data:{
</span></span><span class="line"><span class="cl">            url:&#34;https://www.baidu.com&#34;,
</span></span><span class="line"><span class="cl">            cls:&#34;my&#34;
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    });
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">2、v-bind动态绑定class（对象）
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">&lt;div id=&#34;app&#34;&gt;
</span></span><span class="line"><span class="cl">      &lt;!--第一个class没有使用动态绑定，则不能直接删除，两个class会合并处理--&gt;
</span></span><span class="line"><span class="cl">    &lt;h2 class=&#34;NotChange&#34; :class=&#34;{active:  isActive,line: isLine}&#34;&gt;{{message}}&lt;/h2&gt;
</span></span><span class="line"><span class="cl">    &lt;button @click=&#34;changeColor&#34;&gt;点击变色&lt;/button&gt;
</span></span><span class="line"><span class="cl">&lt;/div&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> data: {
</span></span><span class="line"><span class="cl">        message: &#39;hello World!&#39;,
</span></span><span class="line"><span class="cl">        isActive: true,
</span></span><span class="line"><span class="cl">        isLine: true
</span></span><span class="line"><span class="cl">      },
</span></span><span class="line"><span class="cl">      methods: {
</span></span><span class="line"><span class="cl">        changeColor:  function(){
</span></span><span class="line"><span class="cl">          this.isActive = !this.isActive;
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">      }      
</span></span><span class="line"><span class="cl"> &lt;style&gt;
</span></span><span class="line"><span class="cl">    .active{
</span></span><span class="line"><span class="cl">      color: red;
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">  &lt;/style&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">3、v-bind动态绑定class（数组）
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">使用[类名A，类名B]传入多个类名。
</span></span><span class="line"><span class="cl">使用[‘字符串A’，‘字符串B’]传入多个字符串。
</span></span><span class="line"><span class="cl">在methods内使用getClasses()返回上述两种。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> &lt;div id=&#34;app&#34;&gt;
</span></span><span class="line"><span class="cl">    &lt;h2 class=&#34;NotChange&#34; :class=&#34;[&#39;active&#39;,&#39;line&#39;]&#34;&gt;{{message}}&lt;/h2&gt;
</span></span><span class="line"><span class="cl">    &lt;h2 class=&#34;NotChange&#34; :class=&#34;[isActive,isLine]&#34;&gt;{{message}}&lt;/h2&gt;
</span></span><span class="line"><span class="cl">    &lt;h2 class=&#34;NotChange&#34; :class=&#34;getClasses()&#34;&gt;{{message}}&lt;/h2&gt;
</span></span><span class="line"><span class="cl">    &lt;button @click=&#34;changeColor&#34;&gt;点击变色&lt;/button&gt;
</span></span><span class="line"><span class="cl">  &lt;/div&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  &lt;script&gt;
</span></span><span class="line"><span class="cl">    const app = new Vue({
</span></span><span class="line"><span class="cl">      el: &#39;#app&#39;,
</span></span><span class="line"><span class="cl">      data: {
</span></span><span class="line"><span class="cl">        message: &#39;hello World!&#39;,
</span></span><span class="line"><span class="cl">        isActive: &#39;active&#39;,
</span></span><span class="line"><span class="cl">        isLine: &#39;line&#39;
</span></span><span class="line"><span class="cl">      },
</span></span><span class="line"><span class="cl">      methods: {
</span></span><span class="line"><span class="cl">        changeColor:  function(){
</span></span><span class="line"><span class="cl">          this.isActive = !this.isActive;
</span></span><span class="line"><span class="cl">        },getClasses: function(){
</span></span><span class="line"><span class="cl">          return [this.isActive,this.isLine];
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">    });
</span></span><span class="line"><span class="cl">  &lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">v-bind动态绑定style（对象）
</span></span><span class="line"><span class="cl">使用方式为{key(属性名),value(值)}
</span></span><span class="line"><span class="cl">key可以使用驼峰命名法(font-size==&gt;fontSize)，不使用则需要加上单引号，否则 - 会转义。
</span></span><span class="line"><span class="cl">可以将动态style抽离，使用一个方法返回。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   &lt;div id=&#34;app&#34;&gt;
</span></span><span class="line"><span class="cl">      &lt;!-- &lt;h2 :style=&#34;{fontSize:finalSize,color:finalColor}&#34;&gt;{{message}}&lt;/h2&gt; --&gt;
</span></span><span class="line"><span class="cl">      &lt;h2 :style=&#34;{fontSize:finalSize + &#39;px&#39;,color:finalColor}&#34;&gt;{{message}}&lt;/h2&gt;
</span></span><span class="line"><span class="cl">      &lt;h2 :style=&#34;{&#39;font-size&#39;:finalSize + &#39;px&#39;,color:finalColor}&#34;&gt;{{message}}&lt;/h2&gt;
</span></span><span class="line"><span class="cl">      &lt;h2 :style=&#34;getStyle()&#34;&gt;{{message}}&lt;/h2&gt;
</span></span><span class="line"><span class="cl">    &lt;/div&gt;
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">    &lt;script&gt;
</span></span><span class="line"><span class="cl">      let vm = new Vue({
</span></span><span class="line"><span class="cl">        el: &#39;#app&#39;,
</span></span><span class="line"><span class="cl">        data: {
</span></span><span class="line"><span class="cl">          message:  &#39;你好世界！&#39;,
</span></span><span class="line"><span class="cl">          // finalSize:&#39;50px&#39;,
</span></span><span class="line"><span class="cl">          finalSize:50,
</span></span><span class="line"><span class="cl">          finalColor:&#39;yellow&#39;,
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        methods: {
</span></span><span class="line"><span class="cl">          getStyle:function(){
</span></span><span class="line"><span class="cl">            return {&#39;font-size&#39;:this.finalSize + &#39;px&#39;,color:this.finalColor};
</span></span><span class="line"><span class="cl">          }
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">      });
</span></span><span class="line"><span class="cl">    &lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2010.53.41.png"
        data-srcset="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2010.53.41.png, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2010.53.41.png 1.5x, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2010.53.41.png 2x"
        data-sizes="auto"
        alt="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2010.53.41.png"
        title="截屏2023-02-27 10.53.41" /></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">5、v-bind动态绑定style（数组）
</span></span><span class="line"><span class="cl">多个对象的集合
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    &lt;div id=&#34;app&#34;&gt;
</span></span><span class="line"><span class="cl">      &lt;h2 :style=&#34;[style1,style2]&#34;&gt;{{message}}&lt;/h2&gt;
</span></span><span class="line"><span class="cl">    &lt;/div&gt;
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">    &lt;script&gt;
</span></span><span class="line"><span class="cl">      let vm = new Vue({
</span></span><span class="line"><span class="cl">        el: &#39;#app&#39;,
</span></span><span class="line"><span class="cl">        data: {
</span></span><span class="line"><span class="cl">          message:  &#39;你好&#39;,
</span></span><span class="line"><span class="cl">          style1:{fontSize:&#39;40px&#39;},
</span></span><span class="line"><span class="cl">          style2:{backgroundColor:&#39;green&#39;}
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        methods: {}
</span></span><span class="line"><span class="cl">      });
</span></span><span class="line"><span class="cl">    &lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2010.54.21.png"
        data-srcset="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2010.54.21.png, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2010.54.21.png 1.5x, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2010.54.21.png 2x"
        data-sizes="auto"
        alt="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2010.54.21.png"
        title="截屏2023-02-27 10.54.21" /></p>
<h1 id="v-if-条件渲染-v-show">V-if 条件渲染 v-show</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;body&gt;
</span></span><span class="line"><span class="cl">    &lt;div id=&#34;div&#34;&gt;
</span></span><span class="line"><span class="cl">        &lt;!--
</span></span><span class="line"><span class="cl">		示例1：使用v-if控制div标签是否显示
</span></span><span class="line"><span class="cl">		    判断num的值，对3取余
</span></span><span class="line"><span class="cl">            余数为0显示div1
</span></span><span class="line"><span class="cl">            余数为1显示div2
</span></span><span class="line"><span class="cl">            余数为2显示div3 --&gt;
</span></span><span class="line"><span class="cl">        &lt;div v-if=&#34;num%3==0&#34;&gt;div1&lt;/div&gt;
</span></span><span class="line"><span class="cl">        &lt;div v-else-if=&#34;num%3==1&#34;&gt;div2&lt;/div&gt;
</span></span><span class="line"><span class="cl">        &lt;div v-else&gt;div3&lt;/div&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        &lt;!--
</span></span><span class="line"><span class="cl">        示例2：使用v-show控制div显示与隐藏
</span></span><span class="line"><span class="cl">        --&gt;
</span></span><span class="line"><span class="cl">        &lt;div v-show=&#34;flag&#34;&gt;div4&lt;/div&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    &lt;/div&gt;
</span></span><span class="line"><span class="cl">&lt;/body&gt;
</span></span><span class="line"><span class="cl">&lt;script src=&#34;js/vue.js&#34;&gt;&lt;/script&gt;
</span></span><span class="line"><span class="cl">&lt;script&gt;
</span></span><span class="line"><span class="cl">    /*
</span></span><span class="line"><span class="cl">    * 目标：讲解if条件表达式
</span></span><span class="line"><span class="cl">    * if语法：
</span></span><span class="line"><span class="cl">    *   &lt;标签名 v-if=&#34;条件&#34;&gt;标签体&lt;/标签名&gt;  条件成立标签存在，否则整个标签会被删除
</span></span><span class="line"><span class="cl">    *   &lt;标签名 v-else-if=&#34;条件&#34;&gt;标签体&lt;/标签名&gt;  条件成立标签存在，否则整个标签会被删除
</span></span><span class="line"><span class="cl">    *   &lt;标签名 v-else=&#34;条件&#34;&gt;标签体&lt;/标签名&gt;  上面的条件都不成立就会这个成立，这个标签就会存在，否则整个标签会被删除
</span></span><span class="line"><span class="cl">	* show语法：      
</span></span><span class="line"><span class="cl">	*	&lt;标签名 v-show=&#34;true&#34;&gt;标签体&lt;/标签名&gt;  设置标签显示
</span></span><span class="line"><span class="cl">    *    &lt;标签名 v-show=&#34;false&#34;&gt;标签体&lt;/标签名&gt; 设置标签不显示
</span></span><span class="line"><span class="cl">	*	
</span></span><span class="line"><span class="cl">    * v-if与v-show区别：
</span></span><span class="line"><span class="cl">	*	相同点：都是控制元素是否显示
</span></span><span class="line"><span class="cl">	*	不同点：底层原理不一样
</span></span><span class="line"><span class="cl">	*		v-if 如果条件为false，页面中根本没有这个元素
</span></span><span class="line"><span class="cl">	*		v-show如果条件为false，页面中有这个元素只不过它的display属性值为none
</span></span><span class="line"><span class="cl">    * */
</span></span><span class="line"><span class="cl">    new Vue({
</span></span><span class="line"><span class="cl">        el:&#34;#div&#34;,
</span></span><span class="line"><span class="cl">        data:{
</span></span><span class="line"><span class="cl">            num:1,
</span></span><span class="line"><span class="cl">           flag:true
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    });
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> &lt;div v-if=&#34;type === &#39;A&#39;&#34;&gt;优秀&lt;/div&gt;
</span></span><span class="line"><span class="cl">    &lt;div v-else-if=&#34;type === &#39;B&#39;&#34;&gt;良好&lt;/div&gt;
</span></span><span class="line"><span class="cl">    &lt;div v-else-if=&#34;type === &#39;C&#39;&#34;&gt;一般&lt;/div&gt;
</span></span><span class="line"><span class="cl">    &lt;div v-else&gt;差&lt;/div&gt;
</span></span><span class="line"><span class="cl">data: {
</span></span><span class="line"><span class="cl">        type: &#39;A&#39;
</span></span><span class="line"><span class="cl">      }
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="v-for-列表渲染">v-for 列表渲染</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span><span class="lnt">86
</span><span class="lnt">87
</span><span class="lnt">88
</span><span class="lnt">89
</span><span class="lnt">90
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;div id=&#34;div&#34;&gt;
</span></span><span class="line"><span class="cl">    &lt;ul&gt;
</span></span><span class="line"><span class="cl">         &lt;!--
</span></span><span class="line"><span class="cl">          v-for：列表渲染，遍历容器的元素或者对象的属性。
</span></span><span class="line"><span class="cl">          【环展现数据方式1：遍历数组】
</span></span><span class="line"><span class="cl">          语法：&lt;标签名 v-for=&#34;element in 数组&#34;&gt;{{element}}&lt;/标签名&gt;
</span></span><span class="line"><span class="cl">               element含义：遍历的数组中每个元素对象
</span></span><span class="line"><span class="cl">          含义：控制当前标签进行循环展现数据
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          示例：遍历的数组：names:[&#34;张三&#34;,&#34;李四&#34;,&#34;王五&#34;]，输出打印格式：姓名：xxx
</span></span><span class="line"><span class="cl">         --&gt;
</span></span><span class="line"><span class="cl">        &lt;li v-for=&#34;name in names&#34;&gt;
</span></span><span class="line"><span class="cl">            元素:{{name}}
</span></span><span class="line"><span class="cl">        &lt;/li&gt;
</span></span><span class="line"><span class="cl">		
</span></span><span class="line"><span class="cl">		&lt;hr&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        &lt;!--
</span></span><span class="line"><span class="cl">        【环展现数据方式2：遍历普通对象的属性值】
</span></span><span class="line"><span class="cl">          语法：&lt;标签名 v-for=&#34;element in 对象&#34;&gt;{{element}}&lt;/标签名&gt;
</span></span><span class="line"><span class="cl">          	&lt;标签名 v-for=&#34;(value,key,index) in 对象&#34;&gt;{{element}}&lt;/标签名&gt;
</span></span><span class="line"><span class="cl">               element含义：遍历对象中每个属性的对应值
</span></span><span class="line"><span class="cl">          示例：遍历的对象：student:{name:&#34;张三&#34;, age:23},输出打印格式：属性值：张三等
</span></span><span class="line"><span class="cl">        --&gt;
</span></span><span class="line"><span class="cl">        &lt;li v-for=&#34;(value,key,index) in student&#34;&gt;
</span></span><span class="line"><span class="cl">            {{key}}:{{value}}:{{index}}
</span></span><span class="line"><span class="cl">        &lt;/li&gt;
</span></span><span class="line"><span class="cl">		&lt;hr&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        &lt;!--
</span></span><span class="line"><span class="cl">         【环展现数据方式3：遍历数组带有循环索引】
</span></span><span class="line"><span class="cl">         语法：&lt;标签名 v-for=&#34;(element,i) in 数组&#34;&gt;{{element}}&lt;/标签名&gt;
</span></span><span class="line"><span class="cl">              element含义：遍历的数组中每个元素对象
</span></span><span class="line"><span class="cl">              i含义：循环的索引
</span></span><span class="line"><span class="cl">         示例：遍历的数组：names:[&#34;张三&#34;,&#34;李四&#34;,&#34;王五&#34;]，输出打印格式：姓名0：张三等
</span></span><span class="line"><span class="cl">        --&gt;
</span></span><span class="line"><span class="cl">        &lt;li v-for=&#34;(name,i) in names&#34;&gt;
</span></span><span class="line"><span class="cl">            元素{{i}}:{{name}}
</span></span><span class="line"><span class="cl">        &lt;/li&gt;
</span></span><span class="line"><span class="cl">		 &lt;hr&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        &lt;!--
</span></span><span class="line"><span class="cl">        【环展现数据方式4：使用slice遍历数组部分元素循环】
</span></span><span class="line"><span class="cl">        语法：&lt;标签名 v-for=&#34;element in 数组.slice(索引开始值,索引结束值)&#34;&gt;{{element}}&lt;/标签名&gt;
</span></span><span class="line"><span class="cl">             element含义：遍历的数组中每个元素对象
</span></span><span class="line"><span class="cl">        遍历的数组：names:[&#34;张三&#34;,&#34;李四&#34;,&#34;王五&#34;]
</span></span><span class="line"><span class="cl">        示例：遍历数组从第0个位置开始，到索引结束值（不包含索引结束值）
</span></span><span class="line"><span class="cl">       --&gt;
</span></span><span class="line"><span class="cl">        &lt;li v-for=&#34;name in names.slice(0,2)&#34;&gt;
</span></span><span class="line"><span class="cl">            元素:{{name}}
</span></span><span class="line"><span class="cl">        &lt;/li&gt;
</span></span><span class="line"><span class="cl">	    &lt;hr&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        &lt;!--
</span></span><span class="line"><span class="cl">       【环展现数据方式5：使用if遍历数组部分元素循环】
</span></span><span class="line"><span class="cl">       语法：&lt;标签名 v-for=&#34;(element,i) in 数组&#34; v-if=&#34;控制i的值表达式&#34;&gt;{{element}}&lt;/标签名&gt;
</span></span><span class="line"><span class="cl">       遍历的数组：names:[&#34;张三&#34;,&#34;李四&#34;,&#34;王五&#34;]
</span></span><span class="line"><span class="cl">       示例：遍历数组前2个元素
</span></span><span class="line"><span class="cl">      --&gt;
</span></span><span class="line"><span class="cl">        &lt;li v-for=&#34;(name,i) in names&#34; v-if=&#34;i&lt;2&#34;&gt;
</span></span><span class="line"><span class="cl">            元素{{i}}:{{name}}
</span></span><span class="line"><span class="cl">        &lt;/li&gt;
</span></span><span class="line"><span class="cl">	   &lt;hr&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        &lt;!--
</span></span><span class="line"><span class="cl">         【环展现数据方式6：控制次数循环】
</span></span><span class="line"><span class="cl">       语法：&lt;标签名 v-for=&#34;num in count&#34;&gt;{{num}}&lt;/标签名&gt;
</span></span><span class="line"><span class="cl">       示例：输出5遍hello world
</span></span><span class="line"><span class="cl">      --&gt;
</span></span><span class="line"><span class="cl">	  &lt;span v-for=&#34;num in 5&#34;&gt;
</span></span><span class="line"><span class="cl">          hello
</span></span><span class="line"><span class="cl">      &lt;/span&gt;
</span></span><span class="line"><span class="cl">	  &lt;hr&gt;
</span></span><span class="line"><span class="cl">    &lt;/ul&gt;
</span></span><span class="line"><span class="cl">&lt;/div&gt;
</span></span><span class="line"><span class="cl">&lt;/body&gt;
</span></span><span class="line"><span class="cl">&lt;script src=&#34;js/vue.js&#34;&gt;&lt;/script&gt;
</span></span><span class="line"><span class="cl">&lt;script&gt;
</span></span><span class="line"><span class="cl">    new Vue({
</span></span><span class="line"><span class="cl">        el:&#34;#div&#34;,
</span></span><span class="line"><span class="cl">        data:{
</span></span><span class="line"><span class="cl">            names:[&#34;张三&#34;,&#34;李四&#34;,&#34;王五&#34;],
</span></span><span class="line"><span class="cl">            student:{
</span></span><span class="line"><span class="cl">                name:&#34;张三&#34;,
</span></span><span class="line"><span class="cl">                age:23
</span></span><span class="line"><span class="cl">            }
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    });
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="v-on-事件绑定">v-on 事件绑定</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;body&gt;
</span></span><span class="line"><span class="cl">    &lt;div id=&#34;div&#34;&gt;
</span></span><span class="line"><span class="cl">        &lt;div&gt;{{name}}&lt;/div&gt;
</span></span><span class="line"><span class="cl">		&lt;!--老方式绑定事件【了解】--&gt;
</span></span><span class="line"><span class="cl">        &lt;button onclick=&#34;demo()&#34;&gt;单击_改变div的内容&lt;/button&gt;
</span></span><span class="line"><span class="cl">        &lt;!--
</span></span><span class="line"><span class="cl">            v-on：为 HTML 标签绑定事件
</span></span><span class="line"><span class="cl">            完整语法：&lt;标签名 v-on:事件名=&#34;vue中methods里面的函数名()&#34;&gt;&lt;/标签&gt;
</span></span><span class="line"><span class="cl">            简写语法：&lt;标签名 @事件名=&#34;vue中methods里面的函数名()&#34;&gt;&lt;/标签&gt;
</span></span><span class="line"><span class="cl">        --&gt;
</span></span><span class="line"><span class="cl">        &lt;button v-on:click=&#34;change&#34;&gt;单击_改变div的内容&lt;/button&gt;
</span></span><span class="line"><span class="cl">        &lt;button v-on:dblclick=&#34;change()&#34;&gt;双击_改变div的内容&lt;/button&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        &lt;button @click=&#34;change&#34;&gt;简写单击_改变div的内容&lt;/button&gt;
</span></span><span class="line"><span class="cl">    &lt;/div&gt;
</span></span><span class="line"><span class="cl">&lt;/body&gt;
</span></span><span class="line"><span class="cl">&lt;script src=&#34;js/vue.js&#34;&gt;&lt;/script&gt;
</span></span><span class="line"><span class="cl">&lt;script&gt;
</span></span><span class="line"><span class="cl">    new Vue({
</span></span><span class="line"><span class="cl">        el:&#34;#div&#34;,
</span></span><span class="line"><span class="cl">        data:{
</span></span><span class="line"><span class="cl">            name:&#34;halulu&#34;
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        methods:{
</span></span><span class="line"><span class="cl">            change(){
</span></span><span class="line"><span class="cl">                this.name = &#34;halulu加强版&#34;
</span></span><span class="line"><span class="cl">            }
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    });
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	function demo(){
</span></span><span class="line"><span class="cl">        alert(&#34;demo&#34;);
</span></span><span class="line"><span class="cl">        //在vue的外部调用模型数据：vm.name
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="v-model表单form绑定">v-model表单form绑定</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;body&gt;
</span></span><span class="line"><span class="cl">    &lt;div id=&#34;div&#34;&gt;
</span></span><span class="line"><span class="cl">        &lt;form autocomplete=&#34;off&#34;&gt;
</span></span><span class="line"><span class="cl">			&lt;!--
</span></span><span class="line"><span class="cl">                单向绑定: model数据改变了  ==》 视图的数据也会变
</span></span><span class="line"><span class="cl">                         视图的数据改变了，Model不会被影响
</span></span><span class="line"><span class="cl">            --&gt;
</span></span><span class="line"><span class="cl">            姓名_单向绑定：&lt;input type=&#34;text&#34; name=&#34;username&#34; :value=&#34;username&#34;&gt;
</span></span><span class="line"><span class="cl">            &lt;br&gt;
</span></span><span class="line"><span class="cl">			&lt;!--
</span></span><span class="line"><span class="cl">                双向绑定：model数据改变了 《==》 视图的数据也会变
</span></span><span class="line"><span class="cl">                        视图的数据改变了，Model会被影响
</span></span><span class="line"><span class="cl">            --&gt;
</span></span><span class="line"><span class="cl">            姓名_双向绑定：&lt;input type=&#34;text&#34; name=&#34;username&#34; v-model=&#34;username&#34;&gt;
</span></span><span class="line"><span class="cl">			&lt;br&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        &lt;/form&gt;
</span></span><span class="line"><span class="cl">		
</span></span><span class="line"><span class="cl">        &lt;hr&gt;
</span></span><span class="line"><span class="cl">		&lt;h3&gt;{{username}}&lt;/h3&gt;
</span></span><span class="line"><span class="cl">    &lt;/div&gt;
</span></span><span class="line"><span class="cl">&lt;/body&gt;
</span></span><span class="line"><span class="cl">&lt;script src=&#34;js/vue.js&#34;&gt;&lt;/script&gt;
</span></span><span class="line"><span class="cl">&lt;script&gt;
</span></span><span class="line"><span class="cl">    /*
</span></span><span class="line"><span class="cl">    * 目标：使用v-model实现MVVM双向数据绑定
</span></span><span class="line"><span class="cl">    *      注意：不用v-model就是单向，使用就是双向
</span></span><span class="line"><span class="cl">    * */
</span></span><span class="line"><span class="cl">    new Vue({
</span></span><span class="line"><span class="cl">        el:&#34;#div&#34;,
</span></span><span class="line"><span class="cl">        data:{
</span></span><span class="line"><span class="cl">            username:&#34;张三&#34;,
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    });
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="渲染表数据">渲染表数据</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;body&gt;
</span></span><span class="line"><span class="cl">    &lt;!-- 希望 Vue 能够控制下面的这个 div，帮我们把数据填充到 div 内部 --&gt;
</span></span><span class="line"><span class="cl">    &lt;div id=&#34;app&#34;&gt;
</span></span><span class="line"><span class="cl">        &lt;!-- 边框  鼠标放上去高亮  隔行变色 --&gt;
</span></span><span class="line"><span class="cl">        &lt;table class=&#34;table table-bordered table-hover table-striped&#34;&gt;
</span></span><span class="line"><span class="cl">            &lt;thead&gt;
</span></span><span class="line"><span class="cl">                &lt;th&gt;索引&lt;/th&gt;
</span></span><span class="line"><span class="cl">                &lt;th&gt;Id&lt;/th&gt;
</span></span><span class="line"><span class="cl">                &lt;th&gt;姓名&lt;/th&gt;
</span></span><span class="line"><span class="cl">            &lt;/thead&gt;
</span></span><span class="line"><span class="cl">            &lt;tbody&gt;
</span></span><span class="line"><span class="cl">                &lt;!-- 官方建议：只要用到了 v-for 指令，那么一定要绑定一个 :key 属性 --&gt;
</span></span><span class="line"><span class="cl">                &lt;!-- 而且，尽量把 id 作为 key 的值 --&gt;
</span></span><span class="line"><span class="cl">                &lt;!-- 官方对 key 的值类型，是有要求的：字符串或数字类型 --&gt;
</span></span><span class="line"><span class="cl">                &lt;!-- key 的值是千万不能重复的，否则会终端报错：Duplicate keys detected --&gt;
</span></span><span class="line"><span class="cl">                &lt;tr v-for=&#34;(item, index) in list&#34; :key=&#34;item.id&#34;&gt;
</span></span><span class="line"><span class="cl">                    &lt;td&gt;{{ index }}&lt;/td&gt;
</span></span><span class="line"><span class="cl">                    &lt;td&gt;{{ item.id }}&lt;/td&gt;
</span></span><span class="line"><span class="cl">                    &lt;td&gt;{{ item.name }}&lt;/td&gt;
</span></span><span class="line"><span class="cl">                &lt;/tr&gt;
</span></span><span class="line"><span class="cl">            &lt;/tbody&gt;
</span></span><span class="line"><span class="cl">        &lt;/table&gt;
</span></span><span class="line"><span class="cl">    &lt;/div&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    &lt;!-- 1. 导入 Vue 的库文件，在 window 全局就有了 Vue 这个构造函数 --&gt;
</span></span><span class="line"><span class="cl">    &lt;script src=&#34;./lib/vue-2.6.12.js&#34;&gt;&lt;/script&gt;
</span></span><span class="line"><span class="cl">    &lt;!-- 2. 创建 Vue 的实例对象 --&gt;
</span></span><span class="line"><span class="cl">    &lt;script&gt;
</span></span><span class="line"><span class="cl">        // 创建 Vue 的实例对象
</span></span><span class="line"><span class="cl">        const vm = new Vue({
</span></span><span class="line"><span class="cl">            // el 属性是固定的写法，表示当前 vm 实例要控制页面上的哪个区域，接收的值是一个选择器
</span></span><span class="line"><span class="cl">            el: &#39;#app&#39;,
</span></span><span class="line"><span class="cl">            // data 对象就是要渲染到页面上的数据
</span></span><span class="line"><span class="cl">            data: {
</span></span><span class="line"><span class="cl">                list: [{
</span></span><span class="line"><span class="cl">                    id: 1,
</span></span><span class="line"><span class="cl">                    name: &#39;张三&#39;
</span></span><span class="line"><span class="cl">                }, {
</span></span><span class="line"><span class="cl">                    id: 2,
</span></span><span class="line"><span class="cl">                    name: &#39;李四&#39;
</span></span><span class="line"><span class="cl">                }, {
</span></span><span class="line"><span class="cl">                    id: 3,
</span></span><span class="line"><span class="cl">                    name: &#39;王五&#39;
</span></span><span class="line"><span class="cl">                }, {
</span></span><span class="line"><span class="cl">                    id: 4,
</span></span><span class="line"><span class="cl">                    name: &#39;张三&#39;
</span></span><span class="line"><span class="cl">                }, ]
</span></span><span class="line"><span class="cl">            }
</span></span><span class="line"><span class="cl">        })
</span></span><span class="line"><span class="cl">    &lt;/script&gt;
</span></span><span class="line"><span class="cl">&lt;/body&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/image-20230227132434456.png"
        data-srcset="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/image-20230227132434456.png, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/image-20230227132434456.png 1.5x, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/image-20230227132434456.png 2x"
        data-sizes="auto"
        alt="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/image-20230227132434456.png"
        title="image-20230227132434456" /></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;body&gt;
</span></span><span class="line"><span class="cl">  &lt;!-- 在页面中声明一个将要被 vue 所控制的 DOM 区域 --&gt;
</span></span><span class="line"><span class="cl">  &lt;div id=&#34;app&#34;&gt;
</span></span><span class="line"><span class="cl">    &lt;!-- 添加用户的区域 --&gt;
</span></span><span class="line"><span class="cl">    &lt;div&gt;
</span></span><span class="line"><span class="cl">      &lt;input type=&#34;text&#34; v-model=&#34;name&#34;&gt;
</span></span><span class="line"><span class="cl">      &lt;button @click=&#34;addNewUser&#34;&gt;添加&lt;/button&gt;
</span></span><span class="line"><span class="cl">    &lt;/div&gt;
</span></span><span class="line"><span class="cl">    &lt;!-- 用户列表区域 --&gt;
</span></span><span class="line"><span class="cl">    &lt;ul&gt;
</span></span><span class="line"><span class="cl">      &lt;li v-for=&#34;(user, index) in userlist&#34; :key=&#34;user.id&#34;&gt;
</span></span><span class="line"><span class="cl">        &lt;input type=&#34;checkbox&#34; /&gt;
</span></span><span class="line"><span class="cl">        姓名：{{user.name}}
</span></span><span class="line"><span class="cl">      &lt;/li&gt;
</span></span><span class="line"><span class="cl">    &lt;/ul&gt;
</span></span><span class="line"><span class="cl">  &lt;/div&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  &lt;script src=&#34;./lib/vue-2.6.12.js&#34;&gt;&lt;/script&gt;
</span></span><span class="line"><span class="cl">  &lt;script&gt;
</span></span><span class="line"><span class="cl">    const vm = new Vue({
</span></span><span class="line"><span class="cl">      el: &#39;#app&#39;,
</span></span><span class="line"><span class="cl">      data: {
</span></span><span class="line"><span class="cl">        // 用户列表
</span></span><span class="line"><span class="cl">        userlist: [
</span></span><span class="line"><span class="cl">          { id: 1, name: &#39;zs&#39; },
</span></span><span class="line"><span class="cl">          { id: 2, name: &#39;ls&#39; }
</span></span><span class="line"><span class="cl">        ],
</span></span><span class="line"><span class="cl">        // 输入的用户名
</span></span><span class="line"><span class="cl">        name: &#39;&#39;,
</span></span><span class="line"><span class="cl">        // 下一个可用的 id 值
</span></span><span class="line"><span class="cl">        nextId: 3
</span></span><span class="line"><span class="cl">      },
</span></span><span class="line"><span class="cl">      methods: {
</span></span><span class="line"><span class="cl">        // 点击了添加按钮
</span></span><span class="line"><span class="cl">        addNewUser() {
</span></span><span class="line"><span class="cl">          this.userlist.unshift({ id: this.nextId, name: this.name })
</span></span><span class="line"><span class="cl">          this.name = &#39;&#39;
</span></span><span class="line"><span class="cl">          this.nextId++
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">      },
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">  &lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2013.29.09.png"
        data-srcset="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2013.29.09.png, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2013.29.09.png 1.5x, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2013.29.09.png 2x"
        data-sizes="auto"
        alt="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2013.29.09.png"
        title="截屏2023-02-27 13.29.09" /></p>
<h1 id="过滤器vue3取消">过滤器（vue3取消）</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;body&gt;
</span></span><span class="line"><span class="cl">  &lt;div id=&#34;app&#34;&gt;
</span></span><span class="line"><span class="cl">    &lt;p&gt;message 的值是：{{ message | capi }}&lt;/p&gt;
</span></span><span class="line"><span class="cl">  &lt;/div&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  &lt;script src=&#34;./lib/vue-2.6.12.js&#34;&gt;&lt;/script&gt;
</span></span><span class="line"><span class="cl">  &lt;script&gt;
</span></span><span class="line"><span class="cl">    const vm = new Vue({
</span></span><span class="line"><span class="cl">      data: {
</span></span><span class="line"><span class="cl">        message: &#39;hello vue.js&#39;
</span></span><span class="line"><span class="cl">      },
</span></span><span class="line"><span class="cl">      // 过滤器函数，必须被定义到 filters 节点之下
</span></span><span class="line"><span class="cl">      // 过滤器本质上是函数
</span></span><span class="line"><span class="cl">      filters: {
</span></span><span class="line"><span class="cl">        // 注意：过滤器函数形参中的 val，永远都是“管道符”前面的那个值
</span></span><span class="line"><span class="cl">        capi(val) {
</span></span><span class="line"><span class="cl">          // 字符串有 charAt 方法，这个方法接收索引值，表示从字符串中把索引对应的字符，获取出来
</span></span><span class="line"><span class="cl">          // val.charAt(0)
</span></span><span class="line"><span class="cl">          const first = val.charAt(0).toUpperCase()
</span></span><span class="line"><span class="cl">          // 字符串的 slice 方法，可以截取字符串，从指定索引往后截取
</span></span><span class="line"><span class="cl">          const other = val.slice(1)
</span></span><span class="line"><span class="cl">          // 强调：过滤器中，一定要有一个返回值
</span></span><span class="line"><span class="cl">          return first + other
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">  &lt;/script&gt;
</span></span><span class="line"><span class="cl">&lt;/body&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="watch-监听器">watch 监听器</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;body&gt;
</span></span><span class="line"><span class="cl">  &lt;div id=&#34;app&#34;&gt;
</span></span><span class="line"><span class="cl">    &lt;input type=&#34;text&#34; v-model=&#34;username&#34;&gt;
</span></span><span class="line"><span class="cl">  &lt;/div&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  &lt;script&gt;
</span></span><span class="line"><span class="cl">    const vm = new Vue({
</span></span><span class="line"><span class="cl">      data: {
</span></span><span class="line"><span class="cl">        username: &#39;admin&#39;
</span></span><span class="line"><span class="cl">      },
</span></span><span class="line"><span class="cl">      // 所有的侦听器，都应该被定义到 watch 节点下
</span></span><span class="line"><span class="cl">      watch: {
</span></span><span class="line"><span class="cl">        // 侦听器本质上是一个函数，要监视哪个数据的变化，就把数据名作为方法名即可
</span></span><span class="line"><span class="cl">        // 新值在前，旧值在后
</span></span><span class="line"><span class="cl">        username(newVal) {
</span></span><span class="line"><span class="cl">          if (newVal === &#39;&#39;) return
</span></span><span class="line"><span class="cl">          // 1. 调用 jQuery 中的 Ajax 发起请求，判断 newVal 是否被占用！！！
</span></span><span class="line"><span class="cl">          $.get(&#39;https://www.escook.cn/api/finduser/&#39; + newVal, function (result) {
</span></span><span class="line"><span class="cl">            console.log(result)
</span></span><span class="line"><span class="cl">          })
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">  &lt;/script&gt;
</span></span><span class="line"><span class="cl">&lt;/body&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="computed-计算属性">Computed 计算属性</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;body&gt;
</span></span><span class="line"><span class="cl">  &lt;div id=&#34;app&#34;&gt;
</span></span><span class="line"><span class="cl">    &lt;div&gt;
</span></span><span class="line"><span class="cl">      &lt;span&gt;R：&lt;/span&gt;
</span></span><span class="line"><span class="cl">      &lt;input type=&#34;text&#34; v-model.number=&#34;r&#34;&gt;
</span></span><span class="line"><span class="cl">    &lt;/div&gt;
</span></span><span class="line"><span class="cl">    &lt;div&gt;
</span></span><span class="line"><span class="cl">      &lt;span&gt;G：&lt;/span&gt;
</span></span><span class="line"><span class="cl">      &lt;input type=&#34;text&#34; v-model.number=&#34;g&#34;&gt;
</span></span><span class="line"><span class="cl">    &lt;/div&gt;
</span></span><span class="line"><span class="cl">    &lt;div&gt;
</span></span><span class="line"><span class="cl">      &lt;span&gt;B：&lt;/span&gt;
</span></span><span class="line"><span class="cl">      &lt;input type=&#34;text&#34; v-model.number=&#34;b&#34;&gt;
</span></span><span class="line"><span class="cl">    &lt;/div&gt;
</span></span><span class="line"><span class="cl">    &lt;hr&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    &lt;!-- 专门用户呈现颜色的 div 盒子 --&gt;
</span></span><span class="line"><span class="cl">    &lt;!-- 在属性身上，: 代表  v-bind: 属性绑定 --&gt;
</span></span><span class="line"><span class="cl">    &lt;!-- :style 代表动态绑定一个样式对象，它的值是一个 {  } 样式对象 --&gt;
</span></span><span class="line"><span class="cl">    &lt;!-- 当前的样式对象中，只包含 backgroundColor 背景颜色 --&gt;
</span></span><span class="line"><span class="cl">    &lt;div class=&#34;box&#34; :style=&#34;{ backgroundColor: rgb }&#34;&gt;
</span></span><span class="line"><span class="cl">      {{ rgb }}
</span></span><span class="line"><span class="cl">    &lt;/div&gt;
</span></span><span class="line"><span class="cl">    &lt;button @click=&#34;show&#34;&gt;按钮&lt;/button&gt;
</span></span><span class="line"><span class="cl">  &lt;/div&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  &lt;script&gt;
</span></span><span class="line"><span class="cl">    // 创建 Vue 实例，得到 ViewModel
</span></span><span class="line"><span class="cl">    var vm = new Vue({
</span></span><span class="line"><span class="cl">      el: &#39;#app&#39;,
</span></span><span class="line"><span class="cl">      data: {
</span></span><span class="line"><span class="cl">        // 红色
</span></span><span class="line"><span class="cl">        r: 0,
</span></span><span class="line"><span class="cl">        // 绿色
</span></span><span class="line"><span class="cl">        g: 0,
</span></span><span class="line"><span class="cl">        // 蓝色
</span></span><span class="line"><span class="cl">        b: 0
</span></span><span class="line"><span class="cl">      },
</span></span><span class="line"><span class="cl">      methods: {
</span></span><span class="line"><span class="cl">        // 点击按钮，在终端显示最新的颜色
</span></span><span class="line"><span class="cl">        show() {
</span></span><span class="line"><span class="cl">          console.log(this.rgb)
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">      },
</span></span><span class="line"><span class="cl">      // 所有的计算属性，都要定义到 computed 节点之下
</span></span><span class="line"><span class="cl">      // 计算属性在定义的时候，要定义成“方法格式”
</span></span><span class="line"><span class="cl">      computed: {
</span></span><span class="line"><span class="cl">        // rgb 作为一个计算属性，被定义成了方法格式，
</span></span><span class="line"><span class="cl">        // 最终，在这个方法中，要返回一个生成好的 rgb(x,x,x) 的字符串
</span></span><span class="line"><span class="cl">        rgb() {
</span></span><span class="line"><span class="cl">          return `rgb(${this.r}, ${this.g}, ${this.b})`
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">    });
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    console.log(vm)
</span></span><span class="line"><span class="cl">  &lt;/script&gt;
</span></span><span class="line"><span class="cl">&lt;/body&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2013.48.18.png"
        data-srcset="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2013.48.18.png, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2013.48.18.png 1.5x, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2013.48.18.png 2x"
        data-sizes="auto"
        alt="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2013.48.18.png"
        title="截屏2023-02-27 13.48.18" /></p>
<h1 id="组件通讯">组件通讯</h1>
<h2 id="1-父-子">1. 父-&gt;子</h2>
<ul>
<li>方式：通过子组件<code>props</code>属性来传递数据 props是一个数组</li>
<li>注意：属性的值必须在组件中通过<code>props</code>属性显示指定，否则，不会生效</li>
<li>说明：传递过来的<code>props</code>属性的用法与<code>data</code>属性的用法相同</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;div id=&#34;app&#34;&gt;
</span></span><span class="line"><span class="cl">  &lt;!-- 如果需要往子组件总传递父组件data中的数据 需要加v-bind=&#34;数据名称&#34; --&gt;
</span></span><span class="line"><span class="cl">  &lt;hello v-bind:msg=&#34;info&#34;&gt;&lt;/hello&gt;
</span></span><span class="line"><span class="cl">  &lt;!-- 如果传递的是字面量 那么直接写--&gt;
</span></span><span class="line"><span class="cl">  &lt;hello my-msg=&#34;abc&#34;&gt;&lt;/hello&gt;
</span></span><span class="line"><span class="cl">&lt;/div&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">&lt;!-- js --&gt;
</span></span><span class="line"><span class="cl">&lt;script&gt;script&#34;&gt;
</span></span><span class="line"><span class="cl">  new Vue({
</span></span><span class="line"><span class="cl">    el: &#34;#app&#34;,
</span></span><span class="line"><span class="cl">    data : {
</span></span><span class="line"><span class="cl">      info : 15
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    components: {
</span></span><span class="line"><span class="cl">      hello: {
</span></span><span class="line"><span class="cl">        // 创建props及其传递过来的属性
</span></span><span class="line"><span class="cl">        props: [&#39;msg&#39;, &#39;myMsg&#39;],
</span></span><span class="line"><span class="cl">        template: &#39;&lt;h1&gt;这是 hello 组件，这是消息：template-variable&#34;&gt;{{msg}} --- template-variable&#34;&gt;{{myMsg}}&lt;/h1&gt;&#39;
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">  })
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="2-子-父">2. 子-&gt;父</h2>
<p>方式：父组件给子组件传递一个函数，由子组件调用这个函数</p>
<ul>
<li>说明：借助vue中的自定义事件（v-on:cunstomFn=&ldquo;fn&rdquo;）</li>
</ul>
<p>步骤:</p>
<ul>
<li>1、在父组件中定义方法 parentFn</li>
<li>2、在子组件 组件引入标签 中绑定自定义事件 v-on:自定义事件名=&ldquo;父组件中的方法&rdquo; ==&gt; @pfn=&ldquo;parentFn&rdquo;</li>
<li>3、子组件中通过<code>$emit()</code>触发自定义事件事件 this.$emit(pfn,参数列表。。。)</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;hello @pfn=&#34;parentFn&#34;&gt;&lt;/hello&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">&lt;script&gt;script&#34;&gt;
</span></span><span class="line"><span class="cl">  Vue.component(&#39;hello&#39;, {
</span></span><span class="line"><span class="cl">    template: &#39;&lt;button @click=&#34;fn&#34;&gt;按钮&lt;/button&gt;&#39;,
</span></span><span class="line"><span class="cl">    methods: {
</span></span><span class="line"><span class="cl">      // 子组件：通过$emit调用
</span></span><span class="line"><span class="cl">      fn() {
</span></span><span class="line"><span class="cl">        this.$emit(&#39;pfn&#39;, &#39;这是子组件传递给父组件的数据&#39;)
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">  })
</span></span><span class="line"><span class="cl">  new Vue({
</span></span><span class="line"><span class="cl">    methods: {
</span></span><span class="line"><span class="cl">      // 父组件：提供方法
</span></span><span class="line"><span class="cl">      parentFn(data) {
</span></span><span class="line"><span class="cl">        console.log(&#39;父组件：&#39;, data)
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">  })
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="3非父子组件">3.非父子组件</h2>
<ul>
<li><code>$on()</code>：绑定自定义事件</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">var bus = new Vue()
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 在组件 B 绑定自定义事件
</span></span><span class="line"><span class="cl">bus.$on(&#39;id-selected&#39;, function&#34;&gt;function (id) {
</span></span><span class="line"><span class="cl">  // ...
</span></span><span class="line"><span class="cl">})
</span></span><span class="line"><span class="cl">// 触发组件 A 中的事件
</span></span><span class="line"><span class="cl">bus.$emit(&#39;id-selected&#39;, 1)
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>示例：组件A &mdash;&gt; 组件B</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;!-- 组件A： --&gt;
</span></span><span class="line"><span class="cl">&lt;com-a&gt;&lt;/com-a&gt;
</span></span><span class="line"><span class="cl">&lt;!-- 组件B： --&gt;
</span></span><span class="line"><span class="cl">&lt;com-b&gt;&lt;/com-b&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">&lt;script&gt;script&#34;&gt;
</span></span><span class="line"><span class="cl">  // 中间组件
</span></span><span class="line"><span class="cl">  var bus = new Vue()
</span></span><span class="line"><span class="cl">  // 通信组件
</span></span><span class="line"><span class="cl">  var vm = new Vue({
</span></span><span class="line"><span class="cl">    el: &#39;#app&#39;,
</span></span><span class="line"><span class="cl">    components: {
</span></span><span class="line"><span class="cl">      comB: {
</span></span><span class="line"><span class="cl">        template: &#39;&lt;p&gt;组件A告诉我：{{msg}}&lt;/p&gt;&#39;,
</span></span><span class="line"><span class="cl">        data() {
</span></span><span class="line"><span class="cl">          return {
</span></span><span class="line"><span class="cl">            msg: &#39;&#39;
</span></span><span class="line"><span class="cl">          }
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        created() {
</span></span><span class="line"><span class="cl">          // 给中间组件绑定自定义事件 注意:如果用到this 需要用箭头函数
</span></span><span class="line"><span class="cl">          bus.$on(&#39;tellComB&#39;, (msg) =&gt; {
</span></span><span class="line"><span class="cl">            this.msg = msg
</span></span><span class="line"><span class="cl">          })
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">      },
</span></span><span class="line"><span class="cl">      comA: {
</span></span><span class="line"><span class="cl">        template: &#39;&lt;button @click=&#34;emitFn&#34;&gt;告诉B&lt;/button&gt;&#39;,
</span></span><span class="line"><span class="cl">        methods: {
</span></span><span class="line"><span class="cl">          emitFn() {
</span></span><span class="line"><span class="cl">            // 触发中间组件中的自定义事件
</span></span><span class="line"><span class="cl">            bus.$emit(&#39;tellComB&#39;, &#39;土豆土豆我是南瓜&#39;)
</span></span><span class="line"><span class="cl">          }
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">  })
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="4-slot">4. slot</h2>
<ul>
<li>通过<slot></slot> 标签指定内容展示区域</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;!-- html代码 --&gt;
</span></span><span class="line"><span class="cl">&lt;div id=&#34;app&#34;&gt;
</span></span><span class="line"><span class="cl">  &lt;hello&gt;
</span></span><span class="line"><span class="cl">    &lt;!-- 如果只有一个slot插槽 那么不需要指定名称 --&gt;
</span></span><span class="line"><span class="cl">    &lt;p slot=&#34;插槽名称&#34;&gt;我是额外的内容&lt;/p&gt;
</span></span><span class="line"><span class="cl">  &lt;/hello&gt;
</span></span><span class="line"><span class="cl">&lt;/div&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// js代码
</span></span><span class="line"><span class="cl">new vue({
</span></span><span class="line"><span class="cl">  el : &#34;#app&#34;,
</span></span><span class="line"><span class="cl">  components : {
</span></span><span class="line"><span class="cl">    hello : {
</span></span><span class="line"><span class="cl">      template : `
</span></span><span class="line"><span class="cl">          &lt;div&gt;
</span></span><span class="line"><span class="cl">            &lt;p&gt;我是子组件中的内容&lt;/p&gt;
</span></span><span class="line"><span class="cl">            &lt;slot name=&#34;名称&#34;&gt;&lt;/slot&gt;
</span></span><span class="line"><span class="cl">          &lt;/div&gt;
</span></span><span class="line"><span class="cl">        `
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">})
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="5-获取组件元素refs">5. 获取组件/元素refs</h2>
<ul>
<li>说明：<code>vm.$refs</code> 一个对象，持有已注册过 ref 的所有子组件（或HTML元素）</li>
<li>使用：在 HTML元素 中，添加<code>ref</code>属性，然后在JS中通过<code>vm.$refs.属性</code>来获取</li>
<li>注意：如果获取的是一个子组件，那么通过ref就能获取到子组件中的data和methods</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;div id=&#34;app&#34;&gt;
</span></span><span class="line"><span class="cl">  &lt;div ref=&#34;dv&#34;&gt;&lt;/div&gt;
</span></span><span class="line"><span class="cl">  &lt;my res=&#34;my&#34;&gt;&lt;/my&gt;
</span></span><span class="line"><span class="cl">&lt;/div&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">&lt;!-- js --&gt;
</span></span><span class="line"><span class="cl">&lt;script&gt;script&#34;&gt;
</span></span><span class="line"><span class="cl">  new Vue({
</span></span><span class="line"><span class="cl">    el : &#34;#app&#34;,
</span></span><span class="line"><span class="cl">    mounted() {
</span></span><span class="line"><span class="cl">      this.$refs.dv //获取到元素
</span></span><span class="line"><span class="cl">      this.$refs.my //获取到组件
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    components : {
</span></span><span class="line"><span class="cl">      my : {
</span></span><span class="line"><span class="cl">        template: `&lt;a&gt;sss&lt;/a&gt;`
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">  })
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="路由守卫">路由守卫</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// src/router/index.js 就是当前项目的路由模块
</span></span><span class="line"><span class="cl">// 1.导入 Vue 和VueRouter的包
</span></span><span class="line"><span class="cl">import Vue from &#39;vue&#39;
</span></span><span class="line"><span class="cl">import VueRouter from &#39;vue-router&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 导入需要的组件
</span></span><span class="line"><span class="cl">import Home from &#39;@/components/Home.vue&#39;
</span></span><span class="line"><span class="cl">import Movie from &#39;@/components/Movie.vue&#39;
</span></span><span class="line"><span class="cl">import About from &#39;@/components/About.vue&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">import Tab1 from &#39;@/components/tabs/Tab1.vue&#39;
</span></span><span class="line"><span class="cl">import Tab2 from &#39;@/components/tabs/Tab2.vue&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">import Login from &#39;@/components/Login.vue&#39;
</span></span><span class="line"><span class="cl">import Main from &#39;@/components/Main.vue&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 把 VueRouter 安装为 Vue 项目的插件
</span></span><span class="line"><span class="cl">// Vue.use() 函数的作用，就是来安装插件的
</span></span><span class="line"><span class="cl">// 2.调用Vue.use()函数 把VueRouter安装为Vue的插件
</span></span><span class="line"><span class="cl">Vue.use(VueRouter)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 3.创建路由的实例对象
</span></span><span class="line"><span class="cl">const router = new VueRouter({
</span></span><span class="line"><span class="cl">    // routes 是一个数组，作用：定义 “hash 地址” 与 “组件” 之间的对应关系
</span></span><span class="line"><span class="cl">    routes: [
</span></span><span class="line"><span class="cl">        // 重定向的路由规则
</span></span><span class="line"><span class="cl">        { path: &#39;/&#39;, redirect: &#39;/home&#39; },
</span></span><span class="line"><span class="cl">        // 路由规则
</span></span><span class="line"><span class="cl">        { path: &#39;/home&#39;, component: Home },
</span></span><span class="line"><span class="cl">        // 需求：在 Movie 组件中，希望根据 id 的值，展示对应电影的详情信息
</span></span><span class="line"><span class="cl">        // 可以为路由规则开启 props 传参，从而方便的拿到动态参数的值
</span></span><span class="line"><span class="cl">        { path: &#39;/movie/:mid&#39;, component: Movie, props: true },
</span></span><span class="line"><span class="cl">        {
</span></span><span class="line"><span class="cl">            path: &#39;/about&#39;,
</span></span><span class="line"><span class="cl">            component: About,
</span></span><span class="line"><span class="cl">            // redirect: &#39;/about/tab1&#39;,
</span></span><span class="line"><span class="cl">            children: [
</span></span><span class="line"><span class="cl">                // 子路由规则
</span></span><span class="line"><span class="cl">                // 默认子路由：如果 children 数组中，某个路由规则的 path 值为空字符串，则这条路由规则，叫做“默认子路由”
</span></span><span class="line"><span class="cl">                { path: &#39;&#39;, component: Tab1 },
</span></span><span class="line"><span class="cl">                { path: &#39;tab2&#39;, component: Tab2 }
</span></span><span class="line"><span class="cl">            ]
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        { path: &#39;/login&#39;, component: Login },
</span></span><span class="line"><span class="cl">        { path: &#39;/main&#39;, component: Main }
</span></span><span class="line"><span class="cl">    ]
</span></span><span class="line"><span class="cl">})
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 为 router 实例对象，声明全局前置导航守卫
</span></span><span class="line"><span class="cl">// 只要发生了路由的跳转，必然会触发 beforeEach 指定的 function 回调函数
</span></span><span class="line"><span class="cl">router.beforeEach(function(to, from, next) {
</span></span><span class="line"><span class="cl">    // to 表示将要访问的路由的信息对象
</span></span><span class="line"><span class="cl">    // from 表示将要离开的路由的信息对象
</span></span><span class="line"><span class="cl">    // next() 函数表示放行的意思
</span></span><span class="line"><span class="cl">    // 分析：
</span></span><span class="line"><span class="cl">    // 1. 要拿到用户将要访问的 hash 地址
</span></span><span class="line"><span class="cl">    // 2. 判断 hash 地址是否等于 /main。
</span></span><span class="line"><span class="cl">    // 2.1 如果等于 /main，证明需要登录之后，才能访问成功
</span></span><span class="line"><span class="cl">    // 2.2 如果不等于 /main，则不需要登录，直接放行  next()
</span></span><span class="line"><span class="cl">    // 3. 如果访问的地址是 /main。则需要读取 localStorage 中的 token 值
</span></span><span class="line"><span class="cl">    // 3.1 如果有 token，则放行
</span></span><span class="line"><span class="cl">    // 3.2 如果没有 token，则强制跳转到 /login 登录页
</span></span><span class="line"><span class="cl">    if (to.path === &#39;/main&#39;) {
</span></span><span class="line"><span class="cl">        // 要访问后台主页，需要判断是否有 token
</span></span><span class="line"><span class="cl">        const token = localStorage.getItem(&#39;token&#39;)
</span></span><span class="line"><span class="cl">        if (token) {
</span></span><span class="line"><span class="cl">            next()
</span></span><span class="line"><span class="cl">        } else {
</span></span><span class="line"><span class="cl">            // 没有登录，强制跳转到登录页
</span></span><span class="line"><span class="cl">            next(&#39;/login&#39;)
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    } else {
</span></span><span class="line"><span class="cl">        next()
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">})
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 4.向外共享路由的实例对象
</span></span><span class="line"><span class="cl">export default router
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="数据类型转换">数据类型转换</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">/整数/parseInt(string)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/分数/parseFloat(string)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/Number/Number(val)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">保留几位小数在方法后面加.toFixed()，比如去分数保留2位小数parseFloat(string).toFixed(2)；
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="登陆前后-页面显示不同">登陆前后 页面显示不同</h1>
<p>(1)在父组件App.vue的底部导航栏组件渲染标签处引入<v-show>或者<v-if>标签实现导航栏的显示与隐藏状态【<bottom-nav v-show="showNav"></bottom-nav>】，首先设置一个showNav标志，未登录时showNav值为false【showNav: false】，导航栏不显示。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2015.30.20.png"
        data-srcset="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2015.30.20.png, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2015.30.20.png 1.5x, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2015.30.20.png 2x"
        data-sizes="auto"
        alt="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2015.30.20.png"
        title="截屏2023-02-27 15.30.20" /></p>
<p>（2）在子组件Login.vue页面，当登录成功，设置showNav值为true，【this.$parent.showNav = true;】导航栏显示。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2015.30.40.png"
        data-srcset="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2015.30.40.png, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2015.30.40.png 1.5x, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2015.30.40.png 2x"
        data-sizes="auto"
        alt="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2015.30.40.png"
        title="截屏2023-02-27 15.30.40" /></p>
<p>（3）另外，在登录成功之后跳转的每一个页面中的【created】中设置showNav值为true</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2015.31.09.png"
        data-srcset="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2015.31.09.png, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2015.31.09.png 1.5x, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2015.31.09.png 2x"
        data-sizes="auto"
        alt="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-27%2015.31.09.png"
        title="截屏2023-02-27 15.31.09" /></p>
<p>实际项目</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span><span class="lnt">205
</span><span class="lnt">206
</span><span class="lnt">207
</span><span class="lnt">208
</span><span class="lnt">209
</span><span class="lnt">210
</span><span class="lnt">211
</span><span class="lnt">212
</span><span class="lnt">213
</span><span class="lnt">214
</span><span class="lnt">215
</span><span class="lnt">216
</span><span class="lnt">217
</span><span class="lnt">218
</span><span class="lnt">219
</span><span class="lnt">220
</span><span class="lnt">221
</span><span class="lnt">222
</span><span class="lnt">223
</span><span class="lnt">224
</span><span class="lnt">225
</span><span class="lnt">226
</span><span class="lnt">227
</span><span class="lnt">228
</span><span class="lnt">229
</span><span class="lnt">230
</span><span class="lnt">231
</span><span class="lnt">232
</span><span class="lnt">233
</span><span class="lnt">234
</span><span class="lnt">235
</span><span class="lnt">236
</span><span class="lnt">237
</span><span class="lnt">238
</span><span class="lnt">239
</span><span class="lnt">240
</span><span class="lnt">241
</span><span class="lnt">242
</span><span class="lnt">243
</span><span class="lnt">244
</span><span class="lnt">245
</span><span class="lnt">246
</span><span class="lnt">247
</span><span class="lnt">248
</span><span class="lnt">249
</span><span class="lnt">250
</span><span class="lnt">251
</span><span class="lnt">252
</span><span class="lnt">253
</span><span class="lnt">254
</span><span class="lnt">255
</span><span class="lnt">256
</span><span class="lnt">257
</span><span class="lnt">258
</span><span class="lnt">259
</span><span class="lnt">260
</span><span class="lnt">261
</span><span class="lnt">262
</span><span class="lnt">263
</span><span class="lnt">264
</span><span class="lnt">265
</span><span class="lnt">266
</span><span class="lnt">267
</span><span class="lnt">268
</span><span class="lnt">269
</span><span class="lnt">270
</span><span class="lnt">271
</span><span class="lnt">272
</span><span class="lnt">273
</span><span class="lnt">274
</span><span class="lnt">275
</span><span class="lnt">276
</span><span class="lnt">277
</span><span class="lnt">278
</span><span class="lnt">279
</span><span class="lnt">280
</span><span class="lnt">281
</span><span class="lnt">282
</span><span class="lnt">283
</span><span class="lnt">284
</span><span class="lnt">285
</span><span class="lnt">286
</span><span class="lnt">287
</span><span class="lnt">288
</span><span class="lnt">289
</span><span class="lnt">290
</span><span class="lnt">291
</span><span class="lnt">292
</span><span class="lnt">293
</span><span class="lnt">294
</span><span class="lnt">295
</span><span class="lnt">296
</span><span class="lnt">297
</span><span class="lnt">298
</span><span class="lnt">299
</span><span class="lnt">300
</span><span class="lnt">301
</span><span class="lnt">302
</span><span class="lnt">303
</span><span class="lnt">304
</span><span class="lnt">305
</span><span class="lnt">306
</span><span class="lnt">307
</span><span class="lnt">308
</span><span class="lnt">309
</span><span class="lnt">310
</span><span class="lnt">311
</span><span class="lnt">312
</span><span class="lnt">313
</span><span class="lnt">314
</span><span class="lnt">315
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;template&gt;
</span></span><span class="line"><span class="cl">  &lt;div class=&#34;top-nav&#34;&gt;
</span></span><span class="line"><span class="cl">    &lt;div class=&#34;log&#34; @click=&#34;gotoHome&#34; title=&#34;去首页&#34;&gt;
</span></span><span class="line"><span class="cl">      &lt;img style=&#34;width: 50px; height: 50px&#34; src=&#34;@/assets/images/logo.png&#34; /&gt;
</span></span><span class="line"><span class="cl">      深地探测科学数据中心
</span></span><span class="line"><span class="cl">    &lt;/div&gt;
</span></span><span class="line"><span class="cl">    &lt;el-menu
</span></span><span class="line"><span class="cl">      :active-text-color=&#34;variables.menuActiveText&#34;
</span></span><span class="line"><span class="cl">      :default-active=&#34;activeMenu&#34;
</span></span><span class="line"><span class="cl">      mode=&#34;horizontal&#34;
</span></span><span class="line"><span class="cl">      @select=&#34;handleSelect&#34;
</span></span><span class="line"><span class="cl">    &gt;
</span></span><span class="line"><span class="cl">      &lt;div v-for=&#34;item in routes&#34; :key=&#34;item.path&#34; class=&#34;nav-item&#34;&gt;
</span></span><span class="line"><span class="cl">        &lt;app-link :to=&#34;resolvePath(item)&#34;&gt;
</span></span><span class="line"><span class="cl">          &lt;el-menu-item v-if=&#34;!item.hidden&#34; :index=&#34;item.path&#34;&gt;{{
</span></span><span class="line"><span class="cl">            item.meta ? item.meta.title : item.children[0].meta.title
</span></span><span class="line"><span class="cl">          }}&lt;/el-menu-item&gt;
</span></span><span class="line"><span class="cl">        &lt;/app-link&gt;
</span></span><span class="line"><span class="cl">      &lt;/div&gt;
</span></span><span class="line"><span class="cl">    &lt;/el-menu&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    &lt;div class=&#34;right-menu&#34; style=&#34;margin-right: 20px&#34;&gt;
</span></span><span class="line"><span class="cl">      &lt;img
</span></span><span class="line"><span class="cl">        style=&#34;width: 30px; height: 30px&#34;
</span></span><span class="line"><span class="cl">        src=&#34;@/assets/images/user.png&#34;
</span></span><span class="line"><span class="cl">        class=&#34;user-avatar&#34;
</span></span><span class="line"><span class="cl">      /&gt;
</span></span><span class="line"><span class="cl">      &lt;el-dropdown v-if=&#34;token&#34; class=&#34;avatar-container&#34; trigger=&#34;click&#34;&gt;
</span></span><span class="line"><span class="cl">        &lt;div class=&#34;avatar-wrapper&#34;&gt;
</span></span><span class="line"><span class="cl">          &lt;span style=&#34;color: #fff; cursor: pointer&#34;&gt;{{ username }}&lt;/span&gt;
</span></span><span class="line"><span class="cl">          &lt;i class=&#34;el-icon-arrow-down&#34; style=&#34;cursor: pointer&#34; /&gt;
</span></span><span class="line"><span class="cl">        &lt;/div&gt;
</span></span><span class="line"><span class="cl">        &lt;el-dropdown-menu slot=&#34;dropdown&#34; class=&#34;user-dropdown&#34;&gt;
</span></span><span class="line"><span class="cl">          &lt;!-- &lt;router-link @click.native=&#34;toHome&#34; to=&#34;/&#34;&gt;
</span></span><span class="line"><span class="cl">            &lt;el-dropdown-item&gt;进入首页&lt;/el-dropdown-item&gt;
</span></span><span class="line"><span class="cl">          &lt;/router-link&gt; --&gt;
</span></span><span class="line"><span class="cl">          &lt;!-- &lt;router-link @click.native=&#34;toPersonalCenter&#34; to=&#34;/user&#34;&gt;
</span></span><span class="line"><span class="cl">            &lt;el-dropdown-item&gt;个人资料&lt;/el-dropdown-item&gt;
</span></span><span class="line"><span class="cl">          &lt;/router-link&gt; --&gt;
</span></span><span class="line"><span class="cl">          &lt;router-link
</span></span><span class="line"><span class="cl">            v-show=&#34;token&#34;
</span></span><span class="line"><span class="cl">            @click.native=&#34;toApplit&#34;
</span></span><span class="line"><span class="cl">            to=&#34;/user/fetch-list&#34;
</span></span><span class="line"><span class="cl">          &gt;
</span></span><span class="line"><span class="cl">            &lt;el-dropdown-item&gt;申请列表&lt;/el-dropdown-item&gt;
</span></span><span class="line"><span class="cl">          &lt;/router-link&gt;
</span></span><span class="line"><span class="cl">          &lt;el-dropdown-item divided @click.native=&#34;logout&#34;&gt;
</span></span><span class="line"><span class="cl">            &lt;span style=&#34;display: block&#34;&gt; 退出登录 &lt;/span&gt;
</span></span><span class="line"><span class="cl">          &lt;/el-dropdown-item&gt;
</span></span><span class="line"><span class="cl">        &lt;/el-dropdown-menu&gt;
</span></span><span class="line"><span class="cl">      &lt;/el-dropdown&gt;
</span></span><span class="line"><span class="cl">      &lt;template v-else&gt;
</span></span><span class="line"><span class="cl">        &lt;el-button type=&#34;text&#34; @click=&#34;goLogin&#34;&gt; 登录 &lt;/el-button&gt;
</span></span><span class="line"><span class="cl">        &lt;el-button type=&#34;text&#34; @click=&#34;goRegister&#34;&gt; 注册 &lt;/el-button&gt;
</span></span><span class="line"><span class="cl">      &lt;/template&gt;
</span></span><span class="line"><span class="cl">    &lt;/div&gt;
</span></span><span class="line"><span class="cl">  &lt;/div&gt;
</span></span><span class="line"><span class="cl">&lt;/template&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">&lt;script&gt;
</span></span><span class="line"><span class="cl">import { mapGetters, mapState, mapActions } from &#34;vuex&#34;;
</span></span><span class="line"><span class="cl">import AppLink from &#34;./Sidebar/Link&#34;;
</span></span><span class="line"><span class="cl">import { constantRoutes } from &#34;@/router&#34;;
</span></span><span class="line"><span class="cl">import variables from &#34;@/styles/variables.scss&#34;;
</span></span><span class="line"><span class="cl">import { getToken, getName, setName, setToken } from &#34;@/utils/auth&#34;;
</span></span><span class="line"><span class="cl">import bus from &#34;@/utils/bus.js&#34;;
</span></span><span class="line"><span class="cl">import { isExternal } from &#34;@/utils/validator&#34;;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">export default {
</span></span><span class="line"><span class="cl">  name: &#34;Topbar&#34;,
</span></span><span class="line"><span class="cl">  components: {
</span></span><span class="line"><span class="cl">    AppLink,
</span></span><span class="line"><span class="cl">  },
</span></span><span class="line"><span class="cl">  data() {
</span></span><span class="line"><span class="cl">    return {
</span></span><span class="line"><span class="cl">      menuStr: &#34;&#34;,
</span></span><span class="line"><span class="cl">      routes: JSON.parse(JSON.stringify(constantRoutes)),
</span></span><span class="line"><span class="cl">    };
</span></span><span class="line"><span class="cl">  },
</span></span><span class="line"><span class="cl">  computed: {
</span></span><span class="line"><span class="cl">    ...mapState(&#34;user&#34;, {
</span></span><span class="line"><span class="cl">      token: (state) =&gt; {
</span></span><span class="line"><span class="cl">        return getToken() ? getToken() : state.token;
</span></span><span class="line"><span class="cl">      },
</span></span><span class="line"><span class="cl">      username: (state) =&gt; {
</span></span><span class="line"><span class="cl">        return getName() ? getName() : state.username;
</span></span><span class="line"><span class="cl">      },
</span></span><span class="line"><span class="cl">      phoneMobile: (state) =&gt; {
</span></span><span class="line"><span class="cl">        return state.phoneMobile;
</span></span><span class="line"><span class="cl">      },
</span></span><span class="line"><span class="cl">    }),
</span></span><span class="line"><span class="cl">    activeMenu() {
</span></span><span class="line"><span class="cl">      const route = this.$route;
</span></span><span class="line"><span class="cl">      const { meta, path } = route;
</span></span><span class="line"><span class="cl">      // if set path, the sidebar will highlight the path you set
</span></span><span class="line"><span class="cl">      if (meta.activeMenu) {
</span></span><span class="line"><span class="cl">        return meta.activeMenu;
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">      // 如果是首页，首页高亮
</span></span><span class="line"><span class="cl">      if (path === &#34;/home-page&#34;) {
</span></span><span class="line"><span class="cl">        return &#34;/&#34;;
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">      // 如果不是首页，高亮一级菜单
</span></span><span class="line"><span class="cl">      const activeMenu = &#34;/&#34; + path.split(&#34;/&#34;)[1];
</span></span><span class="line"><span class="cl">      return activeMenu;
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    variables() {
</span></span><span class="line"><span class="cl">      return variables;
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    sidebar() {
</span></span><span class="line"><span class="cl">      return this.$store.state.app.sidebar;
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    ...mapGetters([&#34;avatar&#34;]),
</span></span><span class="line"><span class="cl">  },
</span></span><span class="line"><span class="cl">  mounted() {
</span></span><span class="line"><span class="cl">    this.getMenu();
</span></span><span class="line"><span class="cl">    this.initCurrentRoutes();
</span></span><span class="line"><span class="cl">  },
</span></span><span class="line"><span class="cl">  methods: {
</span></span><span class="line"><span class="cl">    ...mapActions(&#34;user&#34;, {
</span></span><span class="line"><span class="cl">      GetUserMenu: &#34;GetUserMenu&#34;,
</span></span><span class="line"><span class="cl">    }),
</span></span><span class="line"><span class="cl">    // 跳转首页
</span></span><span class="line"><span class="cl">    gotoHome() {
</span></span><span class="line"><span class="cl">      this.$router.push(&#34;/&#34;);
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    // 菜单过滤
</span></span><span class="line"><span class="cl">    menuFilter(route) {
</span></span><span class="line"><span class="cl">      let res = [];
</span></span><span class="line"><span class="cl">      if (route) {
</span></span><span class="line"><span class="cl">        route.forEach((item) =&gt; {
</span></span><span class="line"><span class="cl">          // if (item.meta &amp;&amp; item.meta.title == &#34;数据管理&#34;) {
</span></span><span class="line"><span class="cl">          //   res.push(item);
</span></span><span class="line"><span class="cl">          //   return;
</span></span><span class="line"><span class="cl">          // }
</span></span><span class="line"><span class="cl">          if (item.meta &amp;&amp; this.menuStr.indexOf(item.meta.title) &gt; -1) {
</span></span><span class="line"><span class="cl">            this.$set(item, &#34;hidden&#34;, false);
</span></span><span class="line"><span class="cl">            if (item.children) {
</span></span><span class="line"><span class="cl">              this.menuFilter(item.children);
</span></span><span class="line"><span class="cl">            }
</span></span><span class="line"><span class="cl">          } else {
</span></span><span class="line"><span class="cl">            this.$set(item, &#34;hidden&#34;, true);
</span></span><span class="line"><span class="cl">          }
</span></span><span class="line"><span class="cl">          res.push(item);
</span></span><span class="line"><span class="cl">        });
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">      return res;
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    getUserMenuList() {
</span></span><span class="line"><span class="cl">        this.GetUserMenu().then((response) =&gt; {
</span></span><span class="line"><span class="cl">        this.menuStr = JSON.stringify(response.data);
</span></span><span class="line"><span class="cl">        this.routes = this.menuFilter(this.routes);
</span></span><span class="line"><span class="cl">      });
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    // 获取菜单
</span></span><span class="line"><span class="cl">    getMenu() {
</span></span><span class="line"><span class="cl">      getToken() ? this.getUserMenuList() : &#34;&#34;;
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    // 去首页
</span></span><span class="line"><span class="cl">    toHome() {
</span></span><span class="line"><span class="cl">      this.handleSelect(&#34;/&#34;);
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    // 去往申请列表
</span></span><span class="line"><span class="cl">    toApplit() {
</span></span><span class="line"><span class="cl">      if (!this.token) {
</span></span><span class="line"><span class="cl">        this.$confirm(&#34;此操作需要登录, 是否继续?&#34;, &#34;提示&#34;, {
</span></span><span class="line"><span class="cl">          confirmButtonText: &#34;去登录&#34;,
</span></span><span class="line"><span class="cl">          cancelButtonText: &#34;取消&#34;,
</span></span><span class="line"><span class="cl">          type: &#34;warning&#34;,
</span></span><span class="line"><span class="cl">        })
</span></span><span class="line"><span class="cl">          .then(() =&gt; {
</span></span><span class="line"><span class="cl">            this.$router.push(&#34;/login&#34;);
</span></span><span class="line"><span class="cl">          })
</span></span><span class="line"><span class="cl">          .catch(() =&gt; {
</span></span><span class="line"><span class="cl">            this.$message({
</span></span><span class="line"><span class="cl">              type: &#34;info&#34;,
</span></span><span class="line"><span class="cl">              message: &#34;已取消&#34;,
</span></span><span class="line"><span class="cl">            });
</span></span><span class="line"><span class="cl">          });
</span></span><span class="line"><span class="cl">      } else {
</span></span><span class="line"><span class="cl">        this.handleSelect(&#34;/user&#34;);
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    // 去个人中心
</span></span><span class="line"><span class="cl">    toPersonalCenter() {
</span></span><span class="line"><span class="cl">      this.handleSelect(&#34;/user&#34;);
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    // 通过当前路径找到二级菜单对应项，存到store，用来渲染左侧菜单
</span></span><span class="line"><span class="cl">    initCurrentRoutes() {
</span></span><span class="line"><span class="cl">      const { path } = this.$route;
</span></span><span class="line"><span class="cl">      let route = this.routes.find(
</span></span><span class="line"><span class="cl">        (item) =&gt; item.path === &#34;/&#34; + path.split(&#34;/&#34;)[1]
</span></span><span class="line"><span class="cl">      );
</span></span><span class="line"><span class="cl">      // 如果找不到这个路由，说明是首页
</span></span><span class="line"><span class="cl">      if (!route) {
</span></span><span class="line"><span class="cl">        route = this.routes.find((item) =&gt; item.path === &#34;/&#34;);
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">      this.$store.commit(&#34;permission/SET_CURRENT_ROUTES&#34;, route);
</span></span><span class="line"><span class="cl">      this.setSidebarHide(route);
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    // 判断该路由是否只有一个子项或者没有子项，如果是，则在一级菜单添加跳转路由
</span></span><span class="line"><span class="cl">    isOnlyOneChild(item) {
</span></span><span class="line"><span class="cl">      if (item.children &amp;&amp; item.children.length === 1) {
</span></span><span class="line"><span class="cl">        return true;
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">      return false;
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    resolvePath(item) {
</span></span><span class="line"><span class="cl">      // 如果是个完成的url直接返回
</span></span><span class="line"><span class="cl">      if (isExternal(item.path)) {
</span></span><span class="line"><span class="cl">        return item.path;
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">      // 如果是首页，就返回重定向路由
</span></span><span class="line"><span class="cl">      if (item.path === &#34;/&#34;) {
</span></span><span class="line"><span class="cl">        const path = item.redirect;
</span></span><span class="line"><span class="cl">        return path;
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      // 如果有子项，默认跳转第一个子项路由
</span></span><span class="line"><span class="cl">      let path = &#34;&#34;;
</span></span><span class="line"><span class="cl">      /**
</span></span><span class="line"><span class="cl">       * item 路由子项
</span></span><span class="line"><span class="cl">       * parent 路由父项
</span></span><span class="line"><span class="cl">       */
</span></span><span class="line"><span class="cl">      const getDefaultPath = (item, parent) =&gt; {
</span></span><span class="line"><span class="cl">        // 如果path是个外部链接（不建议），直接返回链接，存在个问题：如果是外部链接点击跳转后当前页内容还是上一个路由内容
</span></span><span class="line"><span class="cl">        if (isExternal(item.path)) {
</span></span><span class="line"><span class="cl">          path = item.path;
</span></span><span class="line"><span class="cl">          return;
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">        // 第一次需要父项路由拼接，所以只是第一个传parent
</span></span><span class="line"><span class="cl">        if (parent) {
</span></span><span class="line"><span class="cl">          path += parent.path + &#34;/&#34; + item.path;
</span></span><span class="line"><span class="cl">        } else {
</span></span><span class="line"><span class="cl">          path += &#34;/&#34; + item.path;
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">        // 如果还有子项，继续递归
</span></span><span class="line"><span class="cl">        if (item.children) {
</span></span><span class="line"><span class="cl">          getDefaultPath(item.children[0]);
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">      };
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      if (item.children) {
</span></span><span class="line"><span class="cl">        getDefaultPath(item.children[0], item);
</span></span><span class="line"><span class="cl">        return path;
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      return item.path;
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    handleSelect(key, keyPath) {
</span></span><span class="line"><span class="cl">      if (!this.token &amp;&amp; key == &#34;/user&#34;) {
</span></span><span class="line"><span class="cl">        this.$router.push(&#34;/login&#34;);
</span></span><span class="line"><span class="cl">        return;
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">      // 把选中路由的子路由保存store
</span></span><span class="line"><span class="cl">      const route = this.routes.find((item) =&gt; item.path === key);
</span></span><span class="line"><span class="cl">      // if (!this.token &amp;&amp; key == &#34;/user&#34;) {
</span></span><span class="line"><span class="cl">      //   this.$confirm(&#34;此操作需要登录, 是否继续?&#34;, &#34;提示&#34;, {
</span></span><span class="line"><span class="cl">      //     confirmButtonText: &#34;去登录&#34;,
</span></span><span class="line"><span class="cl">      //     cancelButtonText: &#34;取消&#34;,
</span></span><span class="line"><span class="cl">      //     type: &#34;warning&#34;,
</span></span><span class="line"><span class="cl">      //   })
</span></span><span class="line"><span class="cl">      //     .then(() =&gt; {
</span></span><span class="line"><span class="cl">      //       this.$router.push(&#34;/login&#34;);
</span></span><span class="line"><span class="cl">      //     })
</span></span><span class="line"><span class="cl">      //     .catch(() =&gt; {
</span></span><span class="line"><span class="cl">      //       this.$message({
</span></span><span class="line"><span class="cl">      //         type: &#34;info&#34;,
</span></span><span class="line"><span class="cl">      //         message: &#34;已取消&#34;,
</span></span><span class="line"><span class="cl">      //       });
</span></span><span class="line"><span class="cl">      //     });
</span></span><span class="line"><span class="cl">      // } else {
</span></span><span class="line"><span class="cl">      this.$store.commit(&#34;permission/SET_CURRENT_ROUTES&#34;, route);
</span></span><span class="line"><span class="cl">      this.setSidebarHide(route);
</span></span><span class="line"><span class="cl">      // }
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    // 设置侧边栏的显示和隐藏
</span></span><span class="line"><span class="cl">    setSidebarHide(route) {
</span></span><span class="line"><span class="cl">      if (!route.children || route.children.length === 1) {
</span></span><span class="line"><span class="cl">        this.$store.dispatch(&#34;app/toggleSideBarHide&#34;, true);
</span></span><span class="line"><span class="cl">      } else {
</span></span><span class="line"><span class="cl">        this.$store.dispatch(&#34;app/toggleSideBarHide&#34;, false);
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    goLogin() {
</span></span><span class="line"><span class="cl">      this.$router.push(`/login?redirect=${this.$route.fullPath}`);
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    async logout() {
</span></span><span class="line"><span class="cl">      await this.$store.dispatch(&#34;user/logout&#34;);
</span></span><span class="line"><span class="cl">      history.pushState(history.state.key, &#34;首页&#34;, &#34;#/home-page&#34;);
</span></span><span class="line"><span class="cl">      this.$nextTick(() =&gt; {
</span></span><span class="line"><span class="cl">        setName(&#34;&#34;);
</span></span><span class="line"><span class="cl">        setToken(&#34;&#34;);
</span></span><span class="line"><span class="cl">        this.$router.push(`/login?redirect=${this.$route.fullPath}`);
</span></span><span class="line"><span class="cl">      });
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    goRegister() {
</span></span><span class="line"><span class="cl">      this.$router.push({
</span></span><span class="line"><span class="cl">        name: &#34;login&#34;,
</span></span><span class="line"><span class="cl">        params: {
</span></span><span class="line"><span class="cl">          register: true,
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">      });
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">  },
</span></span><span class="line"><span class="cl">  beforeMount() {
</span></span><span class="line"><span class="cl">    this.routes = JSON.parse(JSON.stringify(constantRoutes));
</span></span><span class="line"><span class="cl">  },
</span></span><span class="line"><span class="cl">};
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span><span class="line"><span class="cl">&lt;style scoped&gt;
</span></span><span class="line"><span class="cl">.log {
</span></span><span class="line"><span class="cl">  cursor: pointer;
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">&lt;/style&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">{
</span></span><span class="line"><span class="cl">  path: &#39;/statistic&#39;,
</span></span><span class="line"><span class="cl">  component: Layout,
</span></span><span class="line"><span class="cl">  hidden: true,
</span></span><span class="line"><span class="cl">  name: &#39;statistic&#39;,
</span></span><span class="line"><span class="cl">  meta: {
</span></span><span class="line"><span class="cl">    title: &#39;数据管理&#39;,
</span></span><span class="line"><span class="cl">    icon: &#39;example&#39;
</span></span><span class="line"><span class="cl">  },
</span></span><span class="line"><span class="cl">},
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="111111111111111111111111111111111">111111111111111111111111111111111</h1>
<h1 id="安装element-ui---element-plus">安装element-ui   element-plus</h1>
<p>npm install &ndash;save element-plus</p>
<p>npm i element-ui -S</p>
<ol>
<li>
<p>在 main.js 中写入以下内容：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import ElementUI from &#39;element-ui&#39;; 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">import &#39;element-ui/lib/theme-chalk/index.css&#39;;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Vue.use(ElementUI);
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h1 id="登陆页面">登陆页面</h1>
<ol>
<li>App.vue</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;template&gt;
</span></span><span class="line"><span class="cl">  &lt;div id=&#34;app&#34;&gt;
</span></span><span class="line"><span class="cl">    &lt;router-view/&gt;
</span></span><span class="line"><span class="cl">  &lt;/div&gt;
</span></span><span class="line"><span class="cl">&lt;/template&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>Index.js</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import Login from &#39;../views/Login.vue&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">const routes = [
</span></span><span class="line"><span class="cl">  {
</span></span><span class="line"><span class="cl">    path: &#39;/&#39;,
</span></span><span class="line"><span class="cl">    name: &#39;Login&#39;,
</span></span><span class="line"><span class="cl">    component: Login
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">]
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>Login.vue</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;template&gt;
</span></span><span class="line"><span class="cl">  &lt;div&gt;
</span></span><span class="line"><span class="cl">    &lt;el-form :ref=&#34;loginForm&#34; :model=&#34;loginForm&#34; class=&#34;loginContainer&#34;&gt;
</span></span><span class="line"><span class="cl">      &lt;h3 class=&#34;loginTitle&#34;&gt;系统登陆&lt;/h3&gt;
</span></span><span class="line"><span class="cl">      &lt;el-form-item&gt;
</span></span><span class="line"><span class="cl">        &lt;el-input type=&#34;text&#34; auto-complete=&#34;false&#34; v-model=&#34;loginForm.username&#34;
</span></span><span class="line"><span class="cl">                  placeholder=&#34;请输入用户名&#34;&gt;&lt;/el-input&gt;
</span></span><span class="line"><span class="cl">      &lt;/el-form-item&gt;
</span></span><span class="line"><span class="cl">      &lt;el-form-item&gt;
</span></span><span class="line"><span class="cl">        &lt;el-input type=&#34;password&#34; auto-complete=&#34;false&#34; v-model=&#34;loginForm.password&#34;
</span></span><span class="line"><span class="cl">                  placeholder=&#34;请输入用户密码&#34;&gt;&lt;/el-input&gt;
</span></span><span class="line"><span class="cl">      &lt;/el-form-item&gt;
</span></span><span class="line"><span class="cl">      &lt;el-form-item&gt;
</span></span><span class="line"><span class="cl">        &lt;el-input type=&#34;text&#34; auto-complete=&#34;false&#34; v-model=&#34;loginForm.code&#34;
</span></span><span class="line"><span class="cl">                  placeholder=&#34;点击图片更换验证码&#34; style=&#34;width: 250px&#34;&gt;&lt;/el-input&gt;
</span></span><span class="line"><span class="cl">        &lt;img :src=&#34;captchaUrl&#34;&gt;
</span></span><span class="line"><span class="cl">      &lt;/el-form-item&gt;
</span></span><span class="line"><span class="cl">      &lt;el-checkbox v-model=&#34;checked&#34; class=&#34;loginRemember&#34;&gt;记住我&lt;/el-checkbox&gt;
</span></span><span class="line"><span class="cl">      &lt;el-button type=&#34;primary&#34; @click=&#34;onSubmit&#34; style=&#34;width: 100%&#34;&gt;登陆&lt;/el-button&gt;
</span></span><span class="line"><span class="cl">    &lt;/el-form&gt;
</span></span><span class="line"><span class="cl">  &lt;/div&gt;
</span></span><span class="line"><span class="cl">&lt;/template&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">&lt;script&gt;
</span></span><span class="line"><span class="cl">export default {
</span></span><span class="line"><span class="cl">  name: &#34;Login&#34;,
</span></span><span class="line"><span class="cl">  data() {
</span></span><span class="line"><span class="cl">    return {
</span></span><span class="line"><span class="cl">      captchaUrl: &#39;&#39;,
</span></span><span class="line"><span class="cl">      loginForm: {
</span></span><span class="line"><span class="cl">        username: &#39;admin123&#39;,
</span></span><span class="line"><span class="cl">        password: &#39;123456&#39;,
</span></span><span class="line"><span class="cl">        code: &#39;&#39;
</span></span><span class="line"><span class="cl">      },
</span></span><span class="line"><span class="cl">       // 默认记住我 是确认的
</span></span><span class="line"><span class="cl">      checked: true
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">  },
</span></span><span class="line"><span class="cl">  created() {
</span></span><span class="line"><span class="cl">  },
</span></span><span class="line"><span class="cl">  methods: {}
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">&lt;style&gt;
</span></span><span class="line"><span class="cl">.loginContainer{
</span></span><span class="line"><span class="cl">  background: #fff;
</span></span><span class="line"><span class="cl">  /*背景延伸到边框外沿*/
</span></span><span class="line"><span class="cl">  background-clip: padding-box;
</span></span><span class="line"><span class="cl">  border-radius: 15px;
</span></span><span class="line"><span class="cl">  /*form表单居中*/
</span></span><span class="line"><span class="cl">  margin: 180px auto;
</span></span><span class="line"><span class="cl">  width: 350px;
</span></span><span class="line"><span class="cl">  padding: 15px 35px 15px 35px;
</span></span><span class="line"><span class="cl">  border: 1px solid #eaeaea;
</span></span><span class="line"><span class="cl">  box-shadow: 0 0 25px #eaeaeacac6c6;
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">.loginRemember{
</span></span><span class="line"><span class="cl">  text-align: left;
</span></span><span class="line"><span class="cl">  margin: 0px 0px 15px 0px;
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">.loginTitle{
</span></span><span class="line"><span class="cl">  margin: 10px auto 30px auto;
</span></span><span class="line"><span class="cl">  /*文字居中*/
</span></span><span class="line"><span class="cl">  text-align: center;
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">&lt;/style&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>给form表单 添加验证规则</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;el-form :rules=&#34;rules&#34; ref=&#34;loginForm&#34; :model=&#34;loginForm&#34; class=&#34;loginContainer&#34;&gt;
</span></span><span class="line"><span class="cl"> &lt;el-form-item prop=&#34;username&#34;&gt;
</span></span><span class="line"><span class="cl">        。。。
</span></span><span class="line"><span class="cl">      &lt;el-form-item prop=&#34;password&#34;&gt;
</span></span><span class="line"><span class="cl">      。。。
</span></span><span class="line"><span class="cl">      &lt;el-form-item prop=&#34;code&#34;&gt;
</span></span><span class="line"><span class="cl">        。。。
</span></span><span class="line"><span class="cl">      &lt;/el-form-item&gt;
</span></span><span class="line"><span class="cl">// 这是表单的验证规则对象
</span></span><span class="line"><span class="cl">//验证规则是与  prop=&#34;username&#34;  相关的
</span></span><span class="line"><span class="cl">      rules: {
</span></span><span class="line"><span class="cl">        // 验证用户名是否合法
</span></span><span class="line"><span class="cl">        username: [
</span></span><span class="line"><span class="cl">          {required: true, message: &#39;请输入登陆名称&#39;, trigger: &#39;blur&#39;},
</span></span><span class="line"><span class="cl">          {min: 3, max: 10, message: &#39;长度在 3 到 10个字符&#39;, trigger: &#39;blur&#39;}
</span></span><span class="line"><span class="cl">        ],
</span></span><span class="line"><span class="cl">        // 验证密码是否合法
</span></span><span class="line"><span class="cl">        password: [
</span></span><span class="line"><span class="cl">          {required: true, message: &#39;请输入登陆密码&#39;, trigger: &#39;blur&#39;},
</span></span><span class="line"><span class="cl">          {min: 6, max: 15, message: &#39;长度在 6 到 15个字符&#39;, trigger: &#39;blur&#39;}
</span></span><span class="line"><span class="cl">        ],
</span></span><span class="line"><span class="cl">        code: [
</span></span><span class="line"><span class="cl">          {required: true, message: &#39;请输入验证码&#39;, trigger: &#39;blur&#39;},
</span></span><span class="line"><span class="cl">          {min: 3, max: 10, message: &#39;长度在 3 到 10个字符&#39;, trigger: &#39;blur&#39;}
</span></span><span class="line"><span class="cl">        ],
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>添加登陆的点击事件</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">submitForm(formName) {
</span></span><span class="line"><span class="cl">  this.$refs.loginForm.validate((valid) =&gt; {
</span></span><span class="line"><span class="cl">    if (valid) {
</span></span><span class="line"><span class="cl">      alert(&#39;submit!&#39;);
</span></span><span class="line"><span class="cl">    } else {
</span></span><span class="line"><span class="cl">      alert(&#34;123&#34;)
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl"> );
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="5">
<li>安装axios  调用后端接口</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> npm i axios
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="基础语法">基础语法</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;template&gt;
</span></span><span class="line"><span class="cl">&lt;div&gt;
</span></span><span class="line"><span class="cl">  &lt;h1&gt;hello world!&lt;/h1&gt;
</span></span><span class="line"><span class="cl">   &lt;p v-text=&#34;name&#34;&gt;&lt;/p&gt;
</span></span><span class="line"><span class="cl">   &lt;!-- v-text的简写 --&gt;
</span></span><span class="line"><span class="cl">   &lt;p&gt;{{name}}&lt;/p&gt;
</span></span><span class="line"><span class="cl">    &lt;!-- v-html --&gt;
</span></span><span class="line"><span class="cl">    &lt;p&gt;{{info}}&lt;/p&gt;
</span></span><span class="line"><span class="cl">    &lt;p v-html=&#34;info&#34;&gt;&lt;/p&gt;
</span></span><span class="line"><span class="cl">    &lt;!-- v-bind:属性名=&#34;变量名&#34;绑定动态的标签属性   简写：  :属性名=&#34;变量名&#34;--&gt; 
</span></span><span class="line"><span class="cl">    &lt;p v-bind:data=&#34;dataVal&#34;&gt;我有属性data&lt;/p&gt;
</span></span><span class="line"><span class="cl">    &lt;!-- class类名绑定  可以叠加使用 --&gt;
</span></span><span class="line"><span class="cl">    &lt;p class=&#34;text&#34; :class=&#34;{&#39;red&#39;:!isRed}&#34;&gt;我是红色的&lt;/p&gt;
</span></span><span class="line"><span class="cl">    &lt;!-- 判断语句  v-if   false的时候 是元素未渲染在页面--&gt;
</span></span><span class="line"><span class="cl">    &lt;!-- v-show :false的时候 是样式上的隐藏 --&gt;
</span></span><span class="line"><span class="cl">    &lt;p v-if=&#34;!isTrue&#34;&gt;我是if存在&lt;/p&gt;
</span></span><span class="line"><span class="cl">    &lt;p v-show=&#34;!isTrue&#34;&gt;我是show展示&lt;/p&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    &lt;p v-if=&#34;isFalse&#34;&gt;if&lt;/p&gt;
</span></span><span class="line"><span class="cl">    &lt;p v-else&gt;else&lt;/p&gt; 
</span></span><span class="line"><span class="cl">    &lt;!-- for循环 --&gt;
</span></span><span class="line"><span class="cl">    &lt;ul&gt;
</span></span><span class="line"><span class="cl">      &lt;!-- 循环此数组userList  --&gt;
</span></span><span class="line"><span class="cl">      &lt;!-- v-for=&#34;(每一个对象的变量,下标) in 数组&#34;  --&gt;
</span></span><span class="line"><span class="cl">      &lt;li v-for=&#34;(item,index) in userList&#34; :key=&#34;index&#34;&gt;
</span></span><span class="line"><span class="cl">        学生姓名：{{item.username}}
</span></span><span class="line"><span class="cl">        学生年龄：{{item.userage}}
</span></span><span class="line"><span class="cl">      &lt;/li&gt;
</span></span><span class="line"><span class="cl">    &lt;/ul&gt;
</span></span><span class="line"><span class="cl">  &lt;/div&gt;
</span></span><span class="line"><span class="cl">&lt;/template&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">&lt;script&gt;
</span></span><span class="line"><span class="cl">  import {reactive,toRefs} from &#34;vue&#34;
</span></span><span class="line"><span class="cl">  export default{
</span></span><span class="line"><span class="cl">    name:&#34;home&#34;,
</span></span><span class="line"><span class="cl">    setup() {
</span></span><span class="line"><span class="cl">      // beforeCreate和created 两个生命周期
</span></span><span class="line"><span class="cl">      const data = reactive({
</span></span><span class="line"><span class="cl">        name:&#34;小红&#34;,
</span></span><span class="line"><span class="cl">        age:20,
</span></span><span class="line"><span class="cl">        info:&#34;&lt;i&gt;我是斜体字&lt;/i&gt;&#34;,
</span></span><span class="line"><span class="cl">        dataVal:20,
</span></span><span class="line"><span class="cl">        isRed:true,
</span></span><span class="line"><span class="cl">        isTrue:true,
</span></span><span class="line"><span class="cl">        isFalse:false, 
</span></span><span class="line"><span class="cl">        userList:[
</span></span><span class="line"><span class="cl">          {
</span></span><span class="line"><span class="cl">            username:&#34;小红&#34;,
</span></span><span class="line"><span class="cl">            userage:10
</span></span><span class="line"><span class="cl">          },
</span></span><span class="line"><span class="cl">          
</span></span><span class="line"><span class="cl">          {
</span></span><span class="line"><span class="cl">            username:&#34;小明&#34;,
</span></span><span class="line"><span class="cl">            userage:12
</span></span><span class="line"><span class="cl">          },
</span></span><span class="line"><span class="cl">          {
</span></span><span class="line"><span class="cl">            username:&#34;小李&#34;,
</span></span><span class="line"><span class="cl">            userage:13
</span></span><span class="line"><span class="cl">          },
</span></span><span class="line"><span class="cl">          {
</span></span><span class="line"><span class="cl">            username:&#34;小蓝&#34;,
</span></span><span class="line"><span class="cl">            userage:14
</span></span><span class="line"><span class="cl">          },
</span></span><span class="line"><span class="cl">          {
</span></span><span class="line"><span class="cl">            username:&#34;杰克&#34;,
</span></span><span class="line"><span class="cl">            userage:11
</span></span><span class="line"><span class="cl">          }
</span></span><span class="line"><span class="cl">        ]
</span></span><span class="line"><span class="cl">      })
</span></span><span class="line"><span class="cl">      return{
</span></span><span class="line"><span class="cl">        ...toRefs(data)
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span><span class="line"><span class="cl">&lt;style &gt;
</span></span><span class="line"><span class="cl">  .red{
</span></span><span class="line"><span class="cl">    color: red;
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">&lt;/style&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="生命周期">生命周期</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;template&gt;
</span></span><span class="line"><span class="cl">  &lt;div&gt;
</span></span><span class="line"><span class="cl">    &lt;h2&gt;vue3的生命周期&lt;/h2&gt;
</span></span><span class="line"><span class="cl">    &lt;div id=&#34;dom&#34;&gt;{{ msg }}--{{ num }}&lt;/div&gt;
</span></span><span class="line"><span class="cl">    &lt;!-- v-on:事件名=&#34;事件方法&#34; 绑定事件 简写@:事件名=&#34;事件方法&#34; --&gt;
</span></span><span class="line"><span class="cl">    &lt;!-- 事件及方法直接声明在 setup内--&gt;
</span></span><span class="line"><span class="cl">    &lt;button v-on:click=&#34;handleClick&#34;&gt;click me&lt;/button&gt;
</span></span><span class="line"><span class="cl">    &lt;hr /&gt;
</span></span><span class="line"><span class="cl">    &lt;!-- v-model 双向绑定 --&gt;
</span></span><span class="line"><span class="cl">    &lt;!-- input：输入事件 
</span></span><span class="line"><span class="cl">        blur:失去焦点
</span></span><span class="line"><span class="cl">        focus:获取焦点
</span></span><span class="line"><span class="cl">        change：内容更改
</span></span><span class="line"><span class="cl">    --&gt;
</span></span><span class="line"><span class="cl">    &lt;input type=&#34;text&#34; placeholder=&#34;请输入姓名&#34; v-model=&#34;userName&#34; /&gt;&lt;br /&gt;
</span></span><span class="line"><span class="cl">    &lt;input
</span></span><span class="line"><span class="cl">      type=&#34;text&#34;
</span></span><span class="line"><span class="cl">      placeholder=&#34;请输入电话&#34;
</span></span><span class="line"><span class="cl">      v-model=&#34;userPhone&#34;
</span></span><span class="line"><span class="cl">      @focus=&#34;handleFocus&#34;
</span></span><span class="line"><span class="cl">      @blur=&#34;handleBlur&#34;
</span></span><span class="line"><span class="cl">      @input=&#34;handleInput&#34;
</span></span><span class="line"><span class="cl">      @change=&#34;handleChange&#34;
</span></span><span class="line"><span class="cl">    /&gt;&lt;br /&gt;
</span></span><span class="line"><span class="cl">    &lt;textarea
</span></span><span class="line"><span class="cl">      placeholder=&#34;请输入您的建议&#34;
</span></span><span class="line"><span class="cl">      cols=&#34;30&#34;
</span></span><span class="line"><span class="cl">      rows=&#34;10&#34;
</span></span><span class="line"><span class="cl">      v-model=&#34;userInput&#34;
</span></span><span class="line"><span class="cl">    &gt;&lt;/textarea&gt;
</span></span><span class="line"><span class="cl">    &lt;p&gt;{{ userName }}---{{ userInput }}&lt;/p&gt;
</span></span><span class="line"><span class="cl">    &lt;button @click=&#34;submit&#34;&gt;提交&lt;/button&gt;
</span></span><span class="line"><span class="cl">  &lt;/div&gt;
</span></span><span class="line"><span class="cl">&lt;/template&gt;
</span></span><span class="line"><span class="cl">&lt;script&gt;
</span></span><span class="line"><span class="cl">import {
</span></span><span class="line"><span class="cl">  reactive,
</span></span><span class="line"><span class="cl">  toRefs,
</span></span><span class="line"><span class="cl">  onBeforeMount,
</span></span><span class="line"><span class="cl">  onMounted,
</span></span><span class="line"><span class="cl">  onBeforeUpdate,
</span></span><span class="line"><span class="cl">  onUpdated
</span></span><span class="line"><span class="cl">} from &#39;vue&#39;
</span></span><span class="line"><span class="cl">export default {
</span></span><span class="line"><span class="cl">  name: &#39;about&#39;,
</span></span><span class="line"><span class="cl">  setup() {
</span></span><span class="line"><span class="cl">    const data = reactive({
</span></span><span class="line"><span class="cl">      msg: &#39;你好！&#39;,
</span></span><span class="line"><span class="cl">      msg2: &#39;hello world&#39;,
</span></span><span class="line"><span class="cl">      num: 0,
</span></span><span class="line"><span class="cl">      userName: &#39;&#39;,
</span></span><span class="line"><span class="cl">      userInput: &#39;&#39;,
</span></span><span class="line"><span class="cl">      userPhone: &#39;&#39;
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">    // 数据渲染前
</span></span><span class="line"><span class="cl">    onBeforeMount(() =&gt; {
</span></span><span class="line"><span class="cl">      console.log(&#39;onBeforeMount&#39;, document.querySelector(&#39;#dom&#39;))
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">    // 数据渲染后
</span></span><span class="line"><span class="cl">    onMounted(() =&gt; {
</span></span><span class="line"><span class="cl">      console.log(&#39;onMounted&#39;, document.querySelector(&#39;#dom&#39;))
</span></span><span class="line"><span class="cl">      setTimeout(() =&gt; {
</span></span><span class="line"><span class="cl">        data.msg = &#39;hello&#39;
</span></span><span class="line"><span class="cl">        // data.msg2=&#34;hello&#34;
</span></span><span class="line"><span class="cl">      }, 2000)
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">    // dom更新前
</span></span><span class="line"><span class="cl">    onBeforeUpdate(() =&gt; {
</span></span><span class="line"><span class="cl">      console.log(&#39;onBeforeUpdate&#39;)
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">    // dom更新前
</span></span><span class="line"><span class="cl">    onUpdated(() =&gt; {
</span></span><span class="line"><span class="cl">      console.log(&#39;onUpdated&#39;)
</span></span><span class="line"><span class="cl">      // data.num+=1;//出发死循环
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">    // 事件及方法
</span></span><span class="line"><span class="cl">    const handleClick = () =&gt; {
</span></span><span class="line"><span class="cl">      alert(&#39;你好&#39;)
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    const submit = () =&gt; {
</span></span><span class="line"><span class="cl">      alert(`${data.userName}的建议是${data.userInput}`)
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    const handleFocus = () =&gt; {
</span></span><span class="line"><span class="cl">      console.log(&#39;获取焦点了&#39;)
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    const handleBlur = () =&gt; {
</span></span><span class="line"><span class="cl">      return
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    const handleInput = () =&gt; {
</span></span><span class="line"><span class="cl">      //  正则验证手机号
</span></span><span class="line"><span class="cl">      return
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    const handleChange = () =&gt; {
</span></span><span class="line"><span class="cl">      //  正则验证手机号
</span></span><span class="line"><span class="cl">      if (!/^[1][3,4,5,7,8][0-9]{9}$/.test(data.userPhone)) {
</span></span><span class="line"><span class="cl">        console.log(&#39;不符合手机号&#39;)
</span></span><span class="line"><span class="cl">      } else {
</span></span><span class="line"><span class="cl">        console.log(&#39;符合手机号&#39;)
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    return {
</span></span><span class="line"><span class="cl">      ...toRefs(data),
</span></span><span class="line"><span class="cl">      handleClick,
</span></span><span class="line"><span class="cl">      submit,
</span></span><span class="line"><span class="cl">      handleFocus,
</span></span><span class="line"><span class="cl">      handleBlur,
</span></span><span class="line"><span class="cl">      handleInput,
</span></span><span class="line"><span class="cl">      handleChange
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="生命周期-1">生命周期</h1>
<p>Vue生命周期函数就是vue实例在某一个时间点会自动执行的函数</p>
<ol>
<li>
<p>beforeCreate（）{}：Vue创建前，此阶段为实例初始化之后，this指向创建的实例，数据观察,数据监听事件机制都未形成，不能获得DOM节点。data，computed，watch，methods 上的方法和数据均不能访问，注：date和methods的数据都还未初始化。</p>
<p>当Vue对象创建之前触发的函数（beforeCreate）</p>
</li>
<li>
<p>Created（）{}：  已经在内存中创建好了，data和methods都可以使用 但还没有编译模版</p>
<p>Vue创建后，此阶段为实例初始化之后，data、props、computed的初始化导入完成， 注：要调用methods中的方法，或者操作data中的数据，最早只能在Created中操作能访问 data computed watch methods 上的方法和数据，初始化完成时的事件写这个里面，此阶段还未挂载DOM。</p>
</li>
</ol>
<p>​       Vue对象创建完成触发的函数(Created)</p>
<ol start="3">
<li>beforeMount（）{}: Vue载入前，阶段执行时，  模板已经在内存中编译好了，但是未挂载到页面中，（页面还是旧的）</li>
</ol>
<p>注：这个阶段是过渡性的，一般一个项目只能用到一两次。</p>
<p>​     当Vue对象开始挂载数据的时候触发的函数(beforeMount)</p>
<ol start="4">
<li>
<p>Mounted（）{}：编译好模版 挂载到了页面指定的容器中显示数据</p>
<p>Vue载入后，(完成创建vm.$el，和双向绑定)； 只要执行完mounted,就表示整个Vue实例已经初始化完成了，此时组件已经脱离里了创建阶段， 进入到了运行阶段。</p>
</li>
</ol>
<p>​       当Vue对象挂载数据的完成的时候触发的函数(Mounted)</p>
<ol start="5">
<li>beforeUpdate（）{}:Vue更新前， 当执行beforeUpdate的时候，页面中显示的数据还是旧的，此时date数据是最新的，页面尚未和最新数据数据保持同步。但是DOM中的数据会改变，这是vue双向数据绑定的作用，可在更新前访问现有的DOM，如手动移出添加的事件监听器。</li>
</ol>
<p>​        Vue对象中的data数据发生改变之前触发的函数 (beforeUpdate)</p>
<ol start="6">
<li>
<p>Updated（）{}：Vue更新后， Updated执行时数据已经保持同步了，都是最新的，完成虚拟DOM的重新渲染和打补丁。
组件DOM已完成更新，可执行依赖的DOM操作。</p>
<p>Vue对象中的data数据发生改变完成触发的函数(Updated)</p>
</li>
</ol>
<p>注意：不要在此函数中操作数据（修改属性），否则就会陷入死循环。</p>
<ol start="7">
<li>beforeDestroy（）{}：（Vue销毁前，可做一些删除提示，比如：您确定删除****吗？）当执行beforeDestroy的时候，Vue实例就已经从运行阶段进入到销毁阶段了。实例上的所有date和methods以及过滤器和指令都是处于可用状态，此时还没有真正的执行销毁过程。</li>
</ol>
<p>​      Vue对象销毁之前触发的函数 (beforeDestroy)</p>
<ol start="8">
<li>
<p>Destroyed（）{}：Vue销毁后, 当执行到destroted函数的时候，组件已经完全销毁（渣都不剩），此时组件中的所有的数据，方法，指令，过滤器&hellip;都已经销毁（不可用了）。</p>
<p>Vue对象销毁完成触发的函数(Destroy)</p>
</li>
<li>
<p>建立前后</p>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;div id=&#34;root&#34;&gt;&lt;/div&gt;
</span></span><span class="line"><span class="cl">&lt;script type=&#34;text/javascript&#34;&gt;
</span></span><span class="line"><span class="cl">var vm=new Vue({
</span></span><span class="line"><span class="cl">el:&#34;#root&#34;,
</span></span><span class="line"><span class="cl">beforeCreate:function(){//01 建立之前
</span></span><span class="line"><span class="cl">console.log(&#34;before create&#34;);
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">created:function(){
</span></span><span class="line"><span class="cl">console.log(&#34;created&#34;);//02 建立之后
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">})
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>有模板的渲染情况(按模板渲染)</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;div id=&#34;root&#34;&gt;&lt;/div&gt;
</span></span><span class="line"><span class="cl">&lt;script type=&#34;text/javascript&#34;&gt;
</span></span><span class="line"><span class="cl">var vm=new Vue({
</span></span><span class="line"><span class="cl">el:&#34;#root&#34;,
</span></span><span class="line"><span class="cl">data:{},
</span></span><span class="line"><span class="cl">beforeCreate:function(){
</span></span><span class="line"><span class="cl">console.log(&#34;before create&#34;);
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">created:function(){
</span></span><span class="line"><span class="cl">console.log(&#34;created&#34;);
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">template:&#39;&lt;h1&gt;123&lt;/h1&gt;&#39;,//如果有模板的话模板替换 EL
</span></span><span class="line"><span class="cl">})
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>02-1 无模板的渲染情况(按挂载元素渲染)</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;div id=&#34;root&#34;&gt;{{message}}&lt;/div&gt;
</span></span><span class="line"><span class="cl">&lt;script type=&#34;text/javascript&#34;&gt;
</span></span><span class="line"><span class="cl">var vm=new Vue({
</span></span><span class="line"><span class="cl">el:&#34;#root&#34;,
</span></span><span class="line"><span class="cl">data:{
</span></span><span class="line"><span class="cl">message:&#34;hello vue!&#34;
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">beforeCreate:function(){
</span></span><span class="line"><span class="cl">console.log(&#34;before create&#34;);
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">created:function(){
</span></span><span class="line"><span class="cl">console.log(&#34;created&#34;);
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">//如果无模板则用默认的 el 作为挂载点的模板
</span></span><span class="line"><span class="cl">/*template:&#39;&lt;h1&gt;123&lt;/h1&gt;&#39;,*/ 
</span></span><span class="line"><span class="cl">})
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>挂载前后</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;div id=&#34;root&#34;&gt;&lt;/div&gt;
</span></span><span class="line"><span class="cl">&lt;script type=&#34;text/javascript&#34;&gt;
</span></span><span class="line"><span class="cl">//备注：没有模板无论是挂载前还是挂载后均显示原有 el 的结构
</span></span><span class="line"><span class="cl">var vm=new Vue({
</span></span><span class="line"><span class="cl">el:&#34;#root&#34;,
</span></span><span class="line"><span class="cl">data:{},
</span></span><span class="line"><span class="cl">beforeCreate:function(){
</span></span><span class="line"><span class="cl">console.log(&#34;before create&#34;);
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">created:function(){
</span></span><span class="line"><span class="cl">console.log(&#34;created&#34;);
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">beforeMount:function(){//挂载之前
</span></span><span class="line"><span class="cl">console.log(this.$el);
</span></span><span class="line"><span class="cl">console.log(&#34;before mount&#34;)
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">mounted:function(){
</span></span><span class="line"><span class="cl">console.log(this.$el);
</span></span><span class="line"><span class="cl">console.log(&#34;mounted&#34;)
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">})
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="5">
<li>销毁前后</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;div id=&#34;root&#34;&gt;{{message}}&lt;/div&gt;
</span></span><span class="line"><span class="cl">&lt;script type=&#34;text/javascript&#34;&gt;
</span></span><span class="line"><span class="cl">//备注：有模板情情况显示的是模板
</span></span><span class="line"><span class="cl">var vm=new Vue({
</span></span><span class="line"><span class="cl">el:&#34;#root&#34;,
</span></span><span class="line"><span class="cl">data:{
</span></span><span class="line"><span class="cl">message:&#34;未挂载模板之前的显示&#34;
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">template:&#34;&lt;h1&gt;This is h1 template&lt;/h1&gt;&#34;,
</span></span><span class="line"><span class="cl">beforeCreate:function(){
</span></span><span class="line"><span class="cl">console.log(&#34;before create&#34;);
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">created:function(){
</span></span><span class="line"><span class="cl">console.log(&#34;created&#34;);
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">beforeMount:function(){//挂载之前
</span></span><span class="line"><span class="cl">console.log(this.$el);
</span></span><span class="line"><span class="cl">console.log(&#34;before mount&#34;)
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">mounted:function(){
</span></span><span class="line"><span class="cl">console.log(this.$el);
</span></span><span class="line"><span class="cl">console.log(&#34;mounted&#34;)
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">//以下两个在控制台并不能被打印出来，执行完 vm.$destroy()即可以打印
</span></span><span class="line"><span class="cl">beforeDestroy:function(){
</span></span><span class="line"><span class="cl">console.log(&#34;before destroy&#34;);
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">destroyed:function(){
</span></span><span class="line"><span class="cl">console.log(&#34;destoryed&#34;);
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">})
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="6">
<li>更新前后</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;div id=&#34;root&#34;&gt;{{message}}&lt;/div&gt;
</span></span><span class="line"><span class="cl">&lt;script type=&#34;text/javascript&#34;&gt;
</span></span><span class="line"><span class="cl">//备注：有模板情情况显示的是模板
</span></span><span class="line"><span class="cl">var vm=new Vue({
</span></span><span class="line"><span class="cl">el:&#34;#root&#34;,
</span></span><span class="line"><span class="cl">data:{
</span></span><span class="line"><span class="cl">message:&#34;This is a message&#34;
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">//template:&#34;&lt;h1&gt;This is h1 template&lt;/h1&gt;&#34;,
</span></span><span class="line"><span class="cl">beforeCreate:function(){
</span></span><span class="line"><span class="cl">console.log(&#34;before create&#34;);
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">created:function(){
</span></span><span class="line"><span class="cl">console.log(&#34;created&#34;);
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">beforeMount:function(){//挂载之前
</span></span><span class="line"><span class="cl">console.log(this.$el);
</span></span><span class="line"><span class="cl">console.log(&#34;before mount&#34;)
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">mounted:function(){
</span></span><span class="line"><span class="cl">console.log(this.$el);
</span></span><span class="line"><span class="cl">console.log(&#34;mounted&#34;)
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">//以下两个在控制台并不能被打印出来，执行完 vm.$destroy()即可以打印
</span></span><span class="line"><span class="cl">beforeDestroy:function(){
</span></span><span class="line"><span class="cl">console.log(&#34;before destroy&#34;);
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">destroyed:function(){
</span></span><span class="line"><span class="cl">console.log(&#34;destoryed&#34;);
</span></span><span class="line"><span class="cl">},
</span></span></code></pre></td></tr></table>
</div>
</div><p>//beforeUpdate 与 updated 并不能打印输出，只有在控制台输入 vm.$data.message=&ldquo;新值后&quot;才可以看到结果</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">//更新前
</span></span><span class="line"><span class="cl">beforeUpdate:function(){
</span></span><span class="line"><span class="cl">console.log(&#34;beforeUpdate&#34;);
</span></span><span class="line"><span class="cl">},
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">//更新后
</span></span><span class="line"><span class="cl">updated:function(){
</span></span><span class="line"><span class="cl">console.log(&#34;updated&#34;)
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">})
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-24%2014.26.11.png"
        data-srcset="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-24%2014.26.11.png, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-24%2014.26.11.png 1.5x, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-24%2014.26.11.png 2x"
        data-sizes="auto"
        alt="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-24%2014.26.11.png"
        title="截屏2023-02-24 14.26.11" /></p>
<h1 id="routerindexjs">router/index.js</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import { createRouter, createWebHashHistory } from &#39;vue-router&#39;
</span></span><span class="line"><span class="cl">import LayOut from &#39;../views/LayOut/LayOut&#39; 
</span></span><span class="line"><span class="cl">import store from &#34;../store/index.js&#34;
</span></span><span class="line"><span class="cl">// 路由配置
</span></span><span class="line"><span class="cl">const routes = [
</span></span><span class="line"><span class="cl">  // 登陆页面
</span></span><span class="line"><span class="cl">  {
</span></span><span class="line"><span class="cl">    path:&#34;/login&#34;,
</span></span><span class="line"><span class="cl">    name:&#34;login&#34;,
</span></span><span class="line"><span class="cl">    component:()=&gt;import(&#34;../views/pages/login.vue&#34;)
</span></span><span class="line"><span class="cl">  },
</span></span><span class="line"><span class="cl"> {
</span></span><span class="line"><span class="cl">    path:&#34;/&#34;,
</span></span><span class="line"><span class="cl">    name:&#34;layout&#34;,
</span></span><span class="line"><span class="cl">    component:LayOut,
</span></span><span class="line"><span class="cl">    redirect:&#34;/index&#34;,
</span></span><span class="line"><span class="cl">    // 子路由/嵌套路由
</span></span><span class="line"><span class="cl">    children:[
</span></span><span class="line"><span class="cl">      {
</span></span><span class="line"><span class="cl">        path:&#34;/index&#34;,
</span></span><span class="line"><span class="cl">        name:&#34;index&#34;,
</span></span><span class="line"><span class="cl">        component:()=&gt;import(&#34;../views/pages/index.vue&#34;)
</span></span><span class="line"><span class="cl">      }, 
</span></span><span class="line"><span class="cl">      {
</span></span><span class="line"><span class="cl">        path:&#34;/goods&#34;,
</span></span><span class="line"><span class="cl">        name:&#34;goods&#34;,
</span></span><span class="line"><span class="cl">        component:()=&gt;import(&#34;../views/pages/goodsList.vue&#34;)
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">    ]
</span></span><span class="line"><span class="cl"> }
</span></span><span class="line"><span class="cl">]
</span></span><span class="line"><span class="cl">// 生成hash路由对象
</span></span><span class="line"><span class="cl">const router = createRouter({
</span></span><span class="line"><span class="cl">  history: createWebHashHistory(),
</span></span><span class="line"><span class="cl">  routes
</span></span><span class="line"><span class="cl">})
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">//路由守卫
</span></span><span class="line"><span class="cl">router.beforeEach((to,form,next)=&gt;{
</span></span><span class="line"><span class="cl">  /**
</span></span><span class="line"><span class="cl">   * to:从哪个页面
</span></span><span class="line"><span class="cl">   * from:到哪个页面
</span></span><span class="line"><span class="cl">   * next:只有执行next()页面才会进行跳转
</span></span><span class="line"><span class="cl">   */
</span></span><span class="line"><span class="cl">  // 判断用户是否登录
</span></span><span class="line"><span class="cl">  console.log(&#34;store&#34;,store.state.uInfo)
</span></span><span class="line"><span class="cl">  const uInfo = store.state.uInfo.userInfo  
</span></span><span class="line"><span class="cl">  if(!uInfo.username){ 
</span></span><span class="line"><span class="cl">    // 未登录,跳转到login 
</span></span><span class="line"><span class="cl">    if(to.path===&#34;/login&#34;){
</span></span><span class="line"><span class="cl">      next()
</span></span><span class="line"><span class="cl">      return
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    next(&#34;/login&#34;)
</span></span><span class="line"><span class="cl">  }else{
</span></span><span class="line"><span class="cl">    next()
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">})
</span></span><span class="line"><span class="cl">// 暴露路由对象
</span></span><span class="line"><span class="cl">export default router
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="router-view---router-link">router-view   router-link</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  &lt;!-- 相当a标签,to=&#34;路由path&#34; --&gt;
</span></span><span class="line"><span class="cl">  &lt;!-- &lt;nav&gt;
</span></span><span class="line"><span class="cl">    &lt;router-link to=&#34;/&#34;&gt;Home&lt;/router-link&gt; |
</span></span><span class="line"><span class="cl">    &lt;router-link to=&#34;/about&#34;&gt;About&lt;/router-link&gt;
</span></span><span class="line"><span class="cl">  &lt;/nav&gt; --&gt;
</span></span><span class="line"><span class="cl">  &lt;!-- router-view:展示路由对应的组件内容 --&gt;
</span></span><span class="line"><span class="cl">  &lt;router-view/&gt; 
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="mainjs">main.js</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import { createApp } from &#39;vue&#39;
</span></span><span class="line"><span class="cl">import App from &#39;./App.vue&#39;
</span></span><span class="line"><span class="cl">import router from &#39;./router&#39;
</span></span><span class="line"><span class="cl">import store from &#39;./store&#39;
</span></span><span class="line"><span class="cl">import ElementPlus from &#39;element-plus&#39;
</span></span><span class="line"><span class="cl">import &#39;element-plus/dist/index.css&#39;
</span></span><span class="line"><span class="cl">import * as ElementPlusIconsVue from &#39;@element-plus/icons-vue&#39;
</span></span><span class="line"><span class="cl">const app =createApp(App)
</span></span><span class="line"><span class="cl">// element icon 注册
</span></span><span class="line"><span class="cl">for (const [key, component] of Object.entries(ElementPlusIconsVue)) {
</span></span><span class="line"><span class="cl">    app.component(key, component)
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">app.use(store).use(router).use(ElementPlus).mount(&#39;#app&#39;)
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="storeindexjs">store/index.js</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import { createStore } from &#39;vuex&#39;
</span></span><span class="line"><span class="cl">import uInfo from &#39;./state/userinfo.state.js&#39;
</span></span><span class="line"><span class="cl">export default createStore({
</span></span><span class="line"><span class="cl">  // 数据比较多,分模块
</span></span><span class="line"><span class="cl">  modules: {
</span></span><span class="line"><span class="cl">    uInfo
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">})
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="storestateuserinfojs">store/state/userinfo.js</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">//登陆 
</span></span><span class="line"><span class="cl">export default{
</span></span><span class="line"><span class="cl">//保存登陆后的密码 账号数据
</span></span><span class="line"><span class="cl">    state:{
</span></span><span class="line"><span class="cl">        userInfo:(localStorage.getItem(&#34;loginData&#34;)&amp;&amp;JSON.parse(localStorage.getItem(&#34;loginData&#34;)))||{}
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    mutations:{
</span></span><span class="line"><span class="cl">        setUserInfo(state,uInfo){
</span></span><span class="line"><span class="cl">            state.userInfo=uInfo
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="退出操作">退出操作</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> &lt;el-button @click=&#34;loginOut&#34;&gt;退出&lt;/el-button&gt;
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">const loginOut=()=&gt;{
</span></span><span class="line"><span class="cl">            localStorage.removeItem(&#34;loginData&#34;)
</span></span><span class="line"><span class="cl">            store.commit(&#39;setUserInfo&#39;, {});
</span></span><span class="line"><span class="cl">            router.push({
</span></span><span class="line"><span class="cl">                path:&#34;/login&#34;
</span></span><span class="line"><span class="cl">            })
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> }
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="axios-封装">Axios 封装</h1>
<h2 id="utilservicejs">util/service.js</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import axios from &#34;axios&#34;
</span></span><span class="line"><span class="cl">import { ElLoading } from &#39;element-plus&#39;
</span></span><span class="line"><span class="cl">import { ElMessage } from &#39;element-plus&#39;
</span></span><span class="line"><span class="cl">import store from &#34;../store/index.js&#34;
</span></span><span class="line"><span class="cl">// 使用create创建axios实例
</span></span><span class="line"><span class="cl">let loadingObj = null
</span></span><span class="line"><span class="cl">const Service = axios.create({
</span></span><span class="line"><span class="cl">    timeout:8000,
</span></span><span class="line"><span class="cl">    baseURL:&#34;http://127.0.0.1:8888/api/private/v1/&#34;,
</span></span><span class="line"><span class="cl">    headers:{
</span></span><span class="line"><span class="cl">        &#34;Content-type&#34;:&#34;application/json;charset=utf-8&#34;,
</span></span><span class="line"><span class="cl">        &#34;Authorization&#34;:store.state.uInfo.userInfo.token
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">})
</span></span><span class="line"><span class="cl">// 请求拦截-增加loading,对请求做统一处理
</span></span><span class="line"><span class="cl">Service.interceptors.request.use(config=&gt;{
</span></span><span class="line"><span class="cl">    loadingObj=ElLoading.service({
</span></span><span class="line"><span class="cl">        lock: true,
</span></span><span class="line"><span class="cl">        text: &#39;Loading&#39;,
</span></span><span class="line"><span class="cl">        background: &#39;rgba(0, 0, 0, 0.7)&#39;,
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">    return config
</span></span><span class="line"><span class="cl">})
</span></span><span class="line"><span class="cl">// 响应拦截-对返回值做统一处理
</span></span><span class="line"><span class="cl">Service.interceptors.response.use(response=&gt;{
</span></span><span class="line"><span class="cl">    loadingObj.close()
</span></span><span class="line"><span class="cl">    const data = response.data
</span></span><span class="line"><span class="cl">    if(data.meta.status!=200 &amp;&amp; data.meta.status!=201){
</span></span><span class="line"><span class="cl">        ElMessage.error(data.meta.msg||&#34;服务器出错&#34;)
</span></span><span class="line"><span class="cl">        // 请求出错 
</span></span><span class="line"><span class="cl">        return data
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    return data
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">},error=&gt;{
</span></span><span class="line"><span class="cl">    loadingObj.close()
</span></span><span class="line"><span class="cl">    ElMessage({
</span></span><span class="line"><span class="cl">        message:&#34;服务器错误&#34;,
</span></span><span class="line"><span class="cl">        type:&#34;error&#34;,
</span></span><span class="line"><span class="cl">        duration:2000
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">})
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// post请求
</span></span><span class="line"><span class="cl">export const post=config=&gt;{
</span></span><span class="line"><span class="cl">    return Service({
</span></span><span class="line"><span class="cl">        ...config,
</span></span><span class="line"><span class="cl">        method:&#34;post&#34;,
</span></span><span class="line"><span class="cl">        data:config.data
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">// get请求
</span></span><span class="line"><span class="cl">export const get=config=&gt;{
</span></span><span class="line"><span class="cl">    return Service({
</span></span><span class="line"><span class="cl">        ...config,
</span></span><span class="line"><span class="cl">        method:&#34;get&#34;,
</span></span><span class="line"><span class="cl">        params:config.data
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">// put请求
</span></span><span class="line"><span class="cl">export const put=config=&gt;{
</span></span><span class="line"><span class="cl">    return Service({
</span></span><span class="line"><span class="cl">        ...config,
</span></span><span class="line"><span class="cl">        method:&#34;put&#34;,
</span></span><span class="line"><span class="cl">        data:config.data
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">}// delete请求
</span></span><span class="line"><span class="cl">export const del=config=&gt;{
</span></span><span class="line"><span class="cl">    return Service({
</span></span><span class="line"><span class="cl">        ...config,
</span></span><span class="line"><span class="cl">        method:&#34;delete&#34; 
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="utilrequestjs">util/request.js</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-mysql" data-lang="mysql"><span class="line"><span class="cl"><span class="n">import</span><span class="w"> </span><span class="err">{</span><span class="n">post</span><span class="p">,</span><span class="n">get</span><span class="p">,</span><span class="n">put</span><span class="p">,</span><span class="n">del</span><span class="err">}</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="s2">&#34;./service&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">export</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="n">loginApi</span><span class="o">=</span><span class="n">data</span><span class="o">=&gt;</span><span class="err">{</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nf">post</span><span class="p">(</span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">url</span><span class="p">:</span><span class="s2">&#34;/login&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">data</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="err">}</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">//</span><span class="w"> </span><span class="err">获取用户列表</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">export</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="n">userListApi</span><span class="o">=</span><span class="n">data</span><span class="o">=&gt;</span><span class="err">{</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">url</span><span class="p">:</span><span class="s2">&#34;/users&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">data</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="err">}</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">}</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">//</span><span class="w"> </span><span class="err">新增用户列表</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">export</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="n">userAddApi</span><span class="o">=</span><span class="n">data</span><span class="o">=&gt;</span><span class="err">{</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nf">post</span><span class="p">(</span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">url</span><span class="p">:</span><span class="s2">&#34;/users&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">data</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="err">}</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">}</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">//</span><span class="w">  </span><span class="err">用户列表更改状态</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">export</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="n">userChangeStateApi</span><span class="o">=</span><span class="n">data</span><span class="o">=&gt;</span><span class="err">{</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nf">put</span><span class="p">(</span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">url</span><span class="p">:</span><span class="o">`</span><span class="n">users</span><span class="o">/</span><span class="err">${</span><span class="n">data</span><span class="p">.</span><span class="n">id</span><span class="err">}</span><span class="o">/</span><span class="n">state</span><span class="o">/</span><span class="err">${</span><span class="n">data</span><span class="p">.</span><span class="n">mg_state</span><span class="err">}</span><span class="o">`</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">data</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="err">}</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">}</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">//</span><span class="w"> </span><span class="err">更改用户信息</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">export</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="n">userChangeInfoApi</span><span class="o">=</span><span class="n">data</span><span class="o">=&gt;</span><span class="err">{</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nf">put</span><span class="p">(</span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">url</span><span class="p">:</span><span class="o">`</span><span class="n">users</span><span class="o">/</span><span class="err">${</span><span class="n">data</span><span class="p">.</span><span class="n">id</span><span class="err">}</span><span class="o">`</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">data</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="err">}</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">}</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">//</span><span class="w"> </span><span class="err">删除用户</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">export</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="n">userDeleteApi</span><span class="o">=</span><span class="n">data</span><span class="o">=&gt;</span><span class="err">{</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nf">del</span><span class="p">(</span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">url</span><span class="p">:</span><span class="o">`</span><span class="n">users</span><span class="o">/</span><span class="err">${</span><span class="n">data</span><span class="p">.</span><span class="n">id</span><span class="err">}</span><span class="o">`</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="err">}</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">}</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">//</span><span class="w"> </span><span class="err">获取角色</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">export</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="n">getRolesApi</span><span class="o">=</span><span class="n">data</span><span class="o">=&gt;</span><span class="err">{</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">url</span><span class="p">:</span><span class="o">`</span><span class="n">roles</span><span class="o">`</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">data</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="err">}</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">}</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">//</span><span class="w"> </span><span class="err">新建角色</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">export</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="n">addRolesApi</span><span class="o">=</span><span class="n">data</span><span class="o">=&gt;</span><span class="err">{</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nf">post</span><span class="p">(</span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">url</span><span class="p">:</span><span class="o">`</span><span class="n">roles</span><span class="o">`</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">data</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="err">}</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">}</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">//</span><span class="w"> </span><span class="err">编辑角色</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">export</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="n">editRolesApi</span><span class="o">=</span><span class="n">data</span><span class="o">=&gt;</span><span class="err">{</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nf">put</span><span class="p">(</span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">url</span><span class="p">:</span><span class="o">`</span><span class="n">roles</span><span class="o">/</span><span class="err">${</span><span class="n">data</span><span class="p">.</span><span class="n">id</span><span class="err">}</span><span class="o">`</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">data</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="err">}</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">}</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">export</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="n">rolesDeleteApi</span><span class="o">=</span><span class="n">data</span><span class="o">=&gt;</span><span class="err">{</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nf">del</span><span class="p">(</span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">url</span><span class="p">:</span><span class="o">`</span><span class="n">roles</span><span class="o">/</span><span class="err">${</span><span class="n">data</span><span class="p">.</span><span class="n">id</span><span class="err">}</span><span class="o">`</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="err">}</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">export</span><span class="w"> </span><span class="n">const</span><span class="w"> </span><span class="n">goodsListApi</span><span class="o">=</span><span class="n">data</span><span class="o">=&gt;</span><span class="err">{</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">url</span><span class="p">:</span><span class="o">`</span><span class="n">goods</span><span class="o">`</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">data</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="err">}</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">}</span><span class="w"> 
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>在应用到的页面上直接采用此方法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  login.vue
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  const handleLogin=()=&gt;{
</span></span><span class="line"><span class="cl">            // 请求后台接口
</span></span><span class="line"><span class="cl">            // 默认用户：admin/123456
</span></span><span class="line"><span class="cl">            loginApi(data.loginData).then(res=&gt;{
</span></span><span class="line"><span class="cl">                if(res.data){
</span></span><span class="line"><span class="cl">                    store.commit(&#39;setUserInfo&#39;, res.data);
</span></span><span class="line"><span class="cl">                    localStorage.setItem(&#34;loginData&#34;,JSON.stringify(res.data))
</span></span><span class="line"><span class="cl">                    // 跳转/user
</span></span><span class="line"><span class="cl">                    router.push({
</span></span><span class="line"><span class="cl">                        path:&#34;/&#34;
</span></span><span class="line"><span class="cl">                    })
</span></span><span class="line"><span class="cl">                }
</span></span><span class="line"><span class="cl">            })
</span></span><span class="line"><span class="cl">        }
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="表单的正则表达式">表单的正则表达式</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;!-- 编辑弹窗 --&gt;
</span></span><span class="line"><span class="cl">        &lt;el-dialog v-model=&#34;dialogFormEVisible&#34; title=&#34;编辑用户&#34;&gt;
</span></span><span class="line"><span class="cl">           &lt;el-form 
</span></span><span class="line"><span class="cl">            ref=&#34;userForm&#34;
</span></span><span class="line"><span class="cl">            :model=&#34;formData2&#34;
</span></span><span class="line"><span class="cl">            :rules=&#34;rules2&#34;
</span></span><span class="line"><span class="cl">           &gt; 
</span></span><span class="line"><span class="cl">               &lt;el-form-item label=&#34;邮箱&#34; prop=&#34;email&#34;&gt;
</span></span><span class="line"><span class="cl">                   &lt;el-input v-model=&#34;formData2.email&#34; placeholder=&#34;请输入用户邮箱&#34; /&gt;
</span></span><span class="line"><span class="cl">               &lt;/el-form-item&gt;
</span></span><span class="line"><span class="cl">               &lt;el-form-item label=&#34;手机号&#34; prop=&#34;mobile&#34;&gt;
</span></span><span class="line"><span class="cl">                   &lt;el-input v-model=&#34;formData2.mobile&#34; placeholder=&#34;请输入用户手机号&#34; /&gt;
</span></span><span class="line"><span class="cl">               &lt;/el-form-item&gt;
</span></span><span class="line"><span class="cl">           &lt;/el-form&gt;
</span></span><span class="line"><span class="cl">           &lt;template #footer&gt;
</span></span><span class="line"><span class="cl">               &lt;div class=&#34;flex&#34;&gt;
</span></span><span class="line"><span class="cl">                   &lt;el-button&gt;取消&lt;/el-button&gt;
</span></span><span class="line"><span class="cl">                   &lt;el-button type=&#34;primary&#34; @click=&#34;submitForm(userForm)&#34; &gt;确定&lt;/el-button&gt;
</span></span><span class="line"><span class="cl">               &lt;/div&gt;
</span></span><span class="line"><span class="cl">           &lt;/template&gt;
</span></span><span class="line"><span class="cl">        &lt;/el-dialog&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import { toRefs,reactive,ref } from &#39;vue&#39;
</span></span><span class="line"><span class="cl">export default {
</span></span><span class="line"><span class="cl">   setup() {
</span></span><span class="line"><span class="cl">   formData2:{ 
</span></span><span class="line"><span class="cl">                id:&#34;&#34;,
</span></span><span class="line"><span class="cl">                email:&#34;&#34;,
</span></span><span class="line"><span class="cl">                mobile:&#34;&#34;,
</span></span><span class="line"><span class="cl">            },
</span></span><span class="line"><span class="cl">   }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">rules:{
</span></span><span class="line"><span class="cl">  username:[
</span></span><span class="line"><span class="cl">            {required:true,message:&#34;此项为必填&#34;,trigger:&#34;blur&#34;}
</span></span><span class="line"><span class="cl">          ],
</span></span><span class="line"><span class="cl">                
</span></span><span class="line"><span class="cl">password:[
</span></span><span class="line"><span class="cl">            {required:true,message:&#34;此项为必填&#34;,trigger:&#34;blur&#34;}
</span></span><span class="line"><span class="cl">          ],
</span></span><span class="line"><span class="cl">email:[
</span></span><span class="line"><span class="cl">            {required:false,
</span></span><span class="line"><span class="cl">             pattern:/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,
</span></span><span class="line"><span class="cl">             message:&#34;请填写正确邮箱&#34;,trigger:&#34;blur&#34;}
</span></span><span class="line"><span class="cl">       ], 
</span></span><span class="line"><span class="cl">mobile:[
</span></span><span class="line"><span class="cl">             {required:false,
</span></span><span class="line"><span class="cl">              pattern:/^[1][3,4,5,6,7,8][0-9]{9}$/,
</span></span><span class="line"><span class="cl">               message:&#34;请填写正确手机号&#34;,trigger:&#34;blur&#34;}
</span></span><span class="line"><span class="cl">       ]
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="获取用户列表">获取用户列表</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">reques.js
</span></span><span class="line"><span class="cl">// 获取用户列表
</span></span><span class="line"><span class="cl">export const userListApi=data=&gt;{ 
</span></span><span class="line"><span class="cl">    return get({
</span></span><span class="line"><span class="cl">        url:&#34;/users&#34;,
</span></span><span class="line"><span class="cl">        data
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">} 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">页面
</span></span><span class="line"><span class="cl">  &lt;!-- 表格 --&gt;
</span></span><span class="line"><span class="cl">  &lt;el-table :data=&#34;userList&#34; style=&#34;width: 100%&#34;&gt;
</span></span><span class="line"><span class="cl">                &lt;el-table-column prop=&#34;username&#34; label=&#34;姓名&#34; width=&#34;180&#34; /&gt;
</span></span><span class="line"><span class="cl">                &lt;el-table-column prop=&#34;mg_state&#34; label=&#34;状态&#34; &gt; 
</span></span><span class="line"><span class="cl">                    &lt;template #default=&#34;scope&#34;&gt;
</span></span><span class="line"><span class="cl">                        &lt;el-switch v-model=&#34;scope.row.mg_state&#34; @change=&#34;switchChange(scope.row)&#34; /&gt;
</span></span><span class="line"><span class="cl">                    &lt;/template&gt;
</span></span><span class="line"><span class="cl">                &lt;/el-table-column&gt;
</span></span><span class="line"><span class="cl">                &lt;el-table-column   label=&#34;操作&#34; &gt; 
</span></span><span class="line"><span class="cl">                    &lt;template #default=&#34;scope&#34;&gt;
</span></span><span class="line"><span class="cl">                        &lt;el-button type=&#34;primary&#34; @click=&#34;editRow(scope.row)&#34;&gt;编辑&lt;/el-button&gt;
</span></span><span class="line"><span class="cl">                        &lt;el-button type=&#34;danger&#34; @click=&#34;deleteRow(scope.row)&#34;&gt;删除&lt;/el-button&gt;
</span></span><span class="line"><span class="cl">                    &lt;/template&gt;
</span></span><span class="line"><span class="cl">                &lt;/el-table-column&gt;
</span></span><span class="line"><span class="cl"> &lt;/el-table&gt;
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">userList:[],
</span></span><span class="line"><span class="cl">const searchList=()=&gt;{
</span></span><span class="line"><span class="cl">            userListApi(data.searchParams).then(res=&gt;{
</span></span><span class="line"><span class="cl">                if(res.data){
</span></span><span class="line"><span class="cl">                    // 
</span></span><span class="line"><span class="cl">                    console.log(&#34;用户数据&#34;,res)
</span></span><span class="line"><span class="cl">                    data.userList=res.data.users
</span></span><span class="line"><span class="cl">                    data.total=res.data.total
</span></span><span class="line"><span class="cl">                }
</span></span><span class="line"><span class="cl">            })
</span></span><span class="line"><span class="cl"> }
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">     
</span></span><span class="line"><span class="cl"> // 方法初始化
</span></span><span class="line"><span class="cl">  searchList()   
</span></span><span class="line"><span class="cl">  return{
</span></span><span class="line"><span class="cl">     ... toRefs(data),
</span></span><span class="line"><span class="cl">     searchList,
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="搜索用户">搜索用户</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">request.js
</span></span><span class="line"><span class="cl">// 获取用户列表
</span></span><span class="line"><span class="cl">export const userListApi = data =&gt; {
</span></span><span class="line"><span class="cl">  return get({
</span></span><span class="line"><span class="cl">    url: &#39;/users&#39;,
</span></span><span class="line"><span class="cl">    data
</span></span><span class="line"><span class="cl">  })
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">页面
</span></span><span class="line"><span class="cl">&lt;el-input v-model=&#34;searchParams.query&#34; placeholder=&#34;搜索关键字&#34; class=&#34;input-with-select&#34;&gt;
</span></span><span class="line"><span class="cl">        &lt;template #append&gt;
</span></span><span class="line"><span class="cl">          &lt;el-button @click=&#34;searchList&#34;&gt;&lt;el-icon&gt;&lt;Search /&gt;&lt;/el-icon&gt;&lt;/el-button&gt;
</span></span><span class="line"><span class="cl">        &lt;/template&gt;
</span></span><span class="line"><span class="cl">&lt;/el-input&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> const searchList = () =&gt; {
</span></span><span class="line"><span class="cl">      userListApi(data.searchParams).then(res =&gt; {
</span></span><span class="line"><span class="cl">        if (res.data) {
</span></span><span class="line"><span class="cl">          //
</span></span><span class="line"><span class="cl">          console.log(&#39;用户数据&#39;, res)
</span></span><span class="line"><span class="cl">          data.userList = res.data.users
</span></span><span class="line"><span class="cl">          data.total = res.data.total
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">      })
</span></span><span class="line"><span class="cl">    }
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="添加用户">添加用户</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">写借口的时候 先找request。j s--------get post
</span></span><span class="line"><span class="cl">需要的页面上 import 引进对应的API from request
</span></span><span class="line"><span class="cl">request.js
</span></span><span class="line"><span class="cl">// 新增用户列表
</span></span><span class="line"><span class="cl">export const userAddApi=data=&gt;{ 
</span></span><span class="line"><span class="cl">    return post({
</span></span><span class="line"><span class="cl">        url:&#34;/users&#34;,
</span></span><span class="line"><span class="cl">        data
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">} 
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> // 新增提交
</span></span><span class="line"><span class="cl">       const addUser=()=&gt;{
</span></span><span class="line"><span class="cl">            data.dialogFormVisible=true
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">       
</span></span><span class="line"><span class="cl">        const submitForm=(formEl)=&gt;{
</span></span><span class="line"><span class="cl">            // validate
</span></span><span class="line"><span class="cl">            formEl.validate(res=&gt;{
</span></span><span class="line"><span class="cl">                if(!res){
</span></span><span class="line"><span class="cl">                    return
</span></span><span class="line"><span class="cl">                }
</span></span><span class="line"><span class="cl">                // 表单通过请求接口
</span></span><span class="line"><span class="cl">                userAddApi(data.formData).then(res=&gt;{
</span></span><span class="line"><span class="cl">                    if(res.data){ 
</span></span><span class="line"><span class="cl">                        // 隐藏弹窗
</span></span><span class="line"><span class="cl">                        data.dialogFormVisible=false
</span></span><span class="line"><span class="cl">                        // 清空form
</span></span><span class="line"><span class="cl">                        data.formData={
</span></span><span class="line"><span class="cl">                            username:&#34;&#34;,
</span></span><span class="line"><span class="cl">                            password:&#34;&#34;,
</span></span><span class="line"><span class="cl">                            email:&#34;&#34;,
</span></span><span class="line"><span class="cl">                            mobile:&#34;&#34;,
</span></span><span class="line"><span class="cl">                        }
</span></span><span class="line"><span class="cl">                        // 重新更新列表 
</span></span><span class="line"><span class="cl">                        searchList()
</span></span><span class="line"><span class="cl">                    }
</span></span><span class="line"><span class="cl">                })
</span></span><span class="line"><span class="cl">            })
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">         // 方法初始化
</span></span><span class="line"><span class="cl">        searchList()
</span></span><span class="line"><span class="cl">        const userForm2=ref()
</span></span><span class="line"><span class="cl">        return{
</span></span><span class="line"><span class="cl">            ... toRefs(data),
</span></span><span class="line"><span class="cl">            searchList,
</span></span><span class="line"><span class="cl">            addUser,
</span></span><span class="line"><span class="cl">            submitForm,
</span></span><span class="line"><span class="cl">            submitEForm,
</span></span><span class="line"><span class="cl">            userForm,
</span></span><span class="line"><span class="cl">            userForm2,
</span></span><span class="line"><span class="cl">          
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="用户状态修改">用户状态修改</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">reque.js
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">//  用户列表更改状态
</span></span><span class="line"><span class="cl">export const userChangeStateApi=data=&gt;{ 
</span></span><span class="line"><span class="cl">    return put({
</span></span><span class="line"><span class="cl">        url:`users/${data.id}/state/${data.mg_state}`,
</span></span><span class="line"><span class="cl">        data
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">import {userChangeStateApi} from &#34;@/util/request.js&#34;
</span></span><span class="line"><span class="cl">// 状态更改
</span></span><span class="line"><span class="cl">        const switchChange=row=&gt;{
</span></span><span class="line"><span class="cl">            console.log(&#34;操作的那条数据&#34;,row)
</span></span><span class="line"><span class="cl">            userChangeStateApi(row).then(res=&gt;{
</span></span><span class="line"><span class="cl">                if(res.data){ 
</span></span><span class="line"><span class="cl">                    searchList()
</span></span><span class="line"><span class="cl">                }
</span></span><span class="line"><span class="cl">            })
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">  //方法初始化
</span></span><span class="line"><span class="cl">        return{
</span></span><span class="line"><span class="cl">            ... toRefs(data),
</span></span><span class="line"><span class="cl">            switchChange,
</span></span><span class="line"><span class="cl">        }
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="编辑删除页面">编辑/删除页面</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">request.js
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 更改用户信息
</span></span><span class="line"><span class="cl">export const userChangeInfoApi=data=&gt;{ 
</span></span><span class="line"><span class="cl">    return put({
</span></span><span class="line"><span class="cl">        url:`users/${data.id}`,
</span></span><span class="line"><span class="cl">        data
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">} 
</span></span><span class="line"><span class="cl">// 删除用户
</span></span><span class="line"><span class="cl">export const userDeleteApi=data=&gt;{ 
</span></span><span class="line"><span class="cl">    return del({
</span></span><span class="line"><span class="cl">        url:`users/${data.id}`
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">} 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">页面
</span></span><span class="line"><span class="cl">&lt;el-table-column   label=&#34;操作&#34; &gt; 
</span></span><span class="line"><span class="cl">       &lt;template #default=&#34;scope&#34;&gt;
</span></span><span class="line"><span class="cl">               &lt;el-button type=&#34;primary&#34; @click=&#34;editRow(scope.row)&#34;&gt;编辑&lt;/el-button&gt;
</span></span><span class="line"><span class="cl">               &lt;el-button type=&#34;danger&#34; @click=&#34;deleteRow(scope.row)&#34;&gt;删除&lt;/el-button&gt;
</span></span><span class="line"><span class="cl">        &lt;/template&gt;
</span></span><span class="line"><span class="cl">&lt;/el-table-column&gt;
</span></span><span class="line"><span class="cl">import {userListApi,userAddApi,userChangeStateApi,userChangeInfoApi,userDeleteApi} from &#34;@/util/request.js&#34;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> // 修改提交
</span></span><span class="line"><span class="cl">    const submitEForm = formEl =&gt; {
</span></span><span class="line"><span class="cl">      formEl.validate(res =&gt; {
</span></span><span class="line"><span class="cl">        if (!res) {
</span></span><span class="line"><span class="cl">          return
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">        // 提交修改
</span></span><span class="line"><span class="cl">        userChangeInfoApi(data.formData2).then(res =&gt; {
</span></span><span class="line"><span class="cl">          if (res.data) {
</span></span><span class="line"><span class="cl">            data.dialogFormEVisible = false
</span></span><span class="line"><span class="cl">            searchList()
</span></span><span class="line"><span class="cl">          }
</span></span><span class="line"><span class="cl">        })
</span></span><span class="line"><span class="cl">      })
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">  // 数据编辑
</span></span><span class="line"><span class="cl">        const editRow=row=&gt;{
</span></span><span class="line"><span class="cl">            console.log(&#34;编辑的那条数据&#34;,row)
</span></span><span class="line"><span class="cl">            const {email,mobile,id}=row
</span></span><span class="line"><span class="cl">            // 展示编辑表单
</span></span><span class="line"><span class="cl">             data.dialogFormEVisible=true;
</span></span><span class="line"><span class="cl">             data.formData2.email=email
</span></span><span class="line"><span class="cl">             data.formData2.mobile =mobile
</span></span><span class="line"><span class="cl">             data.formData2.id =id
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">        // 删除数据
</span></span><span class="line"><span class="cl">        const deleteRow=row=&gt;{
</span></span><span class="line"><span class="cl">            console.log(&#34;删除的那条数据&#34;,row)
</span></span><span class="line"><span class="cl">            userDeleteApi(row).then(res=&gt;{
</span></span><span class="line"><span class="cl">                searchList()
</span></span><span class="line"><span class="cl">            }) 
</span></span><span class="line"><span class="cl">        }
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="分页">分页</h1>
<h2 id="vue3">vue3</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> &lt;!-- 分页 vue3--&gt;
</span></span><span class="line"><span class="cl">    &lt;el-pagination
</span></span><span class="line"><span class="cl">                v-model:currentPage=&#34;searchParams.pagenum&#34;
</span></span><span class="line"><span class="cl">                v-model:page-size=&#34;searchParams.pagesize&#34;
</span></span><span class="line"><span class="cl">                :page-sizes=&#34;[2,5,10,20]&#34;
</span></span><span class="line"><span class="cl">                :small=&#34;small&#34;  
</span></span><span class="line"><span class="cl">                layout=&#34;total, sizes, prev, pager, next, jumper&#34;
</span></span><span class="line"><span class="cl">                :total=&#34;total&#34;
</span></span><span class="line"><span class="cl">                @size-change=&#34;searchList&#34;
</span></span><span class="line"><span class="cl">                @current-change=&#34;searchList&#34;
</span></span><span class="line"><span class="cl">     /&gt;
</span></span><span class="line"><span class="cl">     
</span></span><span class="line"><span class="cl">         searchParams:{
</span></span><span class="line"><span class="cl">                query:&#34;&#34;,
</span></span><span class="line"><span class="cl">                pagesize:5,
</span></span><span class="line"><span class="cl">                pagenum:1
</span></span><span class="line"><span class="cl">            },
</span></span><span class="line"><span class="cl">    total:0,
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    const searchList=()=&gt;{
</span></span><span class="line"><span class="cl">            userListApi(data.searchParams).then(res=&gt;{
</span></span><span class="line"><span class="cl">                if(res.data){
</span></span><span class="line"><span class="cl">                    // 
</span></span><span class="line"><span class="cl">                    console.log(&#34;用户数据&#34;,res)
</span></span><span class="line"><span class="cl">                    data.userList=res.data.users
</span></span><span class="line"><span class="cl">                    data.total=res.data.total
</span></span><span class="line"><span class="cl">                }
</span></span><span class="line"><span class="cl">            })
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="vue2">vue2</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> &lt;el-pagination 
</span></span><span class="line"><span class="cl">      @size-change=&#34;handleSizeChange&#34; 
</span></span><span class="line"><span class="cl">      @current-change=&#34;handleCurrentChange&#34; 
</span></span><span class="line"><span class="cl">      :current-page=&#34;queryInfo.pagenum&#34; 
</span></span><span class="line"><span class="cl">      :page-sizes=&#34;[1, 2, 5, 10]&#34; 
</span></span><span class="line"><span class="cl">      :page-size=&#34;queryInfo.pagesize&#34; 
</span></span><span class="line"><span class="cl">      layout=&#34;total, sizes, prev, pager, next, jumper&#34; 
</span></span><span class="line"><span class="cl">      :total=&#34;total&#34;&gt;
</span></span><span class="line"><span class="cl">&lt;/el-pagination&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  // 获取用户列表的参数对象
</span></span><span class="line"><span class="cl">      queryInfo: {
</span></span><span class="line"><span class="cl">        query: &#39;&#39;,
</span></span><span class="line"><span class="cl">        // 当前的页数
</span></span><span class="line"><span class="cl">        pagenum: 1,
</span></span><span class="line"><span class="cl">        // 当前每页显示多少条数据
</span></span><span class="line"><span class="cl">        pagesize: 2
</span></span><span class="line"><span class="cl">      },
</span></span><span class="line"><span class="cl">      total: 0,
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 监听 pagesize 改变的事件
</span></span><span class="line"><span class="cl">    handleSizeChange(newSize) {
</span></span><span class="line"><span class="cl">      // console.log(newSize)
</span></span><span class="line"><span class="cl">      this.queryInfo.pagesize = newSize
</span></span><span class="line"><span class="cl">      this.getUserList()
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    // 监听 页码值 改变的事件
</span></span><span class="line"><span class="cl">    handleCurrentChange(newPage) {
</span></span><span class="line"><span class="cl">      console.log(newPage)
</span></span><span class="line"><span class="cl">      this.queryInfo.pagenum = newPage
</span></span><span class="line"><span class="cl">      this.getUserList()
</span></span><span class="line"><span class="cl">    },
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="商品状态">商品状态</h1>
<h2 id="vue3-1">vue3</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">表格
</span></span><span class="line"><span class="cl"> &lt;el-table :data=&#34;goodsList&#34; style=&#34;width: 100%&#34;&gt;
</span></span><span class="line"><span class="cl">       &lt;el-table-column prop=&#34;goods_state&#34; label=&#34;商品状态&#34; &gt; 
</span></span><span class="line"><span class="cl">                    &lt;template #default=&#34;scope&#34;&gt; 
</span></span><span class="line"><span class="cl">                        &lt;p&gt;{{switchState(scope.row.goods_state)}}&lt;/p&gt;
</span></span><span class="line"><span class="cl">                    &lt;/template&gt;
</span></span><span class="line"><span class="cl">       &lt;/el-table-column&gt;            
</span></span><span class="line"><span class="cl">&lt;/el-table&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> const switchState=state=&gt;{
</span></span><span class="line"><span class="cl">            switch (state) {
</span></span><span class="line"><span class="cl">                case 0:
</span></span><span class="line"><span class="cl">                    return &#34;未通过&#34;
</span></span><span class="line"><span class="cl">                    break; 
</span></span><span class="line"><span class="cl">                case 1:
</span></span><span class="line"><span class="cl">                    return &#34;审核中&#34;
</span></span><span class="line"><span class="cl">                    
</span></span><span class="line"><span class="cl">                    break; 
</span></span><span class="line"><span class="cl">                case 2:
</span></span><span class="line"><span class="cl">                    return &#34;已审核&#34;
</span></span><span class="line"><span class="cl">                    
</span></span><span class="line"><span class="cl">                    break; 
</span></span><span class="line"><span class="cl">            }
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  // 方法初始化
</span></span><span class="line"><span class="cl">searchList() 
</span></span><span class="line"><span class="cl">  return{
</span></span><span class="line"><span class="cl">     switchState
</span></span><span class="line"><span class="cl">        }
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="vue2-1">vue2</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;el-table-column label=&#34;商品状态&#34; prop=&#34;goods_state&#34; width=&#34;80px&#34;&gt;
</span></span><span class="line"><span class="cl">    &lt;template v-slot=&#34;scope&#34;&gt;
</span></span><span class="line"><span class="cl">            &lt;el-tag v-if=&#34;scope.row.goods_state === &#39;0&#39;&#34;&gt;通过&lt;/el-tag&gt;
</span></span><span class="line"><span class="cl">            &lt;el-tag type=&#34;success&#34; v-else-if=&#34;scope.row.goods_state === &#39;1&#39;&#34;
</span></span><span class="line"><span class="cl">              &gt;审核中&lt;/el-tag
</span></span><span class="line"><span class="cl">            &gt;
</span></span><span class="line"><span class="cl">            &lt;el-tag type=&#34;success&#34; v-else&gt;已审核&lt;/el-tag&gt;
</span></span><span class="line"><span class="cl">     &lt;/template&gt;
</span></span><span class="line"><span class="cl">&lt;/el-table-column&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-16%2014.59.59.png"
        data-srcset="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-16%2014.59.59.png, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-16%2014.59.59.png 1.5x, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-16%2014.59.59.png 2x"
        data-sizes="auto"
        alt="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-16%2014.59.59.png"
        title="截屏2023-02-16 14.59.59" /></p>
<h1 id="22222222222222222222222222222">22222222222222222222222222222</h1>
<h1 id="1-vuex的基本使用">1. Vuex的基本使用</h1>
<ol>
<li>
<p>安装vuex依赖包
npm install vuex &ndash;save</p>
</li>
<li>
<p>导入vuex包 在main.js 使用</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import Vue from &#34;vue&#34;;
</span></span><span class="line"><span class="cl">import App from &#39;./App.vue&#39;
</span></span><span class="line"><span class="cl">import store from &#39;./store&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Vue.config.productionTip = false
</span></span><span class="line"><span class="cl">Vue.phototype.$store=store
</span></span><span class="line"><span class="cl">new Vue({
</span></span><span class="line"><span class="cl">    store,
</span></span><span class="line"><span class="cl">    render: h =&gt; h(App)
</span></span><span class="line"><span class="cl">}).$mount(&#39;#app&#39;)
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>创建store对象 store.js</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import Vue from &#39;vue&#39;
</span></span><span class="line"><span class="cl">import Vuex, {mapGetters, mapMutations, mapState} from &#39;vuex&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Vue.use(Vuex) //vuex的插件机制
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">const store = new Vuex.Store({
</span></span><span class="line"><span class="cl">    // state中存放的就是全局共享的数据
</span></span><span class="line"><span class="cl">    state: {count: 0}
</span></span><span class="line"><span class="cl">})
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>将store对象挂载到vue实例中</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl"><span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">el</span><span class="o">:</span> <span class="s1">&#39;#app&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">render</span><span class="o">:</span> <span class="nx">h</span> <span class="p">=&gt;</span> <span class="nx">h</span><span class="p">(</span><span class="nx">app</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="nx">router</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 将创建的共享数据对象，挂载到Vue实例中
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// 所有的组件，就可以直接从store中获取全局的数据了
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">store</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="2vuex的核心概念">2.Vuex的核心概念</h1>
<p>Vuex中的主要核心概念如下：</p>
</li>
</ol>
<ul>
<li>
<p>State</p>
</li>
<li>
<p>Mutation</p>
</li>
<li>
<p>Action</p>
</li>
<li>
<p>Getter</p>
<h2 id="21-state">2.1 State</h2>
<p>在Vuex中，State提供唯一的公共数据源，所有共享的数据都要统一放到Store的State中进行存储，这里的Store相当于一个用于存储数据的公共容器。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">const store = new Vue.Store({
</span></span><span class="line"><span class="cl">    state: {
</span></span><span class="line"><span class="cl">        count: 0
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">     ...
</span></span><span class="line"><span class="cl"> })
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> export default new Vuex.Store({
</span></span><span class="line"><span class="cl">    state: {
</span></span><span class="line"><span class="cl">        count: 0
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl"> })
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>1.组件访问State中数据的第一种方式</strong></p>
</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">this.$store.state.全局数据名称
</span></span></code></pre></td></tr></table>
</div>
</div><p>去过是在html元素组件之间调用，则可以省略this，即：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;h3&gt;当前最新的count值：{{$store.state.count}}&lt;/h3&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>​       <strong>2.组件访问State中数据的第二种方式</strong></p>
<p>通过mapState辅助函数方式，实现组件访问State中数据的第二种方式</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> // 1. 从vuex中按需导入mapState函数
</span></span><span class="line"><span class="cl">import { mapState } from &#39;vuex&#39;
</span></span></code></pre></td></tr></table>
</div>
</div><p>通过刚才导入的mapState函数，将当前组件需要的全局数据，映射为当前的computed计算属性：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> //将全局数据映射为当前组件的计算属性
</span></span><span class="line"><span class="cl">computed: {
</span></span><span class="line"><span class="cl">    // ...表示展开映射，意思就是将全局属性映射为当前组件的计算属性
</span></span><span class="line"><span class="cl">    ...mapState([&#39;count&#39;])
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p>直接在调用获取组件属性</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;span&gt;{{count}}&lt;/span&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="22-mutation">2.2 Mutation</h2>
<blockquote>
<p>Vuex中的Mutation是用于变更Store中的数据。</p>
</blockquote>
<p>在Vuex中，只能通过mutation变更Store数据，不可以直接操作Store中的数据。虽然通过mutation的方式来操作数据，虽然繁琐了一点，但是却可以集中监控所有数据的变化。</p>
<p>例如需要让全局数据自增加1，则可以通过如下的方式在Mutation中定义</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">const store = new Vuex.Store({
</span></span><span class="line"><span class="cl">    state: {
</span></span><span class="line"><span class="cl">        count: 0
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    mutations: {
</span></span><span class="line"><span class="cl">        add(state) {
</span></span><span class="line"><span class="cl">            //变更状态
</span></span><span class="line"><span class="cl">            state.count++;
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">})
</span></span></code></pre></td></tr></table>
</div>
</div><p>定义完mutation之后，下面就来介绍下Vuex的触发方式</p>
<p><strong>触发mutation方式一</strong></p>
<blockquote>
<p>通过$store.commit()函数来触发mutation。</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">methods: {
</span></span><span class="line"><span class="cl">    handle1 () {
</span></span><span class="line"><span class="cl">        // 触发mutations的第一种方式
</span></span><span class="line"><span class="cl">        this.$store.commit(&#39;add&#39;)
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">//接着就可以通过@click方法来调用handle1，从而来触发mutation函数。
</span></span><span class="line"><span class="cl">//另外，可以在触发mutation函数时，传入参数
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">const store = new Vuex.Store({
</span></span><span class="line"><span class="cl">    state: {
</span></span><span class="line"><span class="cl">        count: 0
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    mutations: {
</span></span><span class="line"><span class="cl">        add(state) {
</span></span><span class="line"><span class="cl">            //变更状态
</span></span><span class="line"><span class="cl">            state.count++;
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        addN(state, n) {
</span></span><span class="line"><span class="cl">            state.count += n;
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">})
</span></span><span class="line"><span class="cl">//然后定义handler2
</span></span><span class="line"><span class="cl">methods: {
</span></span><span class="line"><span class="cl">    handler2: {
</span></span><span class="line"><span class="cl">        this.$store.commit(&#39;addN&#39;, 5);
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>触发mutation方式二</strong></p>
<p>通过导入mapMutations辅助函数来触发mutations。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// 1. 从vuex中按需导入mapMutations函数
</span></span><span class="line"><span class="cl">import { mapMutations } from &#39;vuex&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 2. 将制定的mutations函数映射为当前组件的methods函数
</span></span><span class="line"><span class="cl">methods: {
</span></span><span class="line"><span class="cl">    // 将add和addN方法映射为methods中的函数，拱当前组件使用。
</span></span><span class="line"><span class="cl">    ...mapMutations({&#39;add&#39;, &#39;addN&#39;}),
</span></span><span class="line"><span class="cl">    handleAdd() {
</span></span><span class="line"><span class="cl">        this.add();
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    handleAddN(n) {
</span></span><span class="line"><span class="cl">        this.addN(n);
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    // 或者直接在标签元素中直接@click=add(n)
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>对于mutations来说，只能够实现同步操作，不可以执行异步操作的。</strong></p>
<h2 id="23-action">2.3 Action</h2>
<p>从vuex官网中可以了解到，Action类似于mutation，不同之处在于：</p>
<blockquote>
<p>Action 提交的是 mutation，而不是直接变更状态。
Action 可以包含任意异步操作。
可以得出一个结论就是，如果通过异步操作变更数据，必须通过Action，而不能使用Mutation，但是在Action中还是要通过触发Mutation的方式间接变更数据。</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-vue" data-lang="vue"><span class="line"><span class="cl">    <span class="c1">//定义Actions
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vuex</span><span class="p">.</span><span class="nx">Store</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">    <span class="nx">state</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">count</span><span class="o">:</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">mutations</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">add</span><span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="c1">//变更状态
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">state</span><span class="p">.</span><span class="nx">count</span><span class="o">++</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="nx">addN</span><span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">state</span><span class="p">.</span><span class="nx">count</span> <span class="o">+=</span> <span class="nx">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">actions</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 通过context去调用mutation
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">addAsync</span><span class="p">(</span><span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">             <span class="c1">// 在action中，不能直接更改 state中的数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>             <span class="c1">// 必须通过 context.commit() 触发某个mutation才行
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>              <span class="nx">context</span><span class="p">.</span><span class="nx">commit</span><span class="p">(</span><span class="s1">&#39;add&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span> <span class="mi">1000</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 调用Actions是也可以传入参数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">addNAsync</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">context</span><span class="p">.</span><span class="nx">commit</span><span class="p">(</span><span class="s1">&#39;addN&#39;</span><span class="p">,</span> <span class="nx">n</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>需要再次强调的是，只有通过mutation中定义的函数，才有权利去修改state中的数据，因此actions最终还是要调用mutation。</p>
</blockquote>
<p><strong>触发Actions的第一种方式</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">methods: {
</span></span><span class="line"><span class="cl">    handleAddAsync() {
</span></span><span class="line"><span class="cl">        this.$store.dispatch(&#39;addAsync&#39;);
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    handleAddNAsync() {
</span></span><span class="line"><span class="cl">        this.$store.dispatch(&#39;addNAsync&#39;, n);
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>触发Actions的第二种方式</strong></p>
<p>可以通过mapActions辅助函数的方式来触发Actions。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// 1. 从vuex中按需导入mapActions函数
</span></span><span class="line"><span class="cl">import { mapActions } from &#39;vuex&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 2. 将指定的actions函数，映射为当前组件的methos函数
</span></span><span class="line"><span class="cl">methods: {
</span></span><span class="line"><span class="cl">    ...mapActions([&#39;addAsync&#39;, &#39;addNAsync&#39;),
</span></span><span class="line"><span class="cl">    handleAddAsync() {
</span></span><span class="line"><span class="cl">        this.addAsync();
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    handleAddNAsync(n) {
</span></span><span class="line"><span class="cl">        this.addNAsync(n);
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="24-getter">2.4 Getter</h2>
<p>在Vuex官网中，用到了派生这一词来介绍Getter，在这里可以理解为就是用于对Store中的数据进行加工处理，形成新的数据，类似Vue的计算属性。Getter的数据是基于Store中的数据的，所以当Store中数据发生变化时，Getter中的数据也会随之变化。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">定义Getter
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">例如state中存有todos计划项，其对象有一个done状态表示完成与否。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">const store = new Vuex.Store({
</span></span><span class="line"><span class="cl">  state: {
</span></span><span class="line"><span class="cl">    todos: [
</span></span><span class="line"><span class="cl">      { id: 1, text: &#39;...&#39;, done: true },
</span></span><span class="line"><span class="cl">      { id: 2, text: &#39;...&#39;, done: false }
</span></span><span class="line"><span class="cl">    ]
</span></span><span class="line"><span class="cl">  },
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  加减法里的getters
</span></span><span class="line"><span class="cl">  getters: {
</span></span><span class="line"><span class="cl">        showNum(state){
</span></span><span class="line"><span class="cl">            return &#39;当前最新的数据量是 【&#39;+state.count+&#39;】&#39;
</span></span><span class="line"><span class="cl">        }
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">  getters: {
</span></span><span class="line"><span class="cl">    // 这里通过getters定义的doneTodos方法来过滤已完成的todo项
</span></span><span class="line"><span class="cl">    doneTodos: state =&gt; {
</span></span><span class="line"><span class="cl">      return state.todos.filter(todo =&gt; todo.done);
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    // 这里还可以通过传入getters对象来获取其他方法
</span></span><span class="line"><span class="cl">    doneTodosCount: (state, getters) =&gt; {
</span></span><span class="line"><span class="cl">        return getters.doneTools.length;
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    // 传入参数
</span></span><span class="line"><span class="cl">    getTodoById: (state) =&gt; (id) =&gt; {
</span></span><span class="line"><span class="cl">        return state.todos.find(todo =&gt; todo.id == id);
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">})
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>触发Getter定义函数的第一种方法</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">this.$store.getters.doneTodos // -&gt; [{id: 1, text: &#39;...&#39;, done: true}]
</span></span><span class="line"><span class="cl">this.$store.getters.doneTodosCount // -&gt; 1
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>触发Getter定义函数的第二种方法</strong></p>
<p>通过mapGetters来触发Getter中定义的函数</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// 1. 导入mapGetters辅助函数
</span></span><span class="line"><span class="cl">import { mapGetters } from &#39;vuex&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 2. 将制定的Getters函数映射为当前组件的函数
</span></span><span class="line"><span class="cl">computed: {
</span></span><span class="line"><span class="cl">    ...mapGetters([&#39;doneTodos&#39;, &#39;doneTodosCount&#39;]),
</span></span><span class="line"><span class="cl">    handleDoneTodos() {
</span></span><span class="line"><span class="cl">        this.doneTodos();
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> computed:{
</span></span><span class="line"><span class="cl">     ...mapGetters([&#39;showNum&#39;])
</span></span><span class="line"><span class="cl"> }
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="25-module">2.5 Module</h2>
<p>当Store中存放了非常多非常大的共享数据对象时，应用会变的非常的复杂，Store对象也会非常臃肿，所以Vuex提供了一个Module模块来分隔Store。通过对Vuex中的Store分隔，分隔成一个一个的Module模块，每个Module模块都拥有自己的state、mutation、actions和getters。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">const moduleA = {
</span></span><span class="line"><span class="cl">  state: () =&gt; ({ ... }),
</span></span><span class="line"><span class="cl">  mutations: { ... },
</span></span><span class="line"><span class="cl">  actions: { ... },
</span></span><span class="line"><span class="cl">  getters: { ... }
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">const moduleB = {
</span></span><span class="line"><span class="cl">  state: () =&gt; ({ ... }),
</span></span><span class="line"><span class="cl">  mutations: { ... },
</span></span><span class="line"><span class="cl">  actions: { ... }
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">const store = new Vuex.Store({
</span></span><span class="line"><span class="cl">  modules: {
</span></span><span class="line"><span class="cl">    a: moduleA,
</span></span><span class="line"><span class="cl">    b: moduleB
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">})
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">store.state.a // -&gt; moduleA 的状态
</span></span><span class="line"><span class="cl">store.state.b // -&gt; moduleB 的状态
</span></span></code></pre></td></tr></table>
</div>
</div><p>对于模块中的mutations和getters，传入的第一个参数规定为state，而actions则依旧是context参数。如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-mysql" data-lang="mysql"><span class="line"><span class="cl"><span class="n">const</span><span class="w"> </span><span class="n">moduleA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">state</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">     </span><span class="n">count</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="err">}</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">mutations</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nf">increment</span><span class="w"> </span><span class="p">(</span><span class="n">state</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="o">//</span><span class="w"> </span><span class="err">这里的</span><span class="w"> </span><span class="o">`</span><span class="n">state</span><span class="o">`</span><span class="w"> </span><span class="err">对象是模块的局部状态</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">state</span><span class="p">.</span><span class="n">count</span><span class="o">++</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="err">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="err">}</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">getters</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nf">doubleCount</span><span class="w"> </span><span class="p">(</span><span class="n">state</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">state</span><span class="p">.</span><span class="n">count</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="err">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="err">}</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">actions</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  	</span><span class="o">//</span><span class="w"> </span><span class="n">context</span><span class="err">对象其实包含了</span><span class="w"> </span><span class="n">state</span><span class="err">、</span><span class="n">commit</span><span class="err">、</span><span class="n">rootState</span><span class="err">。</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  	</span><span class="nf">incrementIfOddRootsum</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">context</span><span class="p">.</span><span class="n">state</span><span class="p">.</span><span class="n">count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">context</span><span class="p">.</span><span class="n">rootState</span><span class="p">.</span><span class="n">count</span><span class="p">)</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="err">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="o">//</span><span class="w"> </span><span class="err">调用</span><span class="n">mutations</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nf">commit</span><span class="p">(</span><span class="s1">&#39;increment&#39;</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="err">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  	</span><span class="err">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="err">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="err">}</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>在module中通过mapState、mapGetters、mapActions和mapMutations等辅助函数来绑定要触发的函数</p>
<p><strong>第一种方式</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">methods: {
</span></span><span class="line"><span class="cl">	...mapActions([
</span></span><span class="line"><span class="cl">		&#39;some/nested/module/foo&#39;,
</span></span><span class="line"><span class="cl">		&#39;some/nested/module/bar&#39;
</span></span><span class="line"><span class="cl">	])
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p>在vuex中，可以为导入的state、getters、actions以及mutations命名别名，，这样可以方便调用</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">methods: {
</span></span><span class="line"><span class="cl">	...mapActions([
</span></span><span class="line"><span class="cl">		&#39;foo&#39;: &#39;some/nested/module/foo&#39;,
</span></span><span class="line"><span class="cl">		&#39;bar&#39;: &#39;some/nested/module/bar&#39;
</span></span><span class="line"><span class="cl">	])
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>第二种方式</strong>
对于这种情况，你可以将模块的空间名称字符串作为第一个参数传递给上述函数，这样所有绑定都会自动将该模块作为上下文。于是上面的例子可以简化为：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">methods: {
</span></span><span class="line"><span class="cl">  ...mapActions(&#39;some/nested/module&#39;, [
</span></span><span class="line"><span class="cl">    &#39;foo&#39;, // -&gt; this.foo()
</span></span><span class="line"><span class="cl">    &#39;bar&#39; // -&gt; this.bar()
</span></span><span class="line"><span class="cl">  ])
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>第三种方式</strong>
可以通过使用 createNamespacedHelpers 创建基于某个命名空间辅助函数。它返回一个对象，对象里有新的绑定在给定命名空间值上的组件绑定辅助函数：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import { createNamespacedHelpers } from &#39;vuex&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">const { mapState, mapActions } = createNamespacedHelpers(&#39;some/nested/module&#39;)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">export default {
</span></span><span class="line"><span class="cl">  methods: {
</span></span><span class="line"><span class="cl">    // 在 `some/nested/module` 中查找
</span></span><span class="line"><span class="cl">    ...mapActions([
</span></span><span class="line"><span class="cl">      &#39;foo&#39;,
</span></span><span class="line"><span class="cl">      &#39;bar&#39;
</span></span><span class="line"><span class="cl">    ])
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="封装vuex在项目中的使用公司">封装vuex在项目中的使用（公司）</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span><span class="lnt">205
</span><span class="lnt">206
</span><span class="lnt">207
</span><span class="lnt">208
</span><span class="lnt">209
</span><span class="lnt">210
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">gettings.js
</span></span><span class="line"><span class="cl">接下来定义状态state各个字段的获取方法。
</span></span><span class="line"><span class="cl">export default {
</span></span><span class="line"><span class="cl">    opened: (state) =&gt; state.app.slider.opened,
</span></span><span class="line"><span class="cl">    token: (state) =&gt; state.app.token,
</span></span><span class="line"><span class="cl">    uname: (state) =&gt; state.app.uname,
</span></span><span class="line"><span class="cl">    menuList: (state) =&gt; state.app.menuList,
</span></span><span class="line"><span class="cl">    permissionList: (state) =&gt; state.app.permissionList,
</span></span><span class="line"><span class="cl">};
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">import {
</span></span><span class="line"><span class="cl">    TOGGLE_SLIDER,
</span></span><span class="line"><span class="cl">    SET_TOKEN,
</span></span><span class="line"><span class="cl">    SET_UNAME,
</span></span><span class="line"><span class="cl">    SET_MENU_LIST,
</span></span><span class="line"><span class="cl">    SET_PERMISSION_LIST,
</span></span><span class="line"><span class="cl">    SET_ACTIVE,
</span></span><span class="line"><span class="cl">    SET_MENU,
</span></span><span class="line"><span class="cl">    SET_TASK_ID,
</span></span><span class="line"><span class="cl">    SET_FORMDATA,
</span></span><span class="line"><span class="cl">    SET_FILE
</span></span><span class="line"><span class="cl">} from &#34;./type.js&#34;;
</span></span><span class="line"><span class="cl">export default {
</span></span><span class="line"><span class="cl">    namespaced: true,
</span></span><span class="line"><span class="cl">    state: {
</span></span><span class="line"><span class="cl">        slider: {
</span></span><span class="line"><span class="cl">            opened:JSON.parse(sessionStorage.getItem(&#34;opened&#34;)),
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        token: sessionStorage.getItem(&#34;token&#34;) || &#34;&#34;,
</span></span><span class="line"><span class="cl">        menuList: null,
</span></span><span class="line"><span class="cl">        permissionList: [],
</span></span><span class="line"><span class="cl">        uname: sessionStorage.getItem(&#34;uname&#34;) || &#34;&#34;,
</span></span><span class="line"><span class="cl">        componentsActive: &#39;serviceMain&#39;,
</span></span><span class="line"><span class="cl">        userId: sessionStorage.getItem(&#34;userId&#34;) || &#34;&#34;,
</span></span><span class="line"><span class="cl">        sideMenuList: [
</span></span><span class="line"><span class="cl">            {
</span></span><span class="line"><span class="cl">                name: &#34;服务内容&#34;,
</span></span><span class="line"><span class="cl">                img: &#34;&#34;,
</span></span><span class="line"><span class="cl">                route: &#34;serviceMain&#34;,
</span></span><span class="line"><span class="cl">                router: &#39;service-subscriptions&#39;
</span></span><span class="line"><span class="cl">            },
</span></span><span class="line"><span class="cl">            {
</span></span><span class="line"><span class="cl">                name: &#34;任务创建&#34;,
</span></span><span class="line"><span class="cl">                img: &#34;&#34;,
</span></span><span class="line"><span class="cl">                route: &#34;taskMain&#34;,
</span></span><span class="line"><span class="cl">                router: &#39;service-subscriptions&#39;
</span></span><span class="line"><span class="cl">            }
</span></span><span class="line"><span class="cl">        ],
</span></span><span class="line"><span class="cl">        taskId: sessionStorage.getItem(&#34;taskId&#34;) || &#34;&#34;,
</span></span><span class="line"><span class="cl">        fileListObj: {},
</span></span><span class="line"><span class="cl">        firstFormData: {
</span></span><span class="line"><span class="cl">            name: &#34;&#34;,
</span></span><span class="line"><span class="cl">            description: &#34;&#34;,
</span></span><span class="line"><span class="cl">            hasInsar: false,
</span></span><span class="line"><span class="cl">            hasAi: false,
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        secondFormData: {
</span></span><span class="line"><span class="cl">            taskId: &#34;&#34;,
</span></span><span class="line"><span class="cl">            satelliteName: &#34;&#34;,
</span></span><span class="line"><span class="cl">            monitorStartTime: &#34;&#34;,
</span></span><span class="line"><span class="cl">            monitorEndTime: &#34;&#34;,
</span></span><span class="line"><span class="cl">            demResolution: &#34;&#34;,
</span></span><span class="line"><span class="cl">            hasAnomalyRegion: false,
</span></span><span class="line"><span class="cl">            hasDeformationRate: false,
</span></span><span class="line"><span class="cl">            hasAccumulatedDeformation: false,
</span></span><span class="line"><span class="cl">            hasDiagram: false,
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        thirdFormData: {
</span></span><span class="line"><span class="cl">            taskId: &#34;&#34;,
</span></span><span class="line"><span class="cl">            hasTargetGeohazard: false,
</span></span><span class="line"><span class="cl">            hasTargetHazardBody: false,
</span></span><span class="line"><span class="cl">            cognitionModel: 0,
</span></span><span class="line"><span class="cl">            satelliteName: &#34;&#34;,
</span></span><span class="line"><span class="cl">            preStartTime: &#34;&#34;,
</span></span><span class="line"><span class="cl">            preEndTime: &#34;&#34;,
</span></span><span class="line"><span class="cl">            postStartTime: &#34;&#34;,
</span></span><span class="line"><span class="cl">            postEndTime: &#34;&#34;,
</span></span><span class="line"><span class="cl">            cloudCover: 0,
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        finalFormData: {
</span></span><span class="line"><span class="cl">            taskId: &#34;&#34;,
</span></span><span class="line"><span class="cl">            name: &#34;&#34;,
</span></span><span class="line"><span class="cl">            department: &#34;&#34;,
</span></span><span class="line"><span class="cl">            phone: &#34;&#34;,
</span></span><span class="line"><span class="cl">            email: &#34;&#34;,
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        dataDetail: null,
</span></span><span class="line"><span class="cl">        tableName: null
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    定义一些修改state的操作方法。
</span></span><span class="line"><span class="cl">    mutations: {
</span></span><span class="line"><span class="cl">        [TOGGLE_SLIDER](state) {
</span></span><span class="line"><span class="cl">            state.slider.opened = !state.slider.opened;
</span></span><span class="line"><span class="cl">            sessionStorage.setItem(
</span></span><span class="line"><span class="cl">                &#34;opened&#34;,
</span></span><span class="line"><span class="cl">                JSON.stringify(state.slider.opened)
</span></span><span class="line"><span class="cl">            );
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        [SET_TOKEN](state, token) {
</span></span><span class="line"><span class="cl">            state.token = token;
</span></span><span class="line"><span class="cl">            sessionStorage.setItem(&#34;token&#34;, state.token);
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        [SET_UNAME](state, uname) {
</span></span><span class="line"><span class="cl">            state.uname = uname;
</span></span><span class="line"><span class="cl">            sessionStorage.setItem(&#34;uname&#34;, state.uname);
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        [SET_MENU_LIST](state, menuList) {
</span></span><span class="line"><span class="cl">            state.menuList = menuList;
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        [SET_PERMISSION_LIST](state, permissionList) {
</span></span><span class="line"><span class="cl">            state.permissionList = permissionList;
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        [SET_ACTIVE](state, val) {
</span></span><span class="line"><span class="cl">            state.componentsActive = val;
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        [SET_MENU](state, val) {
</span></span><span class="line"><span class="cl">            state.sideMenuList = val;
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        [SET_FILE](state, val) {
</span></span><span class="line"><span class="cl">            state.fileListObj = val;
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        [SET_TASK_ID](state, val) {
</span></span><span class="line"><span class="cl">            state.taskId = val;
</span></span><span class="line"><span class="cl">            sessionStorage.setItem(
</span></span><span class="line"><span class="cl">                &#34;taskId&#34;,
</span></span><span class="line"><span class="cl">                JSON.stringify(val)
</span></span><span class="line"><span class="cl">            );
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        setUserId(state, val) {
</span></span><span class="line"><span class="cl">            state.userId = val;
</span></span><span class="line"><span class="cl">            sessionStorage.setItem(
</span></span><span class="line"><span class="cl">                &#34;userId&#34;,
</span></span><span class="line"><span class="cl">                JSON.stringify(val)
</span></span><span class="line"><span class="cl">            );
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        setDataDetail(state, val) {
</span></span><span class="line"><span class="cl">            state.dataDetail = val
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        setTableName(state, val) {
</span></span><span class="line"><span class="cl">            state.tableName = val
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        [SET_FORMDATA](state, val) {
</span></span><span class="line"><span class="cl">            if (val.index == 0) {
</span></span><span class="line"><span class="cl">                state.firstFormData = val.data;
</span></span><span class="line"><span class="cl">            } else if (val.index == 1) {
</span></span><span class="line"><span class="cl">                state.secondFormData = val.data;
</span></span><span class="line"><span class="cl">            } else if (val.index == 2) {
</span></span><span class="line"><span class="cl">                state.thirdFormData = val.data;
</span></span><span class="line"><span class="cl">            } else if (val.index == 3) {
</span></span><span class="line"><span class="cl">                state.finalFormData = val.data;
</span></span><span class="line"><span class="cl">            }
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">正常情况下，我们一个操作，可能会同时修改多个state中的属性，那么就意味着一个操作执行多个mutation中的方法。所以定义一个action将多个方法封装成一个函数。
</span></span><span class="line"><span class="cl">    actions: {
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">        [TOGGLE_SLIDER]({ commit }) {
</span></span><span class="line"><span class="cl">            commit(TOGGLE_SLIDER);
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        [SET_TOKEN]({ commit }, token) {
</span></span><span class="line"><span class="cl">            commit(SET_TOKEN, token);
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        [SET_UNAME]({ commit }, uname) {
</span></span><span class="line"><span class="cl">            commit(SET_UNAME, uname);
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        [SET_MENU_LIST]({ commit }, menuList) {
</span></span><span class="line"><span class="cl">            commit(SET_MENU_LIST, menuList);
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        [SET_ACTIVE]({ commit }, val) {
</span></span><span class="line"><span class="cl">            commit(SET_ACTIVE, val);
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        [SET_MENU]({ commit }, val) {
</span></span><span class="line"><span class="cl">            commit(SET_MENU, val);
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        [SET_TASK_ID]({ commit }, val) {
</span></span><span class="line"><span class="cl">            commit(SET_TASK_ID, val);
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        [SET_FORMDATA]({ commit }, val) {
</span></span><span class="line"><span class="cl">            commit(SET_FORMDATA, val);
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        [SET_FILE]({ commit }, val) {
</span></span><span class="line"><span class="cl">            commit(SET_FILE, val);
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        setUserId({ commit }, val) {
</span></span><span class="line"><span class="cl">            commit(&#39;setUserId&#39;, val);
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        setDataDetail({ commit }, val) {
</span></span><span class="line"><span class="cl">            commit(&#39;setDataDetail&#39;, val);
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        setTableName({ commit }, val) {
</span></span><span class="line"><span class="cl">            commit(&#39;setTableName&#39;, val);
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">        [SET_PERMISSION_LIST]({ commit }, menuList) {
</span></span><span class="line"><span class="cl">            let allMenus = XE.filterTree(menuList, (item) =&gt; item.type == 1);
</span></span><span class="line"><span class="cl">            let permissionList = [];
</span></span><span class="line"><span class="cl">            allMenus.forEach((item) =&gt; {
</span></span><span class="line"><span class="cl">                if (item.children &amp;&amp; item.children.length &gt; 0) {
</span></span><span class="line"><span class="cl">                    item.children.forEach((menu) =&gt; {
</span></span><span class="line"><span class="cl">                        permissionList.push(
</span></span><span class="line"><span class="cl">                            `${item.url}/${item.id}/${menu.menu}`
</span></span><span class="line"><span class="cl">                        );
</span></span><span class="line"><span class="cl">                    });
</span></span><span class="line"><span class="cl">                }
</span></span><span class="line"><span class="cl">            });
</span></span><span class="line"><span class="cl">            commit(SET_PERMISSION_LIST, permissionList);
</span></span><span class="line"><span class="cl">        },
</span></span><span class="line"><span class="cl">    },
</span></span><span class="line"><span class="cl">};
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="项目中的实例百度">项目中的实例（百度）</h1>
<p>在组合API中使用vuex，就需要在setup钩子函数中进行手动调用。</p>
<p>模版中</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;template&gt;
</span></span><span class="line"><span class="cl">  &lt;div class=&#34;player&#34;&gt;
</span></span><span class="line"><span class="cl">    &lt;div
</span></span><span class="line"><span class="cl">      class=&#34;normal-player&#34;
</span></span><span class="line"><span class="cl">      v-show=&#34;fullScreen&#34;
</span></span><span class="line"><span class="cl">    &gt;
</span></span><span class="line"><span class="cl">      &lt;!--  使用v-if避免currentSong没有值的时候被渲染 --&gt;
</span></span><span class="line"><span class="cl">      &lt;!-- 使用template避免产生多余的dom层 --&gt;
</span></span><span class="line"><span class="cl">      &lt;template v-if=&#34;currentSong&#34;&gt;
</span></span><span class="line"><span class="cl">        &lt;div class=&#34;background&#34;&gt;
</span></span><span class="line"><span class="cl">          &lt;img :src=&#34;currentSong.pic&#34;&gt;
</span></span><span class="line"><span class="cl">        &lt;/div&gt;
</span></span><span class="line"><span class="cl">        &lt;div class=&#34;top&#34;&gt;
</span></span><span class="line"><span class="cl">          &lt;div
</span></span><span class="line"><span class="cl">            class=&#34;back&#34;
</span></span><span class="line"><span class="cl">            @click=&#34;goBack&#34;
</span></span><span class="line"><span class="cl">          &gt;
</span></span><span class="line"><span class="cl">            &lt;i class=&#34;icon-back&#34;&gt;&lt;/i&gt;
</span></span><span class="line"><span class="cl">          &lt;/div&gt;
</span></span><span class="line"><span class="cl">          &lt;h1 class=&#34;title&#34;&gt;{{currentSong.name}}&lt;/h1&gt;
</span></span><span class="line"><span class="cl">        &lt;/div&gt;
</span></span><span class="line"><span class="cl">      &lt;/template&gt;
</span></span><span class="line"><span class="cl">    &lt;/div&gt;
</span></span><span class="line"><span class="cl">    &lt;audio
</span></span><span class="line"><span class="cl">      ref=&#34;audioRef&#34;
</span></span><span class="line"><span class="cl">    &gt;&lt;/audio&gt;
</span></span><span class="line"><span class="cl">  &lt;/div&gt;
</span></span><span class="line"><span class="cl">&lt;/template&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>JS</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// vuex提供useStore专门从vuex中拿数据的方法
</span></span><span class="line"><span class="cl">import { useStore } from &#39;vuex&#39;
</span></span><span class="line"><span class="cl">// 如果需要在组合api中使用计算监听 那么就要单独引入
</span></span><span class="line"><span class="cl">import { computed, watch, ref } from &#39;vue&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">export default {
</span></span><span class="line"><span class="cl">  // 对于复杂的组件 将其中的各个逻辑进行拆分成不同文件
</span></span><span class="line"><span class="cl">  setup() {
</span></span><span class="line"><span class="cl">    // 获取的时候要先定义一个ref对象
</span></span><span class="line"><span class="cl">    const audioRef = ref(null)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    // 这个store可以理解为createStore中返回的实例，其中含有state、getters等属性
</span></span><span class="line"><span class="cl">    const store = useStore()
</span></span><span class="line"><span class="cl">    // setup中的响应式需要自己去处理，所以要使用computed（）这个API
</span></span><span class="line"><span class="cl">    // 让state.fullScreen变成一个响应式的
</span></span><span class="line"><span class="cl">    // 记得必须要返回转化的计算属性
</span></span><span class="line"><span class="cl">    const fullScreen = computed(() =&gt; store.state.fullScreen)
</span></span><span class="line"><span class="cl">    const currentSong = computed(() =&gt; store.getters.currentSong)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    // 监听currentSong的属性变化，如果变化了就重新给audio赋值
</span></span><span class="line"><span class="cl">    watch(currentSong, (newSong) =&gt; {
</span></span><span class="line"><span class="cl">      if (!newSong.id || !newSong.url) {
</span></span><span class="line"><span class="cl">        return
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">      // 通过audioRef.value获取到audio的DOM元素
</span></span><span class="line"><span class="cl">      const audioEl = audioRef.value
</span></span><span class="line"><span class="cl">      audioEl.src = newSong.url
</span></span><span class="line"><span class="cl">      audioEl.play()
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    // 通过store.commit方法，提交一个修改操作
</span></span><span class="line"><span class="cl">    function goBack() {
</span></span><span class="line"><span class="cl">      store.commit(&#39;setFullScreen&#39;, false)
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    // 只有返回出去 才能被模板获取到
</span></span><span class="line"><span class="cl">    return {
</span></span><span class="line"><span class="cl">      audioRef,
</span></span><span class="line"><span class="cl">      fullScreen,
</span></span><span class="line"><span class="cl">      currentSong,
</span></span><span class="line"><span class="cl">      // 返回方法，模板中可以使用goback()
</span></span><span class="line"><span class="cl">      goBack
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><ol>
<li>获取vuex中的实例</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// vuex提供useStore专门从vuex中拿数据的方法
</span></span><span class="line"><span class="cl">import { useStore } from &#39;vuex&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">setup(){
</span></span><span class="line"><span class="cl">  // 这个store可以理解为createStore中返回的实例，其中含有state、getters等属性
</span></span><span class="line"><span class="cl">  const store = useStore()
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>获取vuex中的state和getters</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// setup中的响应式需要自己去处理，所以要使用computed（）这个API
</span></span><span class="line"><span class="cl">// 让state.fullScreen变成一个响应式的
</span></span><span class="line"><span class="cl">// 记得必须要返回转化的计算属性
</span></span><span class="line"><span class="cl">import { computed } from &#39;vue&#39;
</span></span><span class="line"><span class="cl">// 直接返回 state中字段的属性
</span></span><span class="line"><span class="cl">const fullScreen = computed(() =&gt; store.state.fullScreen)
</span></span><span class="line"><span class="cl">// 执行vuex中的getters方法
</span></span><span class="line"><span class="cl">const currentSong = computed(() =&gt; store.getters.currentSong)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 只有返回出去 才能被模板获取到
</span></span><span class="line"><span class="cl">return {
</span></span><span class="line"><span class="cl">   fullScreen,
</span></span><span class="line"><span class="cl">   currentSong
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>执行mutations</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">setup() {
</span></span><span class="line"><span class="cl">    // 通过store.commit方法，提交一个修改操作
</span></span><span class="line"><span class="cl">    function goBack() {
</span></span><span class="line"><span class="cl">      store.commit(&#39;setFullScreen&#39;, false)
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">    // 只有返回出去 才能被模板获取到
</span></span><span class="line"><span class="cl">    return {
</span></span><span class="line"><span class="cl">      // 返回方法，模板中可以使用goback()
</span></span><span class="line"><span class="cl">      goBack
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">通过store.commit执行mutations中定义的方法，并对其传参。
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>使用watch监听并获取元素DOM</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import { watch, ref } from &#39;vue&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">setup() {
</span></span><span class="line"><span class="cl">    // 获取的时候要先定义一个ref对象
</span></span><span class="line"><span class="cl">    // 注意 也要在模板元素上加 &lt;audio ref=&#34;audioRef&#34;&gt;
</span></span><span class="line"><span class="cl">    const audioRef = ref(null)
</span></span><span class="line"><span class="cl">    // 监听currentSong的值变化，如果变化了就重新给audio元素赋值
</span></span><span class="line"><span class="cl">    watch(currentSong, (newSong) =&gt; {
</span></span><span class="line"><span class="cl">      if (!newSong.id || !newSong.url) {
</span></span><span class="line"><span class="cl">        return
</span></span><span class="line"><span class="cl">      }
</span></span><span class="line"><span class="cl">      // 通过audioRef.value获取到audio的DOM元素 固定套路
</span></span><span class="line"><span class="cl">      const audioEl = audioRef.value
</span></span><span class="line"><span class="cl">      audioEl.src = newSong.url
</span></span><span class="line"><span class="cl">      audioEl.play()
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="5">
<li>在setup中获取计算属性的值</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> &lt;i :class=&#34;playIcon&#34;&gt;&lt;/i&gt;
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"> import { computed } from &#39;vue&#39;
</span></span><span class="line"><span class="cl"> import { useStore } from &#39;vuex&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> setup() {
</span></span><span class="line"><span class="cl">    const store = useStore()
</span></span><span class="line"><span class="cl">    // 从vuex中取出state.playing字段
</span></span><span class="line"><span class="cl">    const playing = computed(() =&gt; store.state.playing)
</span></span><span class="line"><span class="cl">    // 因为playing是一个计算属性，所以在js中要通过playing.value获取它的值
</span></span><span class="line"><span class="cl">    const playIcon = computed(() =&gt; {
</span></span><span class="line"><span class="cl">      return playing.value ? &#39;icon-pause&#39; : &#39;icon-play&#39;
</span></span><span class="line"><span class="cl">    })
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    return {
</span></span><span class="line"><span class="cl">        playIcon
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl"> }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">这里有个疑问：为什么需要用playing.value进行判断呢？之前判断player是否显示的fullscreen都是直接用的。
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">答：因为 playing 是一个计算属性，在 JS 中需要通过 .value 获取它的值。
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="6">
<li>在setup中使用actions</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">从不同文件角度进行分析：
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 在player.vue
</span></span><span class="line"><span class="cl">&lt;i @click=&#34;changeMode&#34;&gt;&lt;/i&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">import useMode from &#39;./use-mode&#39;
</span></span><span class="line"><span class="cl">setup() {
</span></span><span class="line"><span class="cl">    const { changeMode } = useMode()
</span></span><span class="line"><span class="cl">    return {
</span></span><span class="line"><span class="cl">        // 将方法返回给模板
</span></span><span class="line"><span class="cl">        changeMode
</span></span><span class="line"><span class="cl">    }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// 在use-mode.js文件
</span></span><span class="line"><span class="cl">import { useStore } from &#39;vuex&#39;
</span></span><span class="line"><span class="cl">import { computed } from &#39;vue&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">export default function useMode() {
</span></span><span class="line"><span class="cl">  const store = useStore()
</span></span><span class="line"><span class="cl">  const playMode = computed(() =&gt; store.state.playMode)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  function changeMode () {
</span></span><span class="line"><span class="cl">    // 这样取值结果值就在0,1,2之间
</span></span><span class="line"><span class="cl">    // 在js中获取计算属性的值要使用.value
</span></span><span class="line"><span class="cl">    const mode = (playMode.value + 1) % 3
</span></span><span class="line"><span class="cl">    // 执行一个actions-changeMode，传递参数mode
</span></span><span class="line"><span class="cl">    store.dispatch(&#39;changeMode&#39;, mode)
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  // 注意 这里返回的必须是一个对象！这样接收的时候使用解构赋值接收
</span></span><span class="line"><span class="cl">  return {
</span></span><span class="line"><span class="cl">    changeMode
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p>这里执行vuex中的actions中封装的方法，要使用：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">const store = useStore()
</span></span><span class="line"><span class="cl">store.dispatch(&#39;actions方法名&#39;, 参数);
</span></span></code></pre></td></tr></table>
</div>
</div><p>actions中封装的changeMoe方法(actions就是封装了多个Mutations修改方法的函数)：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// getters也可以被解构 commit是可以提交mutation的方法, state是定义的数据字段状态
</span></span><span class="line"><span class="cl">export function changeMode({ commit, state, getters }, mode) {
</span></span><span class="line"><span class="cl">  // 先从getters中拿到当前正在播放歌曲（对象）的Id
</span></span><span class="line"><span class="cl">  const currentId = getters.currentSong.id
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  // 设置提交Mutation，通过mutation方法修改state中的属性
</span></span><span class="line"><span class="cl">  commit(&#39;setPlaylist&#39;, state.sequenceList)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  // 在修改后的playlist中找到这个ID对应的这首歌，找到它的索引之后再提交commit
</span></span><span class="line"><span class="cl">  const index = state.playlist.findIndex((song) =&gt; {
</span></span><span class="line"><span class="cl">    return song.id === currentId
</span></span><span class="line"><span class="cl">  })
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  // 修改当前正在播放的歌曲的索引
</span></span><span class="line"><span class="cl">  commit(&#39;setCurrentIndex&#39;, index)
</span></span><span class="line"><span class="cl">  // 修改播放模式
</span></span><span class="line"><span class="cl">  commit(&#39;setPlayMode&#39;, mode)
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="总结">总结</h1>
<blockquote>
<p>Vuex主要用于管理Vue组件中共享的数据。
Vuex中有state、mutation、action、getter等核心概念。
获取state可以通过this.$store.state.xx或者是通过定义mapState来获取。
修改state中的变量需要通过mutation函数实现，而mutation的触发由两种方式，一种是通过this.$store.commit()函数，另外一种就是通过mapMutations来实现。
mutation只能用于修改数据，而Actions可以实现异步操作。
通过Actions的异步操作+mutation的修改数据，可以实现异步修改数据。调用Actions有两种方式，第一种是通过this.$store.dispatch来调用，另外一种方式是通过mapActions来调用。
Getters函数用于对Store中数据进行加工，不会修改原本Store中的数据；Getters中的数据会受Store中数据进行影响。</p>
</blockquote>
<h1 id="createstore">createstore</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import { createStore } from &#39;vuex&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">const store = createStore({ ...options })
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import { createStore } from &#34;vuex&#34;;
</span></span><span class="line"><span class="cl">import getters from &#34;./getters&#34;;
</span></span><span class="line"><span class="cl">export default createStore({
</span></span><span class="line"><span class="cl">    getters,
</span></span><span class="line"><span class="cl">    modules,
</span></span><span class="line"><span class="cl">});
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="usestore">useStore</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">useStore&lt;S = any&gt;(injectKey?: InjectionKey&lt;Store&lt;S&gt;&gt; | string): Store&lt;S&gt;;
</span></span></code></pre></td></tr></table>
</div>
</div><p>在 <code>setup</code> 钩子函数中调用该方法可以获取注入的 store。当使用组合式 API 时，可以通过调用该方法检索 store。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import { useStore } from &#39;vuex&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">export default {
</span></span><span class="line"><span class="cl">  setup () {
</span></span><span class="line"><span class="cl">    const store = useStore()
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p>首先，使用 Vue 的 <code>InjectionKey</code> 接口声明一个 injection key。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// store.ts
</span></span><span class="line"><span class="cl">import { InjectionKey } from &#39;vue&#39;
</span></span><span class="line"><span class="cl">import { createStore, Store } from &#39;vuex&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">export interface State {
</span></span><span class="line"><span class="cl">  count: number
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">export const key: InjectionKey&lt;Store&lt;State&gt;&gt; = Symbol()
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">export const store = createStore&lt;State&gt;({
</span></span><span class="line"><span class="cl">  state: {
</span></span><span class="line"><span class="cl">    count: 0
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">})
</span></span></code></pre></td></tr></table>
</div>
</div><p>然后，将定义好的 key 作为第二个参数传递给 <code>app.use</code> 方法。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// main.ts
</span></span><span class="line"><span class="cl">import { createApp } from &#39;vue&#39;
</span></span><span class="line"><span class="cl">import { store, key } from &#39;./store&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">const app = createApp({ ... })
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">app.use(store, key)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">app.mount(&#39;#app&#39;)
</span></span></code></pre></td></tr></table>
</div>
</div><p>最后，将 key 传递给 <code>useStore</code> 方法以获取指定类型的 store 实例。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// 在 vue 组件内
</span></span><span class="line"><span class="cl">import { useStore } from &#39;vuex&#39;
</span></span><span class="line"><span class="cl">import { key } from &#39;./store&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">export default {
</span></span><span class="line"><span class="cl">  setup () {
</span></span><span class="line"><span class="cl">    const store = useStore(key)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    store.state.count // 类型为 number
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="vue-provide">vue-provide</h1>
<h2 id="提供">提供</h2>
<p>用<code>provide</code>和解决道具钻孔问题<code>inject</code>。父组件可以充当其所有后代的<strong>依赖提供者。<strong>后代树中的任何组件，无论它有多深，都可以</strong>注入</strong>其父链中组件提供的依赖项。</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-16%2017.02.35.png"
        data-srcset="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-16%2017.02.35.png, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-16%2017.02.35.png 1.5x, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-16%2017.02.35.png 2x"
        data-sizes="auto"
        alt="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-02-16%2017.02.35.png"
        title="截屏2023-02-16 17.02.35" /></p>
<p>要向组件的后代提供数据，请使用以下<a href="https://vuejs.org/api/composition-api-dependency-injection.html#provide" target="_blank" rel="noopener noreffer "><code>provide()</code></a>函数：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;script setup&gt;
</span></span><span class="line"><span class="cl">import { provide } from &#39;vue&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">provide(/* key */ &#39;message&#39;, /* value */ &#39;hello!&#39;)
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果不使用<code>&lt;script setup&gt;</code>，请确保<code>provide()</code>在内部同步调用<code>setup()</code>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import { provide } from &#39;vue&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">export default {
</span></span><span class="line"><span class="cl">  setup() {
</span></span><span class="line"><span class="cl">    provide(/* key */ &#39;message&#39;, /* value */ &#39;hello!&#39;)
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><p>该<code>provide()</code>函数接受两个参数。第一个参数称为<strong>注入密钥</strong>，可以是字符串或<code>Symbol</code>. 后代组件使用注入键来查找要注入的所需值。单个组件可以<code>provide()</code>使用不同的注入键多次调用以提供不同的值。</p>
<p>第二个参数是提供的值。该值可以是任何类型，包括反应状态，例如 refs：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import { ref, provide } from &#39;vue&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">const count = ref(0)
</span></span><span class="line"><span class="cl">provide(&#39;key&#39;, count)
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="应用级提供">应用级提供</h2>
<p>除了在组件中提供数据，我们还可以在应用层提供：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import { createApp } from &#39;vue&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">const app = createApp({})
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">app.provide(/* key */ &#39;message&#39;, /* value */ &#39;hello!&#39;)
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="注入">注入</h2>
<p>要注入祖先组件提供的数据，请使用以下<a href="https://vuejs.org/api/composition-api-dependency-injection.html#inject" target="_blank" rel="noopener noreffer "><code>inject()</code></a>函数：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;script setup&gt;
</span></span><span class="line"><span class="cl">import { inject } from &#39;vue&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">const message = inject(&#39;message&#39;)
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>如果不使用<code>&lt;script setup&gt;</code>，<code>inject()</code>则只能在内部同步调用<code>setup()</code>：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">import { inject } from &#39;vue&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">export default {
</span></span><span class="line"><span class="cl">  setup() {
</span></span><span class="line"><span class="cl">    const message = inject(&#39;message&#39;)
</span></span><span class="line"><span class="cl">    return { message }
</span></span><span class="line"><span class="cl">  }
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="注入默认值">注入默认值</h3>
<p>默认情况下，inject假定注入的密钥在父链中的某处提供。在未提供密钥的情况下，将出现运行时警告。</p>
<p>如果我们想让注入的属性与可选提供者一起工作，我们需要声明一个默认值，类似于 props：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-mysql" data-lang="mysql"><span class="line"><span class="cl"><span class="o">//</span><span class="w"> </span><span class="o">`</span><span class="n">value</span><span class="o">`</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="s2">&#34;default value&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="o">//</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">matching</span><span class="w"> </span><span class="s2">&#34;message&#34;</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">provided</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">const</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">inject</span><span class="p">(</span><span class="s1">&#39;message&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;default value&#39;</span><span class="p">)</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>在某些情况下，可能需要通过调用函数或实例化新类来创建默认值。为了避免在不使用可选值的情况下进行不必要的计算或副作用，我们可以使用工厂函数来创建默认值：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">const value = inject(&#39;key&#39;, () =&gt; new ExpensiveClass())
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="使用反应性">使用反应性</h2>
<p>当使用反应式提供/注入值时，**建议尽可能将任何突变保留在*提供者***内部的反应状态。这确保了所提供的状态及其可能的变化位于同一个组件中，使将来更容易维护。</p>
<p>有时我们可能需要更新来自注入器组件的数据。在这种情况下，我们建议提供一个负责改变状态的函数：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;!-- inside provider component --&gt;
</span></span><span class="line"><span class="cl">&lt;script setup&gt;
</span></span><span class="line"><span class="cl">import { provide, ref } from &#39;vue&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">const location = ref(&#39;North Pole&#39;)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">function updateLocation() {
</span></span><span class="line"><span class="cl">  location.value = &#39;South Pole&#39;
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">provide(&#39;location&#39;, {
</span></span><span class="line"><span class="cl">  location,
</span></span><span class="line"><span class="cl">  updateLocation
</span></span><span class="line"><span class="cl">})
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;!-- in injector component --&gt;
</span></span><span class="line"><span class="cl">&lt;script setup&gt;
</span></span><span class="line"><span class="cl">import { inject } from &#39;vue&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">const { location, updateLocation } = inject(&#39;location&#39;)
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">&lt;template&gt;
</span></span><span class="line"><span class="cl">  &lt;button @click=&#34;updateLocation&#34;&gt;{{ location }}&lt;/button&gt;
</span></span><span class="line"><span class="cl">&lt;/template&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p><a href="https://vuejs.org/api/reactivity-core.html#readonly" target="_blank" rel="noopener noreffer "><code>readonly()</code></a>最后，如果你想确保传递的数据<code>provide</code>不会被注入器组件改变，你可以将提供的值包裹起来。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">&lt;script setup&gt;
</span></span><span class="line"><span class="cl">import { ref, provide, readonly } from &#39;vue&#39;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">const count = ref(0)
</span></span><span class="line"><span class="cl">provide(&#39;read-only-count&#39;, readonly(count))
</span></span><span class="line"><span class="cl">&lt;/script&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="es6-map-set">ES6 Map Set</h1>
<h2 id="set">Set</h2>
<p>Set是ES6中新增的数据结构，它类似于数组，但是Set数据中的元素都是唯一的，没有重复值的;
Set构造函数参数：初始化参数的时候，参数必须是实现iterator接口的数据类型，否则会抛出异常；<img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2014.34.14.png"
        data-srcset="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2014.34.14.png, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2014.34.14.png 1.5x, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2014.34.14.png 2x"
        data-sizes="auto"
        alt="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2014.34.14.png"
        title="截屏2023-03-03 14.34.14" /></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">const set = new Set([1,2,3]);
</span></span><span class="line"><span class="cl">const set1 = new Set(&#39;1233&#39;);
</span></span><span class="line"><span class="cl">const set2 = new Set(1);
</span></span><span class="line"><span class="cl">//VM387:1 Uncaught TypeError: number 1 is not iterable (cannot read property Symbol(Symbol.iterator))
</span></span><span class="line"><span class="cl">    at new Set (&lt;anonymous&gt;)
</span></span><span class="line"><span class="cl">    at &lt;anonymous&gt;:1:12
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// 注意：方法中的参数是元素的值，不是元素的索引
</span></span><span class="line"><span class="cl"> const s = new Set();
</span></span><span class="line"><span class="cl"> s.add(1).add(2).add(3); // 向 set 结构中添加值，可以链式操作
</span></span><span class="line"><span class="cl"> s.delete(2)             // 删除 set 结构中的2值   
</span></span><span class="line"><span class="cl"> s.has(1)                // 表示 set 结构中是否有1这个值 
</span></span><span class="line"><span class="cl"> s.clear()               // 清除 set 结构中的所有值
</span></span><span class="line"><span class="cl"> s.size()               // 统计 Set 中的元素个数
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 将set转化为数组
</span></span><span class="line"><span class="cl">const arr = Array.from(s)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 遍历set
</span></span><span class="line"><span class="cl">let set=new Set([&#39;red&#39;,&#39;blue&#39;,&#39;green&#39;]);
</span></span><span class="line"><span class="cl">// 遍历方法1，不常用
</span></span><span class="line"><span class="cl">for(let key of set.keys()){
</span></span><span class="line"><span class="cl">	console.log(key);//red,blue,green
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">// 遍历方法2，不常用
</span></span><span class="line"><span class="cl">for(let value of set.values()){
</span></span><span class="line"><span class="cl">	console.log(value);//red,blue,green
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">// 遍历方法3，常用
</span></span><span class="line"><span class="cl">s.forEach(value =&gt; console.log(value)) //red,blue,green
</span></span></code></pre></td></tr></table>
</div>
</div><p>属性和方法</p>
<ol>
<li>Set.prototype.add()方法</li>
</ol>
<p>Set.prototype.add(value);
参数1 value：需要添加到set元素中的值，不能够添加重复值；
返回值：返回实例化对象Set本身；</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">var s1 = new Set([1, 2, 3]);
</span></span><span class="line"><span class="cl">var s2 = s1.add(4);
</span></span><span class="line"><span class="cl">console.log(s1); // Set {1, 2, 3, 4}
</span></span><span class="line"><span class="cl">console.log(s1 === s2); // true
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>Set.prototype.has()方法</li>
</ol>
<p>Set.prototype.has(value)；
参数1 value：必填项，测试该值是否存在Set对象中；
返回值：布尔值，false表示不存在，true表示存在；</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">var s1 = new Set([1, 2, 3, 4]);
</span></span><span class="line"><span class="cl">s1.has(4); // true
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>Set.prototype.size</li>
</ol>
<p>size属性将返回Set对象的元素个数；</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// add方法可以链式调用
</span></span><span class="line"><span class="cl">var mySet = new Set();
</span></span><span class="line"><span class="cl">mySet.add(1).add(2).add(3);
</span></span><span class="line"><span class="cl">mySet.size; // 3
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>Set.prototype.delete()方法</li>
</ol>
<p>Set.prototype.delete(value)；
参数1 value：需要删除的元素；
返回值：成功删除返回true，否则返回false；</p>
<ol start="5">
<li>Set.prototype.clear()方法</li>
</ol>
<p>clear()方法用来清空一个Set对象中的所有元素；</p>
<ol start="6">
<li>Set遍历的方法</li>
</ol>
<p>Set.prototype.keys()方法，Set.prototype.values()方法，Set.prototype.entires()方法</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">var s1 = new Set([1, 2, 3]);
</span></span><span class="line"><span class="cl">var iterator = s1.keys();
</span></span><span class="line"><span class="cl">var iterator = s1.values();
</span></span><span class="line"><span class="cl">var iterator = s1.entries();
</span></span><span class="line"><span class="cl">console.log(iterator.next());
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2013.31.29.png"
        data-srcset="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2013.31.29.png, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2013.31.29.png 1.5x, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2013.31.29.png 2x"
        data-sizes="auto"
        alt="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2013.31.29.png"
        title="截屏2023-03-03 13.31.29" /></p>
<p>keys和values返回的结果相同，Set中的key等于value，这也是新增时add只传一个参数的原因</p>
<p>应用场景</p>
<ol>
<li>数组去重</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">var arr = [1, 2, 3, undefined,undefined,null,null, NaN, 1, 2, 3, NaN],
</span></span><span class="line"><span class="cl">    set = new Set(arr);
</span></span><span class="line"><span class="cl">console.log([...set]); 
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// 借助Array.from() 或 ...（扩展运算符）
</span></span><span class="line"><span class="cl">let arrs = [1,1,3,3,4,5,6];
</span></span><span class="line"><span class="cl">let s = new Set(arrs); 
</span></span><span class="line"><span class="cl">// 方法1：利用 ...  
</span></span><span class="line"><span class="cl">let arr1 = [...s];
</span></span><span class="line"><span class="cl">// 方法二：利用 Array.from()
</span></span><span class="line"><span class="cl">let arr2 =  Array.from(s)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">console.log(arr1);// 1,3,4,5,6
</span></span><span class="line"><span class="cl">console.log(arr2);// 1,3,4,5,6
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2013.34.53-20230303133502592.png"
        data-srcset="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2013.34.53-20230303133502592.png, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2013.34.53-20230303133502592.png 1.5x, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2013.34.53-20230303133502592.png 2x"
        data-sizes="auto"
        alt="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2013.34.53-20230303133502592.png"
        title="截屏2023-03-03 13.34.53" /></p>
<ol start="2">
<li>数组去重后的实现映射数组</li>
</ol>
<p>set实例本身没有map，filter等数组属性</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">let set = new Set([1,2,3,4,5,6,7]);
</span></span><span class="line"><span class="cl">let set2 = new Set([...set].map(value =&gt; value * 2));
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">let set = new Set([1,2,3]);
</span></span><span class="line"><span class="cl">let set1 = new Set(Array.from(set, vlaue=&gt;value * 2));
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2013.44.54.png"
        data-srcset="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2013.44.54.png, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2013.44.54.png 1.5x, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2013.44.54.png 2x"
        data-sizes="auto"
        alt="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2013.44.54.png"
        title="截屏2023-03-03 13.44.54" /></p>
<ol start="3">
<li>数组去重后，过滤返回新的数组</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">let set = new Set([1,2,3,4,5,6,7,1,2,3]);
</span></span><span class="line"><span class="cl">let set2 = new Set([...set].filter(x =&gt; (x%2) == 0));
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2013.50.30.png"
        data-srcset="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2013.50.30.png, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2013.50.30.png 1.5x, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2013.50.30.png 2x"
        data-sizes="auto"
        alt="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2013.50.30.png"
        title="截屏2023-03-03 13.50.30" /></p>
<ol start="4">
<li>循环递归调用</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">const s1 = new Set([1])
</span></span><span class="line"><span class="cl">s1.forEach(item =&gt; {s1.delete(1);s1.add(1);console.log(&#39;end&#39;)})
</span></span><span class="line"><span class="cl">//会一直循环调用forEach 里面的代码 不断打印end
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="5">
<li>数组的交集、并集和差集</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">let arr1 = [1,2,3];
</span></span><span class="line"><span class="cl">let arr2 = [4,3,2];
</span></span><span class="line"><span class="cl">let a=new Set(arr1);
</span></span><span class="line"><span class="cl">let b=new Set(arr2);
</span></span><span class="line"><span class="cl">// 并集
</span></span><span class="line"><span class="cl">let union=new Set([...a, ...b]);
</span></span><span class="line"><span class="cl">console.log(union);// 1,2,3,4
</span></span><span class="line"><span class="cl">// 交集(借助数组的filter方法)
</span></span><span class="line"><span class="cl">let intersect=new Set([...a].filter(x=&gt;b.has(x)));
</span></span><span class="line"><span class="cl">console.log(intersect);// 2,3
</span></span><span class="line"><span class="cl">// 差集(借助数组的filter方法)
</span></span><span class="line"><span class="cl">let difference=new Set([...a].filter(x=&gt;!b.has(x)));
</span></span><span class="line"><span class="cl">console.log(difference);//1
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="map">map</h2>
<p>传统的对象属性键名为字符串，并能够真真正正的实现属性键 — 属性值的对应；ES6Map数据结构实现的出现，实现对象键名与键值一 一对应的关系；</p>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2014.36.54.png"
        data-srcset="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2014.36.54.png, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2014.36.54.png 1.5x, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2014.36.54.png 2x"
        data-sizes="auto"
        alt="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2014.36.54.png"
        title="截屏2023-03-03 14.36.54" /></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// map的基本操作
</span></span><span class="line"><span class="cl">const map=new Map();
</span></span><span class="line"><span class="cl">map.set(1,&#39;a&#39;).set(2,&#39;b&#39;).set(3,&#39;c&#39;); // 链式新增/修改值，前面是键 后面是值
</span></span><span class="line"><span class="cl">map.get(1); // a 获取键对应的值 value
</span></span><span class="line"><span class="cl">map.has(2); // true 判断某个key是否存在
</span></span><span class="line"><span class="cl">map.delete(3); // true  删除某个key
</span></span><span class="line"><span class="cl">map.clear(); // 清除map所有成员
</span></span><span class="line"><span class="cl">map.size(); // 获取map中所有key的个数
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// map的遍历
</span></span><span class="line"><span class="cl">map.set(1,&#39;a&#39;).set(2,&#39;b&#39;).set(3,&#39;c&#39;);
</span></span><span class="line"><span class="cl">// 遍历全部的键
</span></span><span class="line"><span class="cl">for(let key of map.keys()){
</span></span><span class="line"><span class="cl">	console.log(key);//1,2,3
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">// 遍历全部的值
</span></span><span class="line"><span class="cl">for(let values of map.values()){
</span></span><span class="line"><span class="cl">	console.log(values);//a,b,c
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">// 遍历全部的键和值
</span></span><span class="line"><span class="cl">for(let [key,value] of map.entries()){
</span></span><span class="line"><span class="cl">	console.log(key,value);//1=&gt;a,2=&gt;b,3=&gt;c
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">// 遍历全部的键和值
</span></span><span class="line"><span class="cl">map.forEach(function(value,key){  // 注意这里的forEach是value在前，key在后
</span></span><span class="line"><span class="cl">	console.log(key,value);
</span></span><span class="line"><span class="cl">})
</span></span></code></pre></td></tr></table>
</div>
</div><ol>
<li>基本用法</li>
</ol>
<p>Map构造函数参数：必须已经部署iterator接口的数据结构；
此时构造函数参数中的每一个参数必须拥有双元的数组结构；</p>
<p>两种声明方式</p>
<ul>
<li>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">let map = new Map([[&#39;name&#39;, &#39;zhansan&#39;], [&#39;sex&#39;, &#39;male&#39;]]);
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">let items = [[&#39;name&#39;, &#39;zhansan&#39;], [&#39;sex&#39;, &#39;male&#39;]],
</span></span><span class="line"><span class="cl">map = new Map();
</span></span><span class="line"><span class="cl">items.forEach(function([key, value]){
</span></span><span class="line"><span class="cl">  map.set(key, value);
</span></span><span class="line"><span class="cl">});
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
<ol start="2">
<li>Map遍历的方法</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">const map = new Map([[&#39;name&#39;,&#39;zhangsan&#39;],[&#39;sex&#39;,&#39;male&#39;],[&#39;age&#39;,20]]);
</span></span><span class="line"><span class="cl">console.log(map.keys());
</span></span><span class="line"><span class="cl">console.log(map.values());
</span></span><span class="line"><span class="cl">console.log(map.entries());
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2014.12.53.png"
        data-srcset="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2014.12.53.png, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2014.12.53.png 1.5x, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2014.12.53.png 2x"
        data-sizes="auto"
        alt="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2014.12.53.png"
        title="截屏2023-03-03 14.12.53" /></p>
<ol start="3">
<li>Map.prototype.set()</li>
</ol>
<p>set()方法为Map对象添加或者更新一个指定键（key）和值（value）的新键值对；</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">var myMap = new Map();
</span></span><span class="line"><span class="cl">// 添加元素
</span></span><span class="line"><span class="cl">myMap.set(&#34;bar&#34;, &#34;foo&#34;);
</span></span><span class="line"><span class="cl">myMap.set(1, &#34;foobar&#34;);
</span></span><span class="line"><span class="cl">console.log(myMap);
</span></span><span class="line"><span class="cl">// 更新元素
</span></span><span class="line"><span class="cl">myMap.set(&#34;bar&#34;, &#39;goo&#39;);
</span></span><span class="line"><span class="cl">console.log(myMap);
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2014.15.14.png"
        data-srcset="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2014.15.14.png, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2014.15.14.png 1.5x, https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2014.15.14.png 2x"
        data-sizes="auto"
        alt="https://images-jsh.oss-cn-beijing.aliyuncs.com/ljl/%E6%88%AA%E5%B1%8F2023-03-03%2014.15.14.png"
        title="截屏2023-03-03 14.15.14" /></p>
<p>Map.set()设置属性时，属性名相同时，后面覆盖前面的键值；</p>
<p>Map键名覆盖的问题： 本质上与全等的运算方式类型，只是对待NaN问题上不同</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">const map = new Map();
</span></span><span class="line"><span class="cl">map.set(-0, 123);
</span></span><span class="line"><span class="cl">console.log(map.get(+0)); // 123
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">map.set(true,1);
</span></span><span class="line"><span class="cl">map.set(&#39;true&#39;,2);
</span></span><span class="line"><span class="cl">console.log(map.get(true)); // 1
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">map.set(NaN,123);
</span></span><span class="line"><span class="cl">map.set(NaN,456);
</span></span><span class="line"><span class="cl">console.log(map.get(NaN)); // 456
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>Map.prototype.get()方法</li>
</ol>
<p>get()方法返回某一个Map对象中的一个指定元素；
如果找不到相关的键名，则返回undefined；
注意不同的引用值数据类型作为键名，获取的数据不同；</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// 引用地址不同的情况;
</span></span><span class="line"><span class="cl">const map = new Map();
</span></span><span class="line"><span class="cl">map.set([5], 555);
</span></span><span class="line"><span class="cl">map.get([5]); // undefined
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">map.set({}, 555);
</span></span><span class="line"><span class="cl">console.log(map.get({})); // undefined
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 引用地址相同的情况
</span></span><span class="line"><span class="cl">var obj = {id:1};
</span></span><span class="line"><span class="cl">const map = new Map();
</span></span><span class="line"><span class="cl">map.set(obj, &#39;foo&#39;);
</span></span><span class="line"><span class="cl">console.log(map.get(obj)); // &#39;foo&#39;
</span></span></code></pre></td></tr></table>
</div>
</div><p>应用场景</p>
<ul>
<li>map转化为数组</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">const map=new Map([
</span></span><span class="line"><span class="cl">	[1,&#39;one&#39;],
</span></span><span class="line"><span class="cl">	[2,&#39;two&#39;],
</span></span><span class="line"><span class="cl">	[3,&#39;three&#39;]
</span></span><span class="line"><span class="cl">]);
</span></span><span class="line"><span class="cl">// 以数组的形式 输出所有key
</span></span><span class="line"><span class="cl">console.log([...map.keys()]);   // [1,2,3]
</span></span><span class="line"><span class="cl">// 以数组的形式 输出所有values
</span></span><span class="line"><span class="cl">console.log([...map.values()]); // one,two,three
</span></span><span class="line"><span class="cl">// 以二维数组的形式  输出所有键值对
</span></span><span class="line"><span class="cl">console.log([...map]);			// [1,one],[2,two],[3,three]
</span></span><span class="line"><span class="cl">// 以二维数组的形式  输出所有键值对
</span></span><span class="line"><span class="cl">console.log([...map.entries()]);// [1,one],[2,two],[3,three]
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Map 转化为对象</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// 声明map对象
</span></span><span class="line"><span class="cl">const map=new Map().set(&#39;yes&#39;,true).set(&#39;no&#39;,false);
</span></span><span class="line"><span class="cl">// 处理方法
</span></span><span class="line"><span class="cl">function strMapObj(strMap){
</span></span><span class="line"><span class="cl">    // 创建一个新对象
</span></span><span class="line"><span class="cl">	let obj=Object.create(null);
</span></span><span class="line"><span class="cl">    // 遍历循环strMap对象
</span></span><span class="line"><span class="cl">	for(let [key,value] of strMap){
</span></span><span class="line"><span class="cl">		obj[key]=value;
</span></span><span class="line"><span class="cl">	}
</span></span><span class="line"><span class="cl">    // 返回生成的对象
</span></span><span class="line"><span class="cl">	return obj;
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">console.log(strMapObj(map));//{yes:true,no:false}
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>对象转化为map</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">// 声明map对象
</span></span><span class="line"><span class="cl">const map=new Map().set(&#39;yes&#39;,true).set(&#39;no&#39;,false);
</span></span><span class="line"><span class="cl">// 处理方法
</span></span><span class="line"><span class="cl">function objToMap(obj){
</span></span><span class="line"><span class="cl">	let map=new Map();
</span></span><span class="line"><span class="cl">    // Object.keys() 返回
</span></span><span class="line"><span class="cl">	for(let key of Object.keys(obj)){
</span></span><span class="line"><span class="cl">		map.set(key,obj[key]);
</span></span><span class="line"><span class="cl">	}
</span></span><span class="line"><span class="cl">	return map;
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">console.log(strMapObj(map)); // yes=&gt;true,no=&gt;false
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="总结-1">总结</h2>
<p>和Set 对比
Map.prototype上的clear()、has()、size、delete()方法与Set.prototype上相同；唯一不同的是，Set是不存在键名的，键值与键名相同，所以没有get和set的方法，只有add方法；而Map具有键名和键值，所以对应set和get方法；</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2023-03-06</span>
            </div><div class="post-info-license">
                <span><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/vue%E7%AC%94%E8%AE%B0/index.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/vue/">vue</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav">
            <a href="/mac%E5%AE%89%E8%A3%85nvm/" class="next" rel="next" title="mac安装nvm切换Node版本">mac安装nvm切换Node版本<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2018 - 2023</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://github.com/buchi-xiangcai" target="_blank">佳丽</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/contrib/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/contrib/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/contrib/mhchem.min.js"></script><script type="text/javascript" src="/lib/cookieconsent/cookieconsent.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{},"cookieconsent":{"content":{"dismiss":"Got it!","link":"Learn more","message":"This website uses Cookies to improve your experience."},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":50,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
